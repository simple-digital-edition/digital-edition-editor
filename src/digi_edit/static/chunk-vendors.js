(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"0010":function(t,e,n){"use strict";n.r(e),n.d(e,"autoJoin",(function(){return D})),n.d(e,"baseKeymap",(function(){return V})),n.d(e,"chainCommands",(function(){return P})),n.d(e,"createParagraphNear",(function(){return w})),n.d(e,"deleteSelection",(function(){return s})),n.d(e,"exitCode",(function(){return b})),n.d(e,"joinBackward",(function(){return a})),n.d(e,"joinDown",(function(){return m})),n.d(e,"joinForward",(function(){return h})),n.d(e,"joinUp",(function(){return p})),n.d(e,"lift",(function(){return g})),n.d(e,"liftEmptyBlock",(function(){return x})),n.d(e,"macBaseKeymap",(function(){return L})),n.d(e,"newlineInCode",(function(){return v})),n.d(e,"pcBaseKeymap",(function(){return $})),n.d(e,"selectAll",(function(){return C})),n.d(e,"selectNodeBackward",(function(){return l})),n.d(e,"selectNodeForward",(function(){return f})),n.d(e,"selectParentNode",(function(){return k})),n.d(e,"setBlockType",(function(){return T})),n.d(e,"splitBlock",(function(){return S})),n.d(e,"splitBlockKeepMarks",(function(){return A})),n.d(e,"toggleMark",(function(){return N})),n.d(e,"wrapIn",(function(){return E}));var r=n("0ac0"),i=n("304a"),o=n("5313");function s(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function a(t,e,n){var i=t.selection,s=i.$cursor;if(!s||(n?!n.endOfTextblock("backward",t):s.parentOffset>0))return!1;var a=u(s);if(!a){var l=s.blockRange(),h=l&&Object(r["liftTarget"])(l);return null!=h&&(e&&e(t.tr.lift(l,h).scrollIntoView()),!0)}var f=a.nodeBefore;if(!f.type.spec.isolating&&M(t,a,e))return!0;if(0==s.parent.content.size&&(c(f,"end")||o["NodeSelection"].isSelectable(f))){if(e){var d=t.tr.deleteRange(s.before(),s.after());d.setSelection(c(f,"end")?o["Selection"].findFrom(d.doc.resolve(d.mapping.map(a.pos,-1)),-1):o["NodeSelection"].create(d.doc,a.pos-f.nodeSize)),e(d.scrollIntoView())}return!0}return!(!f.isAtom||a.depth!=s.depth-1)&&(e&&e(t.tr.delete(a.pos-f.nodeSize,a.pos).scrollIntoView()),!0)}function c(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function l(t,e,n){var r=t.selection,i=r.$head,s=r.empty,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;a=u(i)}var c=a&&a.nodeBefore;return!(!c||!o["NodeSelection"].isSelectable(c))&&(e&&e(t.tr.setSelection(o["NodeSelection"].create(t.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)}function u(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function h(t,e,n){var r=t.selection,i=r.$cursor;if(!i||(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size))return!1;var s=d(i);if(!s)return!1;var a=s.nodeAfter;if(M(t,s,e))return!0;if(0==i.parent.content.size&&(c(a,"start")||o["NodeSelection"].isSelectable(a))){if(e){var l=t.tr.deleteRange(i.before(),i.after());l.setSelection(c(a,"start")?o["Selection"].findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):o["NodeSelection"].create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}return!(!a.isAtom||s.depth!=i.depth-1)&&(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0)}function f(t,e,n){var r=t.selection,i=r.$head,s=r.empty,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;a=d(i)}var c=a&&a.nodeAfter;return!(!c||!o["NodeSelection"].isSelectable(c))&&(e&&e(t.tr.setSelection(o["NodeSelection"].create(t.doc,a.pos)).scrollIntoView()),!0)}function d(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function p(t,e){var n,i=t.selection,s=i instanceof o["NodeSelection"];if(s){if(i.node.isTextblock||!Object(r["canJoin"])(t.doc,i.from))return!1;n=i.from}else if(n=Object(r["joinPoint"])(t.doc,i.from,-1),null==n)return!1;if(e){var a=t.tr.join(n);s&&a.setSelection(o["NodeSelection"].create(a.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0}function m(t,e){var n,i=t.selection;if(i instanceof o["NodeSelection"]){if(i.node.isTextblock||!Object(r["canJoin"])(t.doc,i.to))return!1;n=i.to}else if(n=Object(r["joinPoint"])(t.doc,i.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0}function g(t,e){var n=t.selection,i=n.$from,o=n.$to,s=i.blockRange(o),a=s&&Object(r["liftTarget"])(s);return null!=a&&(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}function v(t,e){var n=t.selection,r=n.$head,i=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(i))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function y(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function b(t,e){var n=t.selection,r=n.$head,i=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;var s=r.node(-1),a=r.indexAfter(-1),c=y(s.contentMatchAt(a));if(!s.canReplaceWith(a,a,c))return!1;if(e){var l=r.after(),u=t.tr.replaceWith(l,l,c.createAndFill());u.setSelection(o["Selection"].near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0}function w(t,e){var n=t.selection,r=n.$from,i=n.$to;if(r.parent.inlineContent||i.parent.inlineContent)return!1;var s=y(r.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){var a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(a,s.createAndFill());c.setSelection(o["TextSelection"].create(c.doc,a+1)),e(c.scrollIntoView())}return!0}function x(t,e){var n=t.selection,i=n.$cursor;if(!i||i.parent.content.size)return!1;if(i.depth>1&&i.after()!=i.end(-1)){var o=i.before();if(Object(r["canSplit"])(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}var s=i.blockRange(),a=s&&Object(r["liftTarget"])(s);return null!=a&&(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}function S(t,e){var n=t.selection,s=n.$from,a=n.$to;if(t.selection instanceof o["NodeSelection"]&&t.selection.node.isBlock)return!(!s.parentOffset||!Object(r["canSplit"])(t.doc,s.pos))&&(e&&e(t.tr.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(e){var c=a.parentOffset==a.parent.content.size,l=t.tr;t.selection instanceof o["TextSelection"]&&l.deleteSelection();var u=0==s.depth?null:y(s.node(-1).contentMatchAt(s.indexAfter(-1))),h=c&&u?[{type:u}]:null,f=Object(r["canSplit"])(l.doc,l.mapping.map(s.pos),1,h);h||f||!Object(r["canSplit"])(l.doc,l.mapping.map(s.pos),1,u&&[{type:u}])||(h=[{type:u}],f=!0),f&&(l.split(l.mapping.map(s.pos),1,h),c||s.parentOffset||s.parent.type==u||!s.node(-1).canReplace(s.index(-1),s.indexAfter(-1),i["Fragment"].from(u.create(),s.parent))||l.setNodeMarkup(l.mapping.map(s.before()),u)),e(l.scrollIntoView())}return!0}function A(t,e){return S(t,e&&function(n){var r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();r&&n.ensureMarks(r),e(n)})}function k(t,e){var n,r=t.selection,i=r.$from,s=r.to,a=i.sharedDepth(s);return 0!=a&&(n=i.before(a),e&&e(t.tr.setSelection(o["NodeSelection"].create(t.doc,n))),!0)}function C(t,e){return e&&e(t.tr.setSelection(new o["AllSelection"](t.doc))),!0}function O(t,e,n){var i=e.nodeBefore,o=e.nodeAfter,s=e.index();return!!(i&&o&&i.type.compatibleContent(o.type))&&(!i.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(s,s+1)||!o.isTextblock&&!Object(r["canJoin"])(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),!0))}function M(t,e,n){var s,a,c=e.nodeBefore,l=e.nodeAfter;if(c.type.spec.isolating||l.type.spec.isolating)return!1;if(O(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(s=(a=c.contentMatchAt(c.childCount)).findWrapping(l.type))&&a.matchType(s[0]||l.type).validEnd){if(n){for(var u=e.pos+l.nodeSize,h=i["Fragment"].empty,f=s.length-1;f>=0;f--)h=i["Fragment"].from(s[f].create(null,h));h=i["Fragment"].from(c.copy(h));var d=t.tr.step(new r["ReplaceAroundStep"](e.pos-1,u,e.pos,u,new i["Slice"](h,1,0),s.length,!0)),p=u+2*s.length;Object(r["canJoin"])(d.doc,p)&&d.join(p),n(d.scrollIntoView())}return!0}var m=o["Selection"].findFrom(e,1),g=m&&m.$from.blockRange(m.$to),v=g&&Object(r["liftTarget"])(g);return null!=v&&v>=e.depth&&(n&&n(t.tr.lift(g,v).scrollIntoView()),!0)}function E(t,e){return function(n,i){var o=n.selection,s=o.$from,a=o.$to,c=s.blockRange(a),l=c&&Object(r["findWrapping"])(c,t,e);return!!l&&(i&&i(n.tr.wrap(c,l).scrollIntoView()),!0)}}function T(t,e){return function(n,r){var i=n.selection,o=i.from,s=i.to,a=!1;return n.doc.nodesBetween(o,s,(function(r,i){if(a)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)a=!0;else{var o=n.doc.resolve(i),s=o.index();a=o.parent.canReplaceWith(s,s+1,t)}})),!!a&&(r&&r(n.tr.setBlockType(o,s,t,e).scrollIntoView()),!0)}}function _(t,e,n){for(var r=function(r){var i=e[r],o=i.$from,s=i.$to,a=0==o.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(o.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},i=0;i<e.length;i++){var o=r(i);if(o)return o.v}return!1}function N(t,e){return function(n,r){var i=n.selection,o=i.empty,s=i.$cursor,a=i.ranges;if(o&&!s||!_(n.doc,a,t))return!1;if(r)if(s)t.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{for(var c=!1,l=n.tr,u=0;!c&&u<a.length;u++){var h=a[u],f=h.$from,d=h.$to;c=n.doc.rangeHasMark(f.pos,d.pos,t)}for(var p=0;p<a.length;p++){var m=a[p],g=m.$from,v=m.$to;c?l.removeMark(g.pos,v.pos,t):l.addMark(g.pos,v.pos,t.create(e))}r(l.scrollIntoView())}return!0}}function R(t,e){return function(n){if(!n.isGeneric)return t(n);for(var i=[],o=0;o<n.mapping.maps.length;o++){for(var s=n.mapping.maps[o],a=0;a<i.length;a++)i[a]=s.map(i[a]);s.forEach((function(t,e,n,r){return i.push(n,r)}))}for(var c=[],l=0;l<i.length;l+=2)for(var u=i[l],h=i[l+1],f=n.doc.resolve(u),d=f.sharedDepth(h),p=f.node(d),m=f.indexAfter(d),g=f.after(d+1);g<=h;++m){var v=p.maybeChild(m);if(!v)break;if(m&&-1==c.indexOf(g)){var y=p.child(m-1);y.type==v.type&&e(y,v)&&c.push(g)}g+=v.nodeSize}c.sort((function(t,e){return t-e}));for(var b=c.length-1;b>=0;b--)Object(r["canJoin"])(n.doc,c[b])&&n.join(c[b]);t(n)}}function D(t,e){if(Array.isArray(e)){var n=e;e=function(t){return n.indexOf(t.type.name)>-1}}return function(n,r){return t(n,r&&R(r,e))}}function P(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return function(e,n,r){for(var i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}var I=P(s,a,l),j=P(s,h,f),$={Enter:P(v,w,x,S),"Mod-Enter":b,Backspace:I,"Mod-Backspace":I,Delete:j,"Mod-Delete":j,"Mod-a":C},L={"Ctrl-h":$["Backspace"],"Alt-Backspace":$["Mod-Backspace"],"Ctrl-d":$["Delete"],"Ctrl-Alt-Backspace":$["Mod-Delete"],"Alt-Delete":$["Mod-Delete"],"Alt-d":$["Mod-Delete"]};for(var B in $)L[B]=$[B];var F="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),V=F?L:$},"00ee":function(t,e,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"0366":function(t,e,n){var r=n("1c0b");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"0538":function(t,e,n){"use strict";var r=n("1c0b"),i=n("861d"),o=[].slice,s={},a=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("C,a","return new C("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?a(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(s.prototype=e.prototype),s}},"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(r(t))}},"06cf":function(t,e,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),c=n("5135"),l=n("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=s(t),e=a(e,!0),l)try{return u(t,e)}catch(n){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},"07ac":function(t,e,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},"0a06":function(t,e,n){"use strict";var r=n("c532"),i=n("30b5"),o=n("f6b4"),s=n("5270"),a=n("4a7b");function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=a(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,r){return this.request(a(r||{},{method:t,url:e,data:n}))}})),t.exports=c},"0ac0":function(t,e,n){"use strict";n.r(e),n.d(e,"AddMarkStep",(function(){return j})),n.d(e,"MapResult",(function(){return l})),n.d(e,"Mapping",(function(){return h})),n.d(e,"RemoveMarkStep",(function(){return $})),n.d(e,"ReplaceAroundStep",(function(){return w})),n.d(e,"ReplaceStep",(function(){return b})),n.d(e,"Step",(function(){return v})),n.d(e,"StepMap",(function(){return u})),n.d(e,"StepResult",(function(){return y})),n.d(e,"Transform",(function(){return d})),n.d(e,"TransformError",(function(){return f})),n.d(e,"canJoin",(function(){return _})),n.d(e,"canSplit",(function(){return T})),n.d(e,"dropPoint",(function(){return P})),n.d(e,"findWrapping",(function(){return k})),n.d(e,"insertPoint",(function(){return D})),n.d(e,"joinPoint",(function(){return R})),n.d(e,"liftTarget",(function(){return A})),n.d(e,"replaceStep",(function(){return L}));var r=n("304a"),i=65535,o=Math.pow(2,16);function s(t,e){return t+e*o}function a(t){return t&i}function c(t){return(t-(t&i))/o}var l=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},u=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};u.prototype.recover=function(t){var e=0,n=a(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+c(t)},u.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},u.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},u.prototype._map=function(t,e,n){for(var r=0,i=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var c=this.ranges[a]-(this.inverted?r:0);if(c>t)break;var u=this.ranges[a+i],h=this.ranges[a+o],f=c+u;if(t<=f){var d=u?t==c?-1:t==f?1:e:e,p=c+r+(d<0?0:h);if(n)return p;var m=t==(e<0?c:f)?null:s(a/3,t-c);return new l(p,e<0?t!=c:t!=f,m)}r+=h-u}return n?t+r:new l(t+r)},u.prototype.touches=function(t,e){for(var n=0,r=a(e),i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var c=this.ranges[s]-(this.inverted?n:0);if(c>t)break;var l=this.ranges[s+i],u=c+l;if(t<=u&&s==3*r)return!0;n+=this.ranges[s+o]-l}return!1},u.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),c=this.ranges[r+e],l=this.ranges[r+n];t(s,s+c,a,a+l),i+=l-c}},u.prototype.invert=function(){return new u(this.ranges,!this.inverted)},u.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},u.offset=function(t){return 0==t?u.empty:new u(t<0?[0,-t,0]:[0,0,t])},u.empty=new u([]);var h=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function f(t){var e=Error.call(this,t);return e.__proto__=f.prototype,e}h.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new h(this.maps,this.mirror,t,e)},h.prototype.copy=function(){return new h(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},h.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},h.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},h.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},h.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},h.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},h.prototype.invert=function(){var t=new h;return t.appendMappingInverted(this),t},h.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},h.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},h.prototype._map=function(t,e,n){for(var r=!1,i=this.from;i<this.to;i++){var o=this.maps[i],s=o.mapResult(t,e);if(null!=s.recover){var a=this.getMirror(i);if(null!=a&&a>i&&a<this.to){i=a,t=this.maps[a].recover(s.recover);continue}}s.deleted&&(r=!0),t=s.pos}return n?t:new l(t,r)},f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="TransformError";var d=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new h},p={before:{configurable:!0},docChanged:{configurable:!0}};function m(){throw new Error("Override me")}p.before.get=function(){return this.docs.length?this.docs[0]:this.doc},d.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new f(e.failed);return this},d.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},p.docChanged.get=function(){return this.steps.length>0},d.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(d.prototype,p);var g=Object.create(null),v=function(){};v.prototype.apply=function(t){return m()},v.prototype.getMap=function(){return u.empty},v.prototype.invert=function(t){return m()},v.prototype.map=function(t){return m()},v.prototype.merge=function(t){return null},v.prototype.toJSON=function(){return m()},v.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=g[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},v.jsonID=function(t,e){if(t in g)throw new RangeError("Duplicate use of step JSON ID "+t);return g[t]=e,e.prototype.jsonID=t,e};var y=function(t,e){this.doc=t,this.failed=e};y.ok=function(t){return new y(t,null)},y.fail=function(t){return new y(null,t)},y.fromReplace=function(t,e,n,i){try{return y.ok(t.replace(e,n,i))}catch(o){if(o instanceof r["ReplaceError"])return y.fail(o.message);throw o}};var b=function(t){function e(e,n,r,i){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&x(t,this.from,this.to)?y.fail("Structure replace would overwrite content"):y.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new u([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?r["Slice"].empty:new r["Slice"](t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var i=this.slice.size+t.slice.size==0?r["Slice"].empty:new r["Slice"](this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),i,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,r["Slice"].fromJSON(t,n.slice),!!n.structure)},e}(v);v.jsonID("replace",b);var w=function(t){function e(e,n,r,i,o,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(x(t,this.from,this.gapFrom)||x(t,this.gapTo,this.to)))return y.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return y.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?y.fromReplace(t,this.from,this.to,n):y.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new u([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deleted&&r.deleted||i<n.pos||o>r.pos?null:new e(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,r["Slice"].fromJSON(t,n.slice),n.insert,!!n.structure)},e}(v);function x(t,e,n){var r=t.resolve(e),i=n-e,o=r.depth;while(i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount)o--,i--;if(i>0){var s=r.node(o).maybeChild(r.indexAfter(o));while(i>0){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function S(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function A(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(0==r||i.type.spec.isolating||!S(i,o,s))break}}function k(t,e,n,r){void 0===r&&(r=t);var i=O(t,e),o=i&&M(r,e);return o?i.map(C).concat({type:e,attrs:n}).concat(o.map(C)):null}function C(t){return{type:t,attrs:null}}function O(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;var s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function M(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=s.length?s[s.length-1]:e,c=a.contentMatch,l=r;c&&l<i;l++)c=c.matchType(n.child(l).type);return c&&c.validEnd?s:null}function E(t,e,n){var r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function T(t,e,n,r){void 0===n&&(n=1);var i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,c=n-2;a>o;a--,c--){var l=i.node(a),u=i.index(a);if(l.type.spec.isolating)return!1;var h=l.content.cutByIndex(u,l.childCount),f=r&&r[c]||l;if(f!=l&&(h=h.replaceChild(0,f.type.create(f.attrs))),!l.canReplace(u+1,l.childCount)||!f.type.validContent(h))return!1}var d=i.indexAfter(o),p=r&&r[0];return i.node(o).canReplaceWith(d,d,p?p.type:i.node(o+1).type)}function _(t,e){var n=t.resolve(e),r=n.index();return N(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function N(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function R(t,e,n){void 0===n&&(n=-1);for(var r=t.resolve(e),i=r.depth;;i--){var o=void 0,s=void 0,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&N(o,s)&&r.node(i).canReplace(a,a+1))return e;if(0==i)break;e=n<0?r.before(i):r.after(i)}}function D(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function P(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(c>0?1:0);if(1==s?r.node(a).canReplace(l,l,i):r.node(a).contentMatchAt(l).findWrapping(i.firstChild.type))return 0==c?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function I(t,e,n){for(var i=[],o=0;o<t.childCount;o++){var s=t.child(o);s.content.size&&(s=s.copy(I(s.content,e,s))),s.isInline&&(s=e(s,n,o)),i.push(s)}return r["Fragment"].fromArray(i)}v.jsonID("replaceAround",w),d.prototype.lift=function(t,e){for(var n=t.$from,i=t.$to,o=t.depth,s=n.before(o+1),a=i.after(o+1),c=s,l=a,u=r["Fragment"].empty,h=0,f=o,d=!1;f>e;f--)d||n.index(f)>0?(d=!0,u=r["Fragment"].from(n.node(f).copy(u)),h++):c--;for(var p=r["Fragment"].empty,m=0,g=o,v=!1;g>e;g--)v||i.after(g+1)<i.end(g)?(v=!0,p=r["Fragment"].from(i.node(g).copy(p)),m++):l++;return this.step(new w(c,l,s,a,new r["Slice"](u.append(p),h,m),u.size-h,!0))},d.prototype.wrap=function(t,e){for(var n=r["Fragment"].empty,i=e.length-1;i>=0;i--)n=r["Fragment"].from(e[i].type.create(e[i].attrs,n));var o=t.start,s=t.end;return this.step(new w(o,s,o,s,new r["Slice"](n,0,0),e.length,!0))},d.prototype.setBlockType=function(t,e,n,i){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,i)&&E(o.doc,o.mapping.slice(s).map(e),n)){o.clearIncompatible(o.mapping.slice(s).map(e,1),n);var a=o.mapping.slice(s),c=a.map(e,1),l=a.map(e+t.nodeSize,1);return o.step(new w(c,l,c+1,l-1,new r["Slice"](r["Fragment"].from(n.create(i,null,t.marks)),0,0),1,!0)),!1}})),this},d.prototype.setNodeMarkup=function(t,e,n,i){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var s=e.create(n,null,i||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new w(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new r["Slice"](r["Fragment"].from(s),0,0),1,!0))},d.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var i=this.doc.resolve(t),o=r["Fragment"].empty,s=r["Fragment"].empty,a=i.depth,c=i.depth-e,l=e-1;a>c;a--,l--){o=r["Fragment"].from(i.node(a).copy(o));var u=n&&n[l];s=r["Fragment"].from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}return this.step(new b(t,t,new r["Slice"](o.append(s),e,e),!0))},d.prototype.join=function(t,e){void 0===e&&(e=1);var n=new b(t-e,t+e,r["Slice"].empty,!0);return this.step(n)};var j=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=t.resolve(this.from),o=i.node(i.sharedDepth(this.to)),s=new r["Slice"](I(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return y.fromReplace(t,this.from,this.to,s)},e.prototype.invert=function(){return new $(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(v);v.jsonID("addMark",j);var $=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=new r["Slice"](I(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return y.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new j(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(v);function L(t,e,n,i){if(void 0===n&&(n=e),void 0===i&&(i=r["Slice"].empty),e==n&&!i.size)return null;var o=t.resolve(e),s=t.resolve(n);return B(o,s,i)?new b(e,n,i):new F(o,s,i).fit()}function B(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}v.jsonID("removeMark",$),d.prototype.addMark=function(t,e,n){var r=this,i=[],o=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,c,l){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&l.type.allowsMarkType(n.type)){for(var h=Math.max(c,t),f=Math.min(c+r.nodeSize,e),d=n.addToSet(u),p=0;p<u.length;p++)u[p].isInSet(d)||(s&&s.to==h&&s.mark.eq(u[p])?s.to=f:i.push(s=new $(h,f,u[p])));a&&a.to==h?a.to=f:o.push(a=new j(h,f,n))}}})),i.forEach((function(t){return r.step(t)})),o.forEach((function(t){return r.step(t)})),this},d.prototype.removeMark=function(t,e,n){var i=this;void 0===n&&(n=null);var o=[],s=0;return this.doc.nodesBetween(t,e,(function(i,a){if(i.isInline){s++;var c=null;if(n instanceof r["MarkType"]){var l=n.isInSet(i.marks);l&&(c=[l])}else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length)for(var u=Math.min(a+i.nodeSize,e),h=0;h<c.length;h++){for(var f=c[h],d=void 0,p=0;p<o.length;p++){var m=o[p];m.step==s-1&&f.eq(o[p].style)&&(d=m)}d?(d.to=u,d.step=s):o.push({style:f,from:Math.max(a,t),to:u,step:s})}}})),o.forEach((function(t){return i.step(new $(t.from,t.to,t.style))})),this},d.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var i=this.doc.nodeAt(t),o=[],s=t+1,a=0;a<i.childCount;a++){var c=i.child(a),l=s+c.nodeSize,u=n.matchType(c.type,c.attrs);if(u){n=u;for(var h=0;h<c.marks.length;h++)e.allowsMarkType(c.marks[h].type)||this.step(new $(s,l,c.marks[h]))}else o.push(new b(s,l,r["Slice"].empty));s=l}if(!n.validEnd){var f=n.fillBefore(r["Fragment"].empty,!0);this.replace(s,s,new r["Slice"](f,0,0))}for(var d=o.length-1;d>=0;d--)this.step(o[d]);return this},d.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=r["Slice"].empty);var i=L(this.doc,t,e,n);return i&&this.step(i),this},d.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new r["Slice"](r["Fragment"].from(n),0,0))},d.prototype.delete=function(t,e){return this.replace(t,e,r["Slice"].empty)},d.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var F=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var i=0;i<=t.depth;i++){var o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}this.placed=r["Fragment"].empty;for(var s=t.depth;s>0;s--)this.placed=r["Fragment"].from(t.node(s).copy(this.placed))},V={depth:{configurable:!0}};function z(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(z(t.firstChild.content,e-1,n)))}function H(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(H(t.lastChild.content,e-1,n)))}function U(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function W(t,e,n){if(e<=0)return t;var i=t.content;return e>1&&(i=i.replaceChild(0,W(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r["Fragment"].empty,!0)))),t.copy(i)}function q(t,e,n,r,i){var o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var a=r.fillBefore(o.content,!0,s);return a&&!J(n,o.content,s)?a:null}function J(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function K(t,e,n,i,o){if(e<n){var s=t.firstChild;t=t.replaceChild(0,s.copy(K(s.content,e+1,n,i,s)))}if(e>i){var a=o.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(r["Fragment"].empty,!0))}return t}function G(t,e){for(var n=[],r=Math.min(t.depth,e.depth),i=r;i>=0;i--){var o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;o==e.start(i)&&n.push(i)}return n}V.depth.get=function(){return this.frontier.length-1},F.prototype.fit=function(){while(this.unplaced.size){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(e<0?this.$to:i.doc.resolve(e));if(!o)return null;var s=this.placed,a=i.depth,c=o.depth;while(a&&c&&1==s.childCount)s=s.firstChild.content,a--,c--;var l=new r["Slice"](s,a,c);return e>-1?new w(i.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||i.pos!=this.$to.pos?new b(i.pos,o.pos,l):void 0},F.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--){var n=void 0,i=void 0;e?(i=U(this.unplaced.content,e-1).firstChild,n=i.content):n=this.unplaced.content;for(var o=n.firstChild,s=this.depth;s>=0;s--){var a=this.frontier[s],c=a.type,l=a.match,u=void 0,h=void 0;if(1==t&&(o?l.matchType(o.type)||(h=l.fillBefore(r["Fragment"].from(o),!1)):c.compatibleContent(i.type)))return{sliceDepth:e,frontierDepth:s,parent:i,inject:h};if(2==t&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:s,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}},F.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,o=U(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new r["Slice"](e,n+1,Math.max(i,o.size+n>=e.size-i?n+1:0)),!0)},F.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,o=U(e,n);if(o.childCount<=1&&n>0){var s=e.size-n<=n+o.size;this.unplaced=new r["Slice"](z(e,n-1,1),n-1,s?n-1:i)}else this.unplaced=new r["Slice"](z(e,n,1),n,i)},F.prototype.placeNodes=function(t){var e=t.sliceDepth,n=t.frontierDepth,i=t.parent,o=t.inject,s=t.wrap;while(this.depth>n)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var c=this.unplaced,l=i?i.content:c.content,u=c.openStart-e,h=0,f=[],d=this.frontier[n],p=d.match,m=d.type;if(o){for(var g=0;g<o.childCount;g++)f.push(o.child(g));p=p.matchFragment(o)}var v=l.size+e-(c.content.size-c.openEnd);while(h<l.childCount){var y=l.child(h),b=p.matchType(y.type);if(!b)break;h++,(h>1||0==u||y.content.size)&&(p=b,f.push(W(y.mark(m.allowedMarks(y.marks)),1==h?u:0,h==l.childCount?v:-1)))}var w=h==l.childCount;w||(v=-1),this.placed=H(this.placed,n,r["Fragment"].from(f)),this.frontier[n].match=p,w&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var x=0,S=l;x<v;x++){var A=S.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),S=A.content}this.unplaced=w?0==e?r["Slice"].empty:new r["Slice"](z(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new r["Slice"](z(c.content,e,h),c.openStart,c.openEnd)},F.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!q(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;var n=this.$to,r=n.depth,i=this.$to.after(r);while(r>1&&i==this.$to.end(--r))++i;return i},F.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,i=n.type,o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=q(t,e,i,r,o);if(s){for(var a=e-1;a>=0;a--){var c=this.frontier[a],l=c.match,u=c.type,h=q(t,a,u,l,!0);if(!h||h.childCount)continue t}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}},F.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;while(this.depth>e.depth)this.closeFrontierNode();e.fit.childCount&&(this.placed=H(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,i)}return t},F.prototype.openFrontierNode=function(t,e,n){var i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=H(this.placed,this.depth,r["Fragment"].from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},F.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),e=t.match.fillBefore(r["Fragment"].empty,!0);e.childCount&&(this.placed=H(this.placed,this.frontier.length,e))},Object.defineProperties(F.prototype,V),d.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var i=this.doc.resolve(t),o=this.doc.resolve(e);if(B(i,o,n))return this.step(new b(t,e,n));var s=G(i,this.doc.resolve(e));0==s[s.length-1]&&s.pop();var a=-(i.depth+1);s.unshift(a);for(var c=i.depth,l=i.pos-1;c>0;c--,l--){var u=i.node(c).type.spec;if(u.defining||u.isolating)break;s.indexOf(c)>-1?a=c:i.before(c)==l&&s.splice(1,0,-c)}for(var h=s.indexOf(a),f=[],d=n.openStart,p=n.content,m=0;;m++){var g=p.firstChild;if(f.push(g),m==n.openStart)break;p=g.content}d>0&&f[d-1].type.spec.defining&&i.node(h).type!=f[d-1].type?d-=1:d>=2&&f[d-1].isTextblock&&f[d-2].type.spec.defining&&i.node(h).type!=f[d-2].type&&(d-=2);for(var v=n.openStart;v>=0;v--){var y=(v+d+1)%(n.openStart+1),w=f[y];if(w)for(var x=0;x<s.length;x++){var S=s[(x+h)%s.length],A=!0;S<0&&(A=!1,S=-S);var k=i.node(S-1),C=i.index(S-1);if(k.canReplaceWith(C,C,w.type,w.marks))return this.replace(i.before(S),A?o.after(S):e,new r["Slice"](K(n.content,0,n.openStart,y),y,n.openEnd))}}for(var O=this.steps.length,M=s.length-1;M>=0;M--){if(this.replace(t,e,n),this.steps.length>O)break;var E=s[M];M<0||(t=i.before(E),e=o.after(E))}return this},d.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var i=D(this.doc,t,n.type);null!=i&&(t=e=i)}return this.replaceRange(t,e,new r["Slice"](r["Fragment"].from(n),0,0))},d.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),i=G(n,r),o=0;o<i.length;o++){var s=i[o],a=o==i.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&r.end(c)-e!=r.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)}},"0cfb":function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0df6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},1276:function(t,e,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),s=n("1d80"),a=n("4840"),c=n("8aa5"),l=n("50c4"),u=n("14c3"),h=n("9263"),f=n("d039"),d=[].push,p=Math.min,m=4294967295,g=!f((function(){return!RegExp(m,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(s(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);var a,c,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,f+"g");while(a=h.call(g,r)){if(c=g.lastIndex,c>p&&(u.push(r.slice(p,a.index)),a.length>1&&a.index<r.length&&d.apply(u,a.slice(1)),l=a[0].length,p=c,u.length>=o))break;g.lastIndex===a.index&&g.lastIndex++}return p===r.length?!l&&g.test("")||u.push(""):u.push(r.slice(p)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=s(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var s=n(r,t,this,i,r!==e);if(s.done)return s.value;var h=o(t),f=String(this),d=a(h,RegExp),v=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),b=new d(g?h:"^(?:"+h.source+")",y),w=void 0===i?m:i>>>0;if(0===w)return[];if(0===f.length)return null===u(b,f)?[f]:[];var x=0,S=0,A=[];while(S<f.length){b.lastIndex=g?S:0;var k,C=u(b,g?f:f.slice(S));if(null===C||(k=p(l(b.lastIndex+(g?0:S)),f.length))===x)S=c(f,S,v);else{if(A.push(f.slice(x,S)),A.length===w)return A;for(var O=1;O<=C.length-1;O++)if(A.push(C[O]),A.length===w)return A;S=x=k}}return A.push(f.slice(x)),A}]}),!g)},"13d5":function(t,e,n){"use strict";var r=n("23e7"),i=n("d58f").left,o=n("a640"),s=n("ae40"),a=o("reduce"),c=s("reduce",{1:0});r({target:"Array",proto:!0,forced:!a||!c},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in i){var c=r[a],l=c&&c.prototype;if(l&&l.forEach!==o)try{s(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),s=i("forEach"),a=o("forEach");t.exports=s&&a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"19aa":function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},"1cdc":function(t,e,n){var r=n("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d2b":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d3b7");function r(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var s=t.apply(e,n);function a(t){r(s,i,o,a,c,"next",t)}function c(t){r(s,i,o,a,c,"throw",t)}a(void 0)}))}}},"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[],n=e.constructor={};return n[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1fb5":function(t,e,n){"use strict";e.byteLength=u,e.toByteArray=f,e.fromByteArray=m;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function u(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function h(t,e,n){return 3*(e+n)/4-n}function f(t){var e,n,r=l(t),s=r[0],a=r[1],c=new o(h(t,s,a)),u=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[u++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c}function d(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(d(r));return i.join("")}function m(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(p(t,a,a+s>c?c:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2266:function(t,e,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("35a1"),c=n("9bdd"),l=function(t,e){this.stopped=t,this.result=e},u=t.exports=function(t,e,n,u,h){var f,d,p,m,g,v,y,b=s(e,n,u?2:1);if(h)f=t;else{if(d=a(t),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(p=0,m=o(t.length);m>p;p++)if(g=u?b(r(y=t[p])[0],y[1]):b(t[p]),g&&g instanceof l)return g;return new l(!1)}f=d.call(t)}v=f.next;while(!(y=v.call(f)).done)if(g=c(f,b,y.value,u),"object"==typeof g&&g&&g instanceof l)return g;return new l(!1)};u.stop=function(t){return new l(!0,t)}},"23cb":function(t,e,n){var r=n("a691"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},"23e7":function(t,e,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),l=n("94ca");t.exports=function(t,e){var n,u,h,f,d,p,m=t.target,g=t.global,v=t.stat;if(u=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(h in e){if(d=e[h],t.noTargetGet?(p=i(u,h),f=p&&p.value):f=u[h],n=l(g?h:m+(v?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof d===typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),s(u,h,d,t)}}},"241c":function(t,e,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},2444:function(t,e,n){"use strict";(function(e){var r=n("c532"),i=n("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function a(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=n("b50d")),t}var c={adapter:a(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(o)})),t.exports=c}).call(this,n("4362"))},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),i=n("825a"),o=n("d039"),s=n("ad6d"),a="toString",c=RegExp.prototype,l=c[a],u=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),h=l.name!=a;(u||h)&&r(RegExp.prototype,a,(function(){var t=i(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?s.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},2626:function(t,e,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},"262e":function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return i}))},2877:function(t,e,n){"use strict";function r(t,e,n,r,i,o,s,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return r}))},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function s(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function h(t){return"[object RegExp]"===l.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(t,e){return b.call(t,e)}function x(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var S=/-(\w)/g,A=x((function(t){return t.replace(S,(function(t,e){return e?e.toUpperCase():""}))})),k=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),C=/\B([A-Z])/g,O=x((function(t){return t.replace(C,"-$1").toLowerCase()}));function M(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function E(t,e){return t.bind(e)}var T=Function.prototype.bind?E:M;function _(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function N(t,e){for(var n in e)t[n]=e[n];return t}function R(t){for(var e={},n=0;n<t.length;n++)t[n]&&N(e,t[n]);return e}function D(t,e,n){}var P=function(t,e,n){return!1},I=function(t){return t};function j(t,e){if(t===e)return!0;var n=c(t),r=c(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return j(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return j(t[n],e[n])}))}catch(l){return!1}}function $(t,e){for(var n=0;n<t.length;n++)if(j(t[n],e))return n;return-1}function L(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B="data-server-rendered",F=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:D,parsePlatformTagName:I,mustUseProp:P,async:!0,_lifecycleHooks:V},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function W(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var q=new RegExp("[^"+H.source+".$_\\d]");function J(t){if(!q.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var K,G="__proto__"in{},Y="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=X&&WXEnvironment.platform.toLowerCase(),Q=Y&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,nt=Q&&Q.indexOf("edge/")>0,rt=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===Z),it=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),ot={}.watch,st=!1;if(Y)try{var at={};Object.defineProperty(at,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,at)}catch(As){}var ct=function(){return void 0===K&&(K=!Y&&!X&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),K},lt=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,ft="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);ht="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dt=D,pt=0,mt=function(){this.id=pt++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){y(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},mt.target=null;var gt=[];function vt(t){gt.push(t),mt.target=t}function yt(){gt.pop(),mt.target=gt[gt.length-1]}var bt=function(t,e,n,r,i,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},wt={child:{configurable:!0}};wt.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,wt);var xt=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function St(t){return new bt(void 0,void 0,void 0,String(t))}function At(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var kt=Array.prototype,Ct=Object.create(kt),Ot=["push","pop","shift","unshift","splice","sort","reverse"];Ot.forEach((function(t){var e=kt[t];W(Ct,t,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Mt=Object.getOwnPropertyNames(Ct),Et=!0;function Tt(t){Et=t}var _t=function(t){this.value=t,this.dep=new mt,this.vmCount=0,W(t,"__ob__",this),Array.isArray(t)?(G?Nt(t,Ct):Rt(t,Ct,Mt),this.observeArray(t)):this.walk(t)};function Nt(t,e){t.__proto__=e}function Rt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];W(t,o,e[o])}}function Dt(t,e){var n;if(c(t)&&!(t instanceof bt))return w(t,"__ob__")&&t.__ob__ instanceof _t?n=t.__ob__:Et&&!ct()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new _t(t)),e&&n&&n.vmCount++,n}function Pt(t,e,n,r,i){var o=new mt,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(n=t[e]);var l=!i&&Dt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return mt.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&$t(e))),e},set:function(e){var r=a?a.call(t):n;e===r||e!==e&&r!==r||a&&!c||(c?c.call(t,e):n=e,l=!i&&Dt(e),o.notify())}})}}function It(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Pt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function jt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}function $t(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&$t(e)}_t.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Pt(t,e[n])},_t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Dt(t[e])};var Lt=z.optionMergeStrategies;function Bt(t,e){if(!e)return t;for(var n,r,i,o=ft?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(r=t[n],i=e[n],w(t,n)?r!==i&&u(r)&&u(i)&&Bt(r,i):It(t,n,i));return t}function Ft(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,i="function"===typeof t?t.call(n,n):t;return r?Bt(r,i):i}:e?t?function(){return Bt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Vt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?zt(n):n}function zt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Ht(t,e,n,r){var i=Object.create(t||null);return e?N(i,e):i}Lt.data=function(t,e,n){return n?Ft(t,e,n):e&&"function"!==typeof e?t:Ft(t,e)},V.forEach((function(t){Lt[t]=Vt})),F.forEach((function(t){Lt[t+"s"]=Ht})),Lt.watch=function(t,e,n,r){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in N(i,t),e){var s=i[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Lt.props=Lt.methods=Lt.inject=Lt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return N(i,t),e&&N(i,e),i},Lt.provide=Ft;var Ut=function(t,e){return void 0===e?t:e};function Wt(t,e){var n=t.props;if(n){var r,i,o,s={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=A(i),s[o]={type:null})}else if(u(n))for(var a in n)i=n[a],o=A(a),s[o]=u(i)?i:{type:i};else 0;t.props=s}}function qt(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(u(n))for(var o in n){var s=n[o];r[o]=u(s)?N({from:o},s):{from:s}}else 0}}function Jt(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Kt(t,e,n){if("function"===typeof e&&(e=e.options),Wt(e,n),qt(e,n),Jt(e),!e._base&&(e.extends&&(t=Kt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Kt(t,e.mixins[r],n);var o,s={};for(o in t)a(o);for(o in e)w(t,o)||a(o);function a(r){var i=Lt[r]||Ut;s[r]=i(t[r],e[r],n,r)}return s}function Gt(t,e,n,r){if("string"===typeof n){var i=t[e];if(w(i,n))return i[n];var o=A(n);if(w(i,o))return i[o];var s=k(o);if(w(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function Yt(t,e,n,r){var i=e[t],o=!w(n,t),s=n[t],a=te(Boolean,i.type);if(a>-1)if(o&&!w(i,"default"))s=!1;else if(""===s||s===O(t)){var c=te(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=Xt(r,i,t);var l=Et;Tt(!0),Dt(s),Tt(l)}return s}function Xt(t,e,n){if(w(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==Zt(e.type)?r.call(t):r}}function Zt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qt(t,e){return Zt(t)===Zt(e)}function te(t,e){if(!Array.isArray(e))return Qt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Qt(e[n],t))return n;return-1}function ee(t,e,n){vt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,t,e,n);if(s)return}catch(As){re(As,r,"errorCaptured hook")}}}re(t,e,n)}finally{yt()}}function ne(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&d(o)&&!o._handled&&(o.catch((function(t){return ee(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(As){ee(As,r,i)}return o}function re(t,e,n){if(z.errorHandler)try{return z.errorHandler.call(null,t,e,n)}catch(As){As!==t&&ie(As,null,"config.errorHandler")}ie(t,e,n)}function ie(t,e,n){if(!Y&&!X||"undefined"===typeof console)throw t;console.error(t)}var oe,se=!1,ae=[],ce=!1;function le(){ce=!1;var t=ae.slice(0);ae.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var ue=Promise.resolve();oe=function(){ue.then(le),rt&&setTimeout(D)},se=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())oe="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(le)}:function(){setTimeout(le,0)};else{var he=1,fe=new MutationObserver(le),de=document.createTextNode(String(he));fe.observe(de,{characterData:!0}),oe=function(){he=(he+1)%2,de.data=String(he)},se=!0}function pe(t,e){var n;if(ae.push((function(){if(t)try{t.call(e)}catch(As){ee(As,e,"nextTick")}else n&&n(e)})),ce||(ce=!0,oe()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var me=new ht;function ge(t){ve(t,me),me.clear()}function ve(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!c(t)||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i){n=t.length;while(n--)ve(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)ve(t[r[n]],e)}}}var ye=x((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function be(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return ne(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)ne(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function we(t,e,n,i,s,a){var c,l,u,h;for(c in t)l=t[c],u=e[c],h=ye(c),r(l)||(r(u)?(r(l.fns)&&(l=t[c]=be(l,a)),o(h.once)&&(l=t[c]=s(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)r(t[c])&&(h=ye(c),i(h.name,e[c],h.capture))}function xe(t,e,n){var s;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){n.apply(this,arguments),y(s.fns,c)}r(a)?s=be([c]):i(a.fns)&&o(a.merged)?(s=a,s.fns.push(c)):s=be([a,c]),s.merged=!0,t[e]=s}function Se(t,e,n){var o=e.options.props;if(!r(o)){var s={},a=t.attrs,c=t.props;if(i(a)||i(c))for(var l in o){var u=O(l);Ae(s,c,l,u,!0)||Ae(s,a,l,u,!1)}return s}}function Ae(t,e,n,r,o){if(i(e)){if(w(e,n))return t[n]=e[n],o||delete e[n],!0;if(w(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function ke(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ce(t){return a(t)?[St(t)]:Array.isArray(t)?Me(t):void 0}function Oe(t){return i(t)&&i(t.text)&&s(t.isComment)}function Me(t,e){var n,s,c,l,u=[];for(n=0;n<t.length;n++)s=t[n],r(s)||"boolean"===typeof s||(c=u.length-1,l=u[c],Array.isArray(s)?s.length>0&&(s=Me(s,(e||"")+"_"+n),Oe(s[0])&&Oe(l)&&(u[c]=St(l.text+s[0].text),s.shift()),u.push.apply(u,s)):a(s)?Oe(l)?u[c]=St(l.text+s):""!==s&&u.push(St(s)):Oe(s)&&Oe(l)?u[c]=St(l.text+s.text):(o(t._isVList)&&i(s.tag)&&r(s.key)&&i(e)&&(s.key="__vlist"+e+"_"+n+"__"),u.push(s)));return u}function Ee(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Te(t){var e=_e(t.$options.inject,t);e&&(Tt(!1),Object.keys(e).forEach((function(n){Pt(t,n,e[n])})),Tt(!0))}function _e(t,e){if(t){for(var n=Object.create(null),r=ft?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=t[o].from,a=e;while(a){if(a._provided&&w(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[o]){var c=t[o].default;n[o]="function"===typeof c?c.call(e):c}else 0}}return n}}function Ne(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in n)n[l].every(Re)&&delete n[l];return n}function Re(t){return t.isComment&&!t.asyncFactory||" "===t.text}function De(t,e,r){var i,o=Object.keys(e).length>0,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&r&&r!==n&&a===r.$key&&!o&&!r.$hasNormal)return r;for(var c in i={},t)t[c]&&"$"!==c[0]&&(i[c]=Pe(e,c,t[c]))}else i={};for(var l in e)l in i||(i[l]=Ie(e,l));return t&&Object.isExtensible(t)&&(t._normalized=i),W(i,"$stable",s),W(i,"$key",a),W(i,"$hasNormal",o),i}function Pe(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ce(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Ie(t,e){return function(){return t[e]}}function je(t,e){var n,r,o,s,a;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(c(t))if(ft&&t[Symbol.iterator]){n=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)n.push(e(u.value,n.length)),u=l.next()}else for(s=Object.keys(t),n=new Array(s.length),r=0,o=s.length;r<o;r++)a=s[r],n[r]=e(t[a],a,r);return i(n)||(n=[]),n._isVList=!0,n}function $e(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=N(N({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Le(t){return Gt(this.$options,"filters",t,!0)||I}function Be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Fe(t,e,n,r,i){var o=z.keyCodes[e]||n;return i&&r&&!z.keyCodes[e]?Be(i,r):o?Be(o,t):r?O(r)!==e:void 0}function Ve(t,e,n,r,i){if(n)if(c(n)){var o;Array.isArray(n)&&(n=R(n));var s=function(s){if("class"===s||"style"===s||v(s))o=t;else{var a=t.attrs&&t.attrs.type;o=r||z.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=A(s),l=O(s);if(!(c in o)&&!(l in o)&&(o[s]=n[s],i)){var u=t.on||(t.on={});u["update:"+s]=function(t){n[s]=t}}};for(var a in n)s(a)}else;return t}function ze(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ue(r,"__static__"+t,!1)),r}function He(t,e,n){return Ue(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ue(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&We(t[r],e+"_"+r,n);else We(t,e,n)}function We(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function qe(t,e){if(e)if(u(e)){var n=t.on=t.on?N({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Je(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Je(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ke(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ge(t,e){return"string"===typeof t?e+t:t}function Ye(t){t._o=He,t._n=m,t._s=p,t._l=je,t._t=$e,t._q=j,t._i=$,t._m=ze,t._f=Le,t._k=Fe,t._b=Ve,t._v=St,t._e=xt,t._u=Je,t._g=qe,t._d=Ke,t._p=Ge}function Xe(t,e,r,i,s){var a,c=this,l=s.options;w(i,"_uid")?(a=Object.create(i),a._original=i):(a=i,i=i._original);var u=o(l._compiled),h=!u;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=_e(l.inject,i),this.slots=function(){return c.$slots||De(t.scopedSlots,c.$slots=Ne(r,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return De(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=De(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,r){var o=hn(a,t,e,n,r,h);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return hn(a,t,e,n,r,h)}}function Ze(t,e,r,o,s){var a=t.options,c={},l=a.props;if(i(l))for(var u in l)c[u]=Yt(u,l,e||n);else i(r.attrs)&&tn(c,r.attrs),i(r.props)&&tn(c,r.props);var h=new Xe(r,c,s,o,t),f=a.render.call(null,h._c,h);if(f instanceof bt)return Qe(f,r,h.parent,a,h);if(Array.isArray(f)){for(var d=Ce(f)||[],p=new Array(d.length),m=0;m<d.length;m++)p[m]=Qe(d[m],r,h.parent,a,h);return p}}function Qe(t,e,n,r,i){var o=At(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function tn(t,e){for(var n in e)t[A(n)]=e[n]}Ye(Xe.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var r=t.componentInstance=on(t,_n);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;In(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Zn(n):$n(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Ln(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,s,a){if(!r(t)){var l=n.$options._base;if(c(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(r(t.cid)&&(u=t,t=xn(u,l),void 0===t))return wn(u,e,n,s,a);e=e||{},xr(t),i(e.model)&&cn(t.options,e);var h=Se(e,t,a);if(o(t.options.functional))return Ze(t,h,e,n,s);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}sn(e);var p=t.options.name||a,m=new bt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:f,tag:a,children:s},u);return m}}}function on(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function sn(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=e[r],o=en[r];i===o||i&&i._merged||(e[r]=i?an(o,i):o)}}function an(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function cn(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),s=o[r],a=e.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[r]=[a].concat(s)):o[r]=a}var ln=1,un=2;function hn(t,e,n,r,i,s){return(Array.isArray(n)||a(n))&&(i=r,r=n,n=void 0),o(s)&&(i=un),fn(t,e,n,r,i)}function fn(t,e,n,r,o){if(i(n)&&i(n.__ob__))return xt();if(i(n)&&i(n.is)&&(e=n.is),!e)return xt();var s,a,c;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===un?r=Ce(r):o===ln&&(r=ke(r)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||z.getTagNamespace(e),s=z.isReservedTag(e)?new bt(z.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(c=Gt(t.$options,"components",e))?new bt(e,n,r,void 0,void 0,t):rn(c,n,t,r,e)):s=rn(e,n,t,r);return Array.isArray(s)?s:i(s)?(i(a)&&dn(s,a),i(n)&&pn(n),s):xt()}function dn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var s=0,a=t.children.length;s<a;s++){var c=t.children[s];i(c.tag)&&(r(c.ns)||o(n)&&"svg"!==c.tag)&&dn(c,e,n)}}function pn(t){c(t.style)&&ge(t.style),c(t.class)&&ge(t.class)}function mn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=Ne(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return hn(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return hn(t,e,n,r,i,!0)};var o=r&&r.data;Pt(t,"$attrs",o&&o.attrs||n,null,!0),Pt(t,"$listeners",e._parentListeners||n,null,!0)}var gn,vn=null;function yn(t){Ye(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=De(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{vn=e,t=r.call(e._renderProxy,e.$createElement)}catch(As){ee(As,e,"render"),t=e._vnode}finally{vn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof bt||(t=xt()),t.parent=i,t}}function bn(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function wn(t,e,n,r,i){var o=xt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function xn(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=vn;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var s=t.owners=[n],a=!0,l=null,u=null;n.$on("hook:destroyed",(function(){return y(s,n)}));var h=function(t){for(var e=0,n=s.length;e<n;e++)s[e].$forceUpdate();t&&(s.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},f=L((function(n){t.resolved=bn(n,e),a?s.length=0:h(!0)})),p=L((function(e){i(t.errorComp)&&(t.error=!0,h(!0))})),m=t(f,p);return c(m)&&(d(m)?r(t.resolved)&&m.then(f,p):d(m.component)&&(m.component.then(f,p),i(m.error)&&(t.errorComp=bn(m.error,e)),i(m.loading)&&(t.loadingComp=bn(m.loading,e),0===m.delay?t.loading=!0:l=setTimeout((function(){l=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,h(!1))}),m.delay||200)),i(m.timeout)&&(u=setTimeout((function(){u=null,r(t.resolved)&&p(null)}),m.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function Sn(t){return t.isComment&&t.asyncFactory}function An(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||Sn(n)))return n}}function kn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&En(t,e)}function Cn(t,e){gn.$on(t,e)}function On(t,e){gn.$off(t,e)}function Mn(t,e){var n=gn;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function En(t,e,n){gn=t,we(e,n||{},Cn,On,Mn,t),gn=void 0}function Tn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;var a=s.length;while(a--)if(o=s[a],o===e||o.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?_(n):n;for(var r=_(arguments,1),i='event handler for "'+t+'"',o=0,s=n.length;o<s;o++)ne(n[o],e,r,e,i)}return e}}var _n=null;function Nn(t){var e=_n;return _n=t,function(){_n=e}}function Rn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Dn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Nn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Pn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=xt),Bn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new nr(t,r,D,{before:function(){t._isMounted&&!t._isDestroyed&&Bn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Bn(t,"mounted")),t}function In(t,e,r,i,o){var s=i.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key),l=!!(o||t.$options._renderChildren||c);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Tt(!1);for(var u=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var d=h[f],p=t.$options.props;u[d]=Yt(d,p,e,t)}Tt(!0),t.$options.propsData=e}r=r||n;var m=t.$options._parentListeners;t.$options._parentListeners=r,En(t,r,m),l&&(t.$slots=Ne(o,i.context),t.$forceUpdate())}function jn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function $n(t,e){if(e){if(t._directInactive=!1,jn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)$n(t.$children[n]);Bn(t,"activated")}}function Ln(t,e){if((!e||(t._directInactive=!0,!jn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Ln(t.$children[n]);Bn(t,"deactivated")}}function Bn(t,e){vt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)ne(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),yt()}var Fn=[],Vn=[],zn={},Hn=!1,Un=!1,Wn=0;function qn(){Wn=Fn.length=Vn.length=0,zn={},Hn=Un=!1}var Jn=0,Kn=Date.now;if(Y&&!tt){var Gn=window.performance;Gn&&"function"===typeof Gn.now&&Kn()>document.createEvent("Event").timeStamp&&(Kn=function(){return Gn.now()})}function Yn(){var t,e;for(Jn=Kn(),Un=!0,Fn.sort((function(t,e){return t.id-e.id})),Wn=0;Wn<Fn.length;Wn++)t=Fn[Wn],t.before&&t.before(),e=t.id,zn[e]=null,t.run();var n=Vn.slice(),r=Fn.slice();qn(),Qn(n),Xn(r),lt&&z.devtools&&lt.emit("flush")}function Xn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Bn(r,"updated")}}function Zn(t){t._inactive=!1,Vn.push(t)}function Qn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,$n(t[e],!0)}function tr(t){var e=t.id;if(null==zn[e]){if(zn[e]=!0,Un){var n=Fn.length-1;while(n>Wn&&Fn[n].id>t.id)n--;Fn.splice(n+1,0,t)}else Fn.push(t);Hn||(Hn=!0,pe(Yn))}}var er=0,nr=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++er,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=J(e),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var t;vt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(As){if(!this.user)throw As;ee(As,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ge(t),yt(),this.cleanupDeps()}return t},nr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},nr.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():tr(this)},nr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(As){ee(As,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:D,set:D};function ir(t,e,n){rr.get=function(){return this[e][n]},rr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,rr)}function or(t){t._watchers=[];var e=t.$options;e.props&&sr(t,e.props),e.methods&&pr(t,e.methods),e.data?ar(t):Dt(t._data={},!0),e.computed&&ur(t,e.computed),e.watch&&e.watch!==ot&&mr(t,e.watch)}function sr(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Tt(!1);var s=function(o){i.push(o);var s=Yt(o,e,n,t);Pt(r,o,s),o in t||ir(t,"_props",o)};for(var a in e)s(a);Tt(!0)}function ar(t){var e=t.$options.data;e=t._data="function"===typeof e?cr(e,t):e||{},u(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&w(r,o)||U(o)||ir(t,"_data",o)}Dt(e,!0)}function cr(t,e){vt();try{return t.call(e,e)}catch(As){return ee(As,e,"data()"),{}}finally{yt()}}var lr={lazy:!0};function ur(t,e){var n=t._computedWatchers=Object.create(null),r=ct();for(var i in e){var o=e[i],s="function"===typeof o?o:o.get;0,r||(n[i]=new nr(t,s||D,D,lr)),i in t||hr(t,i,o)}}function hr(t,e,n){var r=!ct();"function"===typeof n?(rr.get=r?fr(e):dr(n),rr.set=D):(rr.get=n.get?r&&!1!==n.cache?fr(e):dr(n.get):D,rr.set=n.set||D),Object.defineProperty(t,e,rr)}function fr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function dr(t){return function(){return t.call(this,this)}}function pr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?D:T(e[n],t)}function mr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)gr(t,n,r[i]);else gr(t,n,r)}}function gr(t,e,n,r){return u(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function vr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=It,t.prototype.$delete=jt,t.prototype.$watch=function(t,e,n){var r=this;if(u(e))return gr(r,t,e,n);n=n||{},n.user=!0;var i=new nr(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(o){ee(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var yr=0;function br(t){t.prototype._init=function(t){var e=this;e._uid=yr++,e._isVue=!0,t&&t._isComponent?wr(e,t):e.$options=Kt(xr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Rn(e),kn(e),mn(e),Bn(e,"beforeCreate"),Te(e),or(e),Ee(e),Bn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function wr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function xr(t){var e=t.options;if(t.super){var n=xr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=Sr(t);i&&N(t.extendOptions,i),e=t.options=Kt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Sr(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function Ar(t){this._init(t)}function kr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=_(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Cr(t){t.mixin=function(t){return this.options=Kt(this.options,t),this}}function Or(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Kt(n.options,t),s["super"]=n,s.options.props&&Mr(s),s.options.computed&&Er(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,F.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=N({},s.options),i[r]=s,s}}function Mr(t){var e=t.options.props;for(var n in e)ir(t.prototype,"_props",n)}function Er(t){var e=t.options.computed;for(var n in e)hr(t.prototype,n,e[n])}function Tr(t){F.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function _r(t){return t&&(t.Ctor.options.name||t.tag)}function Nr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Rr(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var s=n[o];if(s){var a=_r(s.componentOptions);a&&!e(a)&&Dr(n,o,r,i)}}}function Dr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,y(n,e)}br(Ar),vr(Ar),Tn(Ar),Dn(Ar),yn(Ar);var Pr=[String,RegExp,Array],Ir={name:"keep-alive",abstract:!0,props:{include:Pr,exclude:Pr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Dr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Rr(t,(function(t){return Nr(e,t)}))})),this.$watch("exclude",(function(e){Rr(t,(function(t){return!Nr(e,t)}))}))},render:function(){var t=this.$slots.default,e=An(t),n=e&&e.componentOptions;if(n){var r=_r(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!Nr(o,r))||s&&r&&Nr(s,r))return e;var a=this,c=a.cache,l=a.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,y(l,u),l.push(u)):(c[u]=e,l.push(u),this.max&&l.length>parseInt(this.max)&&Dr(c,l[0],l,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},jr={KeepAlive:Ir};function $r(t){var e={get:function(){return z}};Object.defineProperty(t,"config",e),t.util={warn:dt,extend:N,mergeOptions:Kt,defineReactive:Pt},t.set=It,t.delete=jt,t.nextTick=pe,t.observable=function(t){return Dt(t),t},t.options=Object.create(null),F.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,N(t.options.components,jr),kr(t),Cr(t),Or(t),Tr(t)}$r(Ar),Object.defineProperty(Ar.prototype,"$isServer",{get:ct}),Object.defineProperty(Ar.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ar,"FunctionalRenderContext",{value:Xe}),Ar.version="2.6.12";var Lr=g("style,class"),Br=g("input,textarea,option,select,progress"),Fr=function(t,e,n){return"value"===n&&Br(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Vr=g("contenteditable,draggable,spellcheck"),zr=g("events,caret,typing,plaintext-only"),Hr=function(t,e){return Kr(e)||"false"===e?"false":"contenteditable"===t&&zr(e)?e:"true"},Ur=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wr="http://www.w3.org/1999/xlink",qr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Jr=function(t){return qr(t)?t.slice(6,t.length):""},Kr=function(t){return null==t||!1===t};function Gr(t){var e=t.data,n=t,r=t;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Yr(r.data,e));while(i(n=n.parent))n&&n.data&&(e=Yr(e,n.data));return Xr(e.staticClass,e.class)}function Yr(t,e){return{staticClass:Zr(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Xr(t,e){return i(t)||i(e)?Zr(t,Qr(e)):""}function Zr(t,e){return t?e?t+" "+e:t:e||""}function Qr(t){return Array.isArray(t)?ti(t):c(t)?ei(t):"string"===typeof t?t:""}function ti(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Qr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ei(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(t){return ri(t)||ii(t)};function si(t){return ii(t)?"svg":"math"===t?"math":void 0}var ai=Object.create(null);function ci(t){if(!Y)return!0;if(oi(t))return!1;if(t=t.toLowerCase(),null!=ai[t])return ai[t];var e=document.createElement(t);return t.indexOf("-")>-1?ai[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ai[t]=/HTMLUnknownElement/.test(e.toString())}var li=g("text,number,password,search,email,tel,url");function ui(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function hi(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function fi(t,e){return document.createElementNS(ni[t],e)}function di(t){return document.createTextNode(t)}function pi(t){return document.createComment(t)}function mi(t,e,n){t.insertBefore(e,n)}function gi(t,e){t.removeChild(e)}function vi(t,e){t.appendChild(e)}function yi(t){return t.parentNode}function bi(t){return t.nextSibling}function wi(t){return t.tagName}function xi(t,e){t.textContent=e}function Si(t,e){t.setAttribute(e,"")}var Ai=Object.freeze({createElement:hi,createElementNS:fi,createTextNode:di,createComment:pi,insertBefore:mi,removeChild:gi,appendChild:vi,parentNode:yi,nextSibling:bi,tagName:wi,setTextContent:xi,setStyleScope:Si}),ki={create:function(t,e){Ci(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ci(t,!0),Ci(e))},destroy:function(t){Ci(t,!0)}};function Ci(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,s=r.$refs;e?Array.isArray(s[n])?y(s[n],o):s[n]===o&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var Oi=new bt("",{},[]),Mi=["create","activate","update","remove","destroy"];function Ei(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Ti(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Ti(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||li(r)&&li(o)}function _i(t,e,n){var r,o,s={};for(r=e;r<=n;++r)o=t[r].key,i(o)&&(s[o]=r);return s}function Ni(t){var e,n,s={},c=t.modules,l=t.nodeOps;for(e=0;e<Mi.length;++e)for(s[Mi[e]]=[],n=0;n<c.length;++n)i(c[n][Mi[e]])&&s[Mi[e]].push(c[n][Mi[e]]);function u(t){return new bt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=l.parentNode(t);i(e)&&l.removeChild(e,t)}function d(t,e,n,r,s,a,c){if(i(t.elm)&&i(a)&&(t=a[c]=At(t)),t.isRootInsert=!s,!p(t,e,n,r)){var u=t.data,h=t.children,f=t.tag;i(f)?(t.elm=t.ns?l.createElementNS(t.ns,f):l.createElement(f,t),S(t),b(t,h,e),i(u)&&x(t,e),y(n,t.elm,r)):o(t.isComment)?(t.elm=l.createComment(t.text),y(n,t.elm,r)):(t.elm=l.createTextNode(t.text),y(n,t.elm,r))}}function p(t,e,n,r){var s=t.data;if(i(s)){var a=i(t.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(t,!1),i(t.componentInstance))return m(t,e),y(n,t.elm,r),o(a)&&v(t,e,n,r),!0}}function m(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(x(t,e),S(t)):(Ci(t),e.push(t))}function v(t,e,n,r){var o,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Oi,a);e.push(a);break}y(n,t.elm,r)}function y(t,e,n){i(t)&&(i(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function b(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)d(e[r],n,t.elm,null,!0,e,r)}else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return i(t.tag)}function x(t,n){for(var r=0;r<s.create.length;++r)s.create[r](Oi,t);e=t.data.hook,i(e)&&(i(e.create)&&e.create(Oi,t),i(e.insert)&&n.push(t))}function S(t){var e;if(i(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var n=t;while(n)i(e=n.context)&&i(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent}i(e=_n)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function A(t,e,n,r,i,o){for(;r<=i;++r)d(n[r],o,t,e,!1,n,r)}function k(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)k(t.children[n])}function C(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(O(r),k(r)):f(r.elm))}}function O(t,e){if(i(e)||i(t.data)){var n,r=s.remove.length+1;for(i(e)?e.listeners+=r:e=h(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&O(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else f(t.elm)}function M(t,e,n,o,s){var a,c,u,h,f=0,p=0,m=e.length-1,g=e[0],v=e[m],y=n.length-1,b=n[0],w=n[y],x=!s;while(f<=m&&p<=y)r(g)?g=e[++f]:r(v)?v=e[--m]:Ei(g,b)?(T(g,b,o,n,p),g=e[++f],b=n[++p]):Ei(v,w)?(T(v,w,o,n,y),v=e[--m],w=n[--y]):Ei(g,w)?(T(g,w,o,n,y),x&&l.insertBefore(t,g.elm,l.nextSibling(v.elm)),g=e[++f],w=n[--y]):Ei(v,b)?(T(v,b,o,n,p),x&&l.insertBefore(t,v.elm,g.elm),v=e[--m],b=n[++p]):(r(a)&&(a=_i(e,f,m)),c=i(b.key)?a[b.key]:E(b,e,f,m),r(c)?d(b,o,t,g.elm,!1,n,p):(u=e[c],Ei(u,b)?(T(u,b,o,n,p),e[c]=void 0,x&&l.insertBefore(t,u.elm,g.elm)):d(b,o,t,g.elm,!1,n,p)),b=n[++p]);f>m?(h=r(n[y+1])?null:n[y+1].elm,A(t,h,n,p,y,o)):p>y&&C(e,f,m)}function E(t,e,n,r){for(var o=n;o<r;o++){var s=e[o];if(i(s)&&Ei(t,s))return o}}function T(t,e,n,a,c,u){if(t!==e){i(e.elm)&&i(a)&&(e=a[c]=At(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?R(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;i(d)&&i(f=d.hook)&&i(f=f.prepatch)&&f(t,e);var p=t.children,m=e.children;if(i(d)&&w(e)){for(f=0;f<s.update.length;++f)s.update[f](t,e);i(f=d.hook)&&i(f=f.update)&&f(t,e)}r(e.text)?i(p)&&i(m)?p!==m&&M(h,p,m,n,u):i(m)?(i(t.text)&&l.setTextContent(h,""),A(h,null,m,0,m.length-1,n)):i(p)?C(p,0,p.length-1):i(t.text)&&l.setTextContent(h,""):t.text!==e.text&&l.setTextContent(h,e.text),i(d)&&i(f=d.hook)&&i(f=f.postpatch)&&f(t,e)}}}function _(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var N=g("attrs,class,staticClass,staticStyle,key");function R(t,e,n,r){var s,a=e.tag,c=e.data,l=e.children;if(r=r||c&&c.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(s=c.hook)&&i(s=s.init)&&s(e,!0),i(s=e.componentInstance)))return m(e,n),!0;if(i(a)){if(i(l))if(t.hasChildNodes())if(i(s=c)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,f=0;f<l.length;f++){if(!h||!R(h,l[f],n,r)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else b(e,l,n);if(i(c)){var d=!1;for(var p in c)if(!N(p)){d=!0,x(e,n);break}!d&&c["class"]&&ge(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!r(e)){var c=!1,h=[];if(r(t))c=!0,d(e,h);else{var f=i(t.nodeType);if(!f&&Ei(t,e))T(t,e,h,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute(B)&&(t.removeAttribute(B),n=!0),o(n)&&R(t,e,h))return _(e,h,!0),t;t=u(t)}var p=t.elm,m=l.parentNode(p);if(d(e,h,p._leaveCb?null:m,l.nextSibling(p)),i(e.parent)){var g=e.parent,v=w(e);while(g){for(var y=0;y<s.destroy.length;++y)s.destroy[y](g);if(g.elm=e.elm,v){for(var b=0;b<s.create.length;++b)s.create[b](Oi,g);var x=g.data.hook.insert;if(x.merged)for(var S=1;S<x.fns.length;S++)x.fns[S]()}else Ci(g);g=g.parent}}i(m)?C([t],0,0):i(t.tag)&&k(t)}}return _(e,h,c),e.elm}i(t)&&k(t)}}var Ri={create:Di,update:Di,destroy:function(t){Di(t,Oi)}};function Di(t,e){(t.data.directives||e.data.directives)&&Pi(t,e)}function Pi(t,e){var n,r,i,o=t===Oi,s=e===Oi,a=ji(t.data.directives,t.context),c=ji(e.data.directives,e.context),l=[],u=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Li(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(Li(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var n=0;n<l.length;n++)Li(l[n],"inserted",e,t)};o?xe(e,"insert",h):h()}if(u.length&&xe(e,"postpatch",(function(){for(var n=0;n<u.length;n++)Li(u[n],"componentUpdated",e,t)})),!o)for(n in a)c[n]||Li(a[n],"unbind",t,t,s)}var Ii=Object.create(null);function ji(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Ii),i[$i(r)]=r,r.def=Gt(e.$options,"directives",r.name,!0);return i}function $i(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Li(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(As){ee(As,n.context,"directive "+t.name+" "+e+" hook")}}var Bi=[ki,Ri];function Fi(t,e){var n=e.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var o,s,a,c=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(o in i(u.__ob__)&&(u=e.data.attrs=N({},u)),u)s=u[o],a=l[o],a!==s&&Vi(c,o,s);for(o in(tt||nt)&&u.value!==l.value&&Vi(c,"value",u.value),l)r(u[o])&&(qr(o)?c.removeAttributeNS(Wr,Jr(o)):Vr(o)||c.removeAttribute(o))}}function Vi(t,e,n){t.tagName.indexOf("-")>-1?zi(t,e,n):Ur(e)?Kr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Vr(e)?t.setAttribute(e,Hr(e,n)):qr(e)?Kr(n)?t.removeAttributeNS(Wr,Jr(e)):t.setAttributeNS(Wr,e,n):zi(t,e,n)}function zi(t,e,n){if(Kr(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Hi={create:Fi,update:Fi};function Ui(t,e){var n=e.elm,o=e.data,s=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=Gr(e),c=n._transitionClasses;i(c)&&(a=Zr(a,Qr(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Wi,qi={create:Ui,update:Ui},Ji="__r",Ki="__c";function Gi(t){if(i(t[Ji])){var e=tt?"change":"input";t[e]=[].concat(t[Ji],t[e]||[]),delete t[Ji]}i(t[Ki])&&(t.change=[].concat(t[Ki],t.change||[]),delete t[Ki])}function Yi(t,e,n){var r=Wi;return function i(){var o=e.apply(null,arguments);null!==o&&Qi(t,i,n,r)}}var Xi=se&&!(it&&Number(it[1])<=53);function Zi(t,e,n,r){if(Xi){var i=Jn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Wi.addEventListener(t,e,st?{capture:n,passive:r}:n)}function Qi(t,e,n,r){(r||Wi).removeEventListener(t,e._wrapper||e,n)}function to(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Wi=e.elm,Gi(n),we(n,i,Zi,Qi,Yi,e.context),Wi=void 0}}var eo,no={create:to,update:to};function ro(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,s=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in i(c.__ob__)&&(c=e.data.domProps=N({},c)),a)n in c||(s[n]="");for(n in c){if(o=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=o;var l=r(o)?"":String(o);io(s,l)&&(s.value=l)}else if("innerHTML"===n&&ii(s.tagName)&&r(s.innerHTML)){eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+o+"</svg>";var u=eo.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(u.firstChild)s.appendChild(u.firstChild)}else if(o!==a[n])try{s[n]=o}catch(As){}}}}function io(t,e){return!t.composing&&("OPTION"===t.tagName||oo(t,e)||so(t,e))}function oo(t,e){var n=!0;try{n=document.activeElement!==t}catch(As){}return n&&t.value!==e}function so(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return m(n)!==m(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var ao={create:ro,update:ro},co=x((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function lo(t){var e=uo(t.style);return t.staticStyle?N(t.staticStyle,e):e}function uo(t){return Array.isArray(t)?R(t):"string"===typeof t?co(t):t}function ho(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=lo(i.data))&&N(r,n)}(n=lo(t.data))&&N(r,n);var o=t;while(o=o.parent)o.data&&(n=lo(o.data))&&N(r,n);return r}var fo,po=/^--/,mo=/\s*!important$/,go=function(t,e,n){if(po.test(e))t.style.setProperty(e,n);else if(mo.test(n))t.style.setProperty(O(e),n.replace(mo,""),"important");else{var r=yo(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},vo=["Webkit","Moz","ms"],yo=x((function(t){if(fo=fo||document.createElement("div").style,t=A(t),"filter"!==t&&t in fo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<vo.length;n++){var r=vo[n]+e;if(r in fo)return r}}));function bo(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var s,a,c=e.elm,l=o.staticStyle,u=o.normalizedStyle||o.style||{},h=l||u,f=uo(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?N({},f):f;var d=ho(e,!0);for(a in h)r(d[a])&&go(c,a,"");for(a in d)s=d[a],s!==h[a]&&go(c,a,null==s?"":s)}}var wo={create:bo,update:bo},xo=/\s+/;function So(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(xo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ao(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(xo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function ko(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&N(e,Co(t.name||"v")),N(e,t),e}return"string"===typeof t?Co(t):void 0}}var Co=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Oo=Y&&!et,Mo="transition",Eo="animation",To="transition",_o="transitionend",No="animation",Ro="animationend";Oo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(To="WebkitTransition",_o="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(No="WebkitAnimation",Ro="webkitAnimationEnd"));var Do=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Po(t){Do((function(){Do(t)}))}function Io(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),So(t,e))}function jo(t,e){t._transitionClasses&&y(t._transitionClasses,e),Ao(t,e)}function $o(t,e,n){var r=Bo(t,e),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===Mo?_o:Ro,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=s&&l()};setTimeout((function(){c<s&&l()}),o+1),t.addEventListener(a,u)}var Lo=/\b(transform|all)(,|$)/;function Bo(t,e){var n,r=window.getComputedStyle(t),i=(r[To+"Delay"]||"").split(", "),o=(r[To+"Duration"]||"").split(", "),s=Fo(i,o),a=(r[No+"Delay"]||"").split(", "),c=(r[No+"Duration"]||"").split(", "),l=Fo(a,c),u=0,h=0;e===Mo?s>0&&(n=Mo,u=s,h=o.length):e===Eo?l>0&&(n=Eo,u=l,h=c.length):(u=Math.max(s,l),n=u>0?s>l?Mo:Eo:null,h=n?n===Mo?o.length:c.length:0);var f=n===Mo&&Lo.test(r[To+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:f}}function Fo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Vo(e)+Vo(t[n])})))}function Vo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function zo(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=ko(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var s=o.css,a=o.type,l=o.enterClass,u=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,p=o.appearActiveClass,g=o.beforeEnter,v=o.enter,y=o.afterEnter,b=o.enterCancelled,w=o.beforeAppear,x=o.appear,S=o.afterAppear,A=o.appearCancelled,k=o.duration,C=_n,O=_n.$vnode;while(O&&O.parent)C=O.context,O=O.parent;var M=!C._isMounted||!t.isRootInsert;if(!M||x||""===x){var E=M&&f?f:l,T=M&&p?p:h,_=M&&d?d:u,N=M&&w||g,R=M&&"function"===typeof x?x:v,D=M&&S||y,P=M&&A||b,I=m(c(k)?k.enter:k);0;var j=!1!==s&&!et,$=Wo(R),B=n._enterCb=L((function(){j&&(jo(n,_),jo(n,T)),B.cancelled?(j&&jo(n,E),P&&P(n)):D&&D(n),n._enterCb=null}));t.data.show||xe(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(n,B)})),N&&N(n),j&&(Io(n,E),Io(n,T),Po((function(){jo(n,E),B.cancelled||(Io(n,_),$||(Uo(I)?setTimeout(B,I):$o(n,a,B)))}))),t.data.show&&(e&&e(),R&&R(n,B)),j||$||B()}}}function Ho(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=ko(t.data.transition);if(r(o)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var s=o.css,a=o.type,l=o.leaveClass,u=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,d=o.leave,p=o.afterLeave,g=o.leaveCancelled,v=o.delayLeave,y=o.duration,b=!1!==s&&!et,w=Wo(d),x=m(c(y)?y.leave:y);0;var S=n._leaveCb=L((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(jo(n,u),jo(n,h)),S.cancelled?(b&&jo(n,l),g&&g(n)):(e(),p&&p(n)),n._leaveCb=null}));v?v(A):A()}function A(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(Io(n,l),Io(n,h),Po((function(){jo(n,l),S.cancelled||(Io(n,u),w||(Uo(x)?setTimeout(S,x):$o(n,a,S)))}))),d&&d(n,S),b||w||S())}}function Uo(t){return"number"===typeof t&&!isNaN(t)}function Wo(t){if(r(t))return!1;var e=t.fns;return i(e)?Wo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function qo(t,e){!0!==e.data.show&&zo(e)}var Jo=Y?{create:qo,activate:qo,remove:function(t,e){!0!==t.data.show?Ho(t,e):e()}}:{},Ko=[Hi,qi,no,ao,wo,Jo],Go=Ko.concat(Bi),Yo=Ni({nodeOps:Ai,modules:Go});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&is(t,"input")}));var Xo={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?xe(n,"postpatch",(function(){Xo.componentUpdated(t,e,n)})):Zo(t,e,n.context),t._vOptions=[].map.call(t.options,es)):("textarea"===n.tag||li(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ns),t.addEventListener("compositionend",rs),t.addEventListener("change",rs),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Zo(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,es);if(i.some((function(t,e){return!j(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return ts(t,i)})):e.value!==e.oldValue&&ts(e.value,i);o&&is(t,"change")}}}};function Zo(t,e,n){Qo(t,e,n),(tt||nt)&&setTimeout((function(){Qo(t,e,n)}),0)}function Qo(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],i)o=$(r,es(s))>-1,s.selected!==o&&(s.selected=o);else if(j(es(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function ts(t,e){return e.every((function(e){return!j(e,t)}))}function es(t){return"_value"in t?t._value:t.value}function ns(t){t.target.composing=!0}function rs(t){t.target.composing&&(t.target.composing=!1,is(t.target,"input"))}function is(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function os(t){return!t.componentInstance||t.data&&t.data.transition?t:os(t.componentInstance._vnode)}var ss={bind:function(t,e,n){var r=e.value;n=os(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,zo(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=os(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?zo(n,(function(){t.style.display=t.__vOriginalDisplay})):Ho(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},as={model:Xo,show:ss},cs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ls(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ls(An(e.children)):t}function us(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[A(o)]=i[o];return e}function hs(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function fs(t){while(t=t.parent)if(t.data.transition)return!0}function ds(t,e){return e.key===t.key&&e.tag===t.tag}var ps=function(t){return t.tag||Sn(t)},ms=function(t){return"show"===t.name},gs={name:"transition",props:cs,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ps),n.length)){0;var r=this.mode;0;var i=n[0];if(fs(this.$vnode))return i;var o=ls(i);if(!o)return i;if(this._leaving)return hs(t,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=us(this),l=this._vnode,u=ls(l);if(o.data.directives&&o.data.directives.some(ms)&&(o.data.show=!0),u&&u.data&&!ds(o,u)&&!Sn(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=N({},c);if("out-in"===r)return this._leaving=!0,xe(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),hs(t,i);if("in-out"===r){if(Sn(o))return l;var f,d=function(){f()};xe(c,"afterEnter",d),xe(c,"enterCancelled",d),xe(h,"delayLeave",(function(t){f=t}))}}return i}}},vs=N({tag:String,moveClass:String},cs);delete vs.mode;var ys={props:vs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Nn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=us(this),a=0;a<i.length;a++){var c=i[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(r){for(var l=[],u=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?l.push(f):u.push(f)}this.kept=t(e,null,l),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(bs),t.forEach(ws),t.forEach(xs),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;Io(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(_o,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(_o,t),n._moveCb=null,jo(n,e))})}})))},methods:{hasMove:function(t,e){if(!Oo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ao(n,t)})),So(n,e),n.style.display="none",this.$el.appendChild(n);var r=Bo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function bs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ws(t){t.data.newPos=t.elm.getBoundingClientRect()}function xs(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Ss={Transition:gs,TransitionGroup:ys};Ar.config.mustUseProp=Fr,Ar.config.isReservedTag=oi,Ar.config.isReservedAttr=Lr,Ar.config.getTagNamespace=si,Ar.config.isUnknownElement=ci,N(Ar.options.directives,as),N(Ar.options.components,Ss),Ar.prototype.__patch__=Y?Yo:D,Ar.prototype.$mount=function(t,e){return t=t&&Y?ui(t):void 0,Pn(this,t,e)},Y&&setTimeout((function(){z.devtools&&lt&&lt.emit("init",Ar)}),0),e["a"]=Ar}).call(this,n("c8ba"))},"2caf":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("4ae1"),n("3410");function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n("d3b7"),n("25f0");function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0");function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?s(t):e}function c(t){var e=i();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},"2cf4":function(t,e,n){var r,i,o,s=n("da84"),a=n("d039"),c=n("c6b6"),l=n("0366"),u=n("1be4"),h=n("cc12"),f=n("1cdc"),d=s.location,p=s.setImmediate,m=s.clearImmediate,g=s.process,v=s.MessageChannel,y=s.Dispatch,b=0,w={},x="onreadystatechange",S=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},A=function(t){return function(){S(t)}},k=function(t){S(t.data)},C=function(t){s.postMessage(t+"",d.protocol+"//"+d.host)};p&&m||(p=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},m=function(t){delete w[t]},"process"==c(g)?r=function(t){g.nextTick(A(t))}:y&&y.now?r=function(t){y.now(A(t))}:v&&!f?(i=new v,o=i.port2,i.port1.onmessage=k,r=l(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(C)||"file:"===d.protocol?r=x in h("script")?function(t){u.appendChild(h("script"))[x]=function(){u.removeChild(this),S(t)}}:function(t){setTimeout(A(t),0)}:(r=C,s.addEventListener("message",k,!1))),t.exports={set:p,clear:m}},"2d00":function(t,e,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=a&&a.versions,l=c&&c.v8;l?(r=l.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),t.exports=i&&+i},"2d83":function(t,e,n){"use strict";var r=n("387f");t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},"2e67":function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2f62":function(t,e,n){"use strict";(function(t){
/*!
 * vuex v3.5.1
 * (c) 2020 Evan You
 * @license MIT
 */
function n(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var r="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},i=r.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){i.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){i.emit("vuex:action",t,e)}),{prepend:!0}))}function s(t,e){return t.filter(e)[0]}function a(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var n=s(e,(function(e){return e.original===t}));if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=a(t[n],e)})),r}function c(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function l(t){return null!==t&&"object"===typeof t}function u(t){return t&&"function"===typeof t.then}function h(t,e){return function(){return t(e)}}var f=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},d={namespaced:{configurable:!0}};d.namespaced.get=function(){return!!this._rawModule.namespaced},f.prototype.addChild=function(t,e){this._children[t]=e},f.prototype.removeChild=function(t){delete this._children[t]},f.prototype.getChild=function(t){return this._children[t]},f.prototype.hasChild=function(t){return t in this._children},f.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},f.prototype.forEachChild=function(t){c(this._children,t)},f.prototype.forEachGetter=function(t){this._rawModule.getters&&c(this._rawModule.getters,t)},f.prototype.forEachAction=function(t){this._rawModule.actions&&c(this._rawModule.actions,t)},f.prototype.forEachMutation=function(t){this._rawModule.mutations&&c(this._rawModule.mutations,t)},Object.defineProperties(f.prototype,d);var p=function(t){this.register([],t,!1)};function m(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;m(t.concat(r),e.getChild(r),n.modules[r])}}p.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},p.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},p.prototype.update=function(t){m([],this.root,t)},p.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new f(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&c(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},p.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},p.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return e.hasChild(n)};var g;var v=function(t){var e=this;void 0===t&&(t={}),!g&&"undefined"!==typeof window&&window.Vue&&N(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new g,this._makeLocalGettersCache=Object.create(null);var i=this,s=this,a=s.dispatch,c=s.commit;this.dispatch=function(t,e){return a.call(i,t,e)},this.commit=function(t,e,n){return c.call(i,t,e,n)},this.strict=r;var l=this._modules.root.state;S(this,l,[],this._modules.root),x(this,l),n.forEach((function(t){return t(e)}));var u=void 0!==t.devtools?t.devtools:g.config.devtools;u&&o(this)},y={state:{configurable:!0}};function b(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function w(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;S(t,n,[],t._modules.root,!0),x(t,n,e)}function x(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};c(i,(function(e,n){o[n]=h(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=g.config.silent;g.config.silent=!0,t._vm=new g({data:{$$state:e},computed:o}),g.config.silent=s,t.strict&&E(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),g.nextTick((function(){return r.$destroy()})))}function S(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=T(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){g.set(a,c,r.state)}))}var l=r.context=A(t,s,n);r.forEachMutation((function(e,n){var r=s+n;C(t,r,e,l)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;O(t,r,i,l)})),r.forEachGetter((function(e,n){var r=s+n;M(t,r,e,l)})),r.forEachChild((function(r,o){S(t,e,n.concat(o),r,i)}))}function A(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=_(n,r,i),s=o.payload,a=o.options,c=o.type;return a&&a.root||(c=e+c),t.dispatch(c,s)},commit:r?t.commit:function(n,r,i){var o=_(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=e+c),t.commit(c,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return k(t,e)}},state:{get:function(){return T(t.state,n)}}}),i}function k(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function C(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function O(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return u(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function M(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function E(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function T(t,e){return e.reduce((function(t,e){return t[e]}),t)}function _(t,e,n){return l(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function N(t){g&&t===g||(g=t,n(g))}y.state.get=function(){return this._vm._data.$$state},y.state.set=function(t){0},v.prototype.commit=function(t,e,n){var r=this,i=_(t,e,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),c=this._mutations[o];c&&(this._withCommit((function(){c.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},v.prototype.dispatch=function(t,e){var n=this,r=_(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(l){0}var c=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(l){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(l){0}e(t)}))}))}},v.prototype.subscribe=function(t,e){return b(t,this._subscribers,e)},v.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return b(n,this._actionSubscribers,e)},v.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},v.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},v.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),S(this,this.state,t,this._modules.get(t),n.preserveState),x(this,this.state)},v.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=T(e.state,t.slice(0,-1));g.delete(n,t[t.length-1])})),w(this)},v.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},v.prototype.hotUpdate=function(t){this._modules.update(t),w(this,!0)},v.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(v.prototype,y);var R=B((function(t,e){var n={};return $(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=F(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),D=B((function(t,e){var n={};return $(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=F(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),P=B((function(t,e){var n={};return $(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||F(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),I=B((function(t,e){var n={};return $(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=F(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),j=function(t){return{mapState:R.bind(null,t),mapGetters:P.bind(null,t),mapMutations:D.bind(null,t),mapActions:I.bind(null,t)}};function $(t){return L(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function L(t){return Array.isArray(t)||l(t)}function B(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function F(t,e,n){var r=t._modulesNamespaceMap[n];return r}function V(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var i=t.mutationTransformer;void 0===i&&(i=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var c=t.logMutations;void 0===c&&(c=!0);var l=t.logActions;void 0===l&&(l=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var h=a(t.state);"undefined"!==typeof u&&(c&&t.subscribe((function(t,o){var s=a(o);if(n(t,h,s)){var c=U(),l=i(t),f="mutation "+t.type+c;z(u,f,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(h)),u.log("%c mutation","color: #03A9F4; font-weight: bold",l),u.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),H(u)}h=s})),l&&t.subscribeAction((function(t,n){if(o(t,n)){var r=U(),i=s(t),a="action "+t.type+r;z(u,a,e),u.log("%c action","color: #03A9F4; font-weight: bold",i),H(u)}})))}}function z(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(i){t.log(e)}}function H(t){try{t.groupEnd()}catch(e){t.log(" log end ")}}function U(){var t=new Date;return" @ "+q(t.getHours(),2)+":"+q(t.getMinutes(),2)+":"+q(t.getSeconds(),2)+"."+q(t.getMilliseconds(),3)}function W(t,e){return new Array(e+1).join(t)}function q(t,e){return W("0",e-t.toString().length)+t}var J={Store:v,install:N,version:"3.5.1",mapState:R,mapMutations:D,mapGetters:P,mapActions:I,createNamespacedHelpers:j,createLogger:V};e["a"]=J}).call(this,n("c8ba"))},"2fe1":function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return g}));var r=n("2b0e");
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return a(t)||c(t)||l()}function a(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function h(t,e){f(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){f(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){f(t,e,n)}))}function f(t,e,n){var r=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);r.forEach((function(r){var i=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,i,t,n):Reflect.defineMetadata(r,i,t)}))}var d={__proto__:[]},p=d instanceof Array;function m(t){return function(e,n,r){var i="function"===typeof e?e:e.constructor;i.__decorators__||(i.__decorators__=[]),"number"!==typeof r&&(r=void 0),i.__decorators__.push((function(e){return t(e,n,r)}))}}function g(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r["a"].extend({mixins:e})}function v(t){var e=i(t);return null==t||"object"!==e&&"function"!==e}function y(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var r=new e;e.prototype._init=n;var i={};return Object.keys(r).forEach((function(t){void 0!==r[t]&&(i[t]=r[t])})),i}var b=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(b.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"===typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return o({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return y(this,t)}});var i=t.__decorators__;i&&(i.forEach((function(t){return t(e)})),delete t.__decorators__);var s=Object.getPrototypeOf(t.prototype),a=s instanceof r["a"]?s.constructor:r["a"],c=a.extend(e);return S(c,t,a),u()&&h(c,t),c}var x={prototype:!0,arguments:!0,callee:!0,caller:!0};function S(t,e,n){Object.getOwnPropertyNames(e).forEach((function(r){if(!x[r]){var i=Object.getOwnPropertyDescriptor(t,r);if(!i||i.configurable){var o=Object.getOwnPropertyDescriptor(e,r);if(!p){if("cid"===r)return;var s=Object.getOwnPropertyDescriptor(n,r);if(!v(o.value)&&s&&s.value===o.value)return}0,Object.defineProperty(t,r,o)}}}))}function A(t){return"function"===typeof t?w(t):function(e){return w(e,t)}}A.registerHooks=function(t){b.push.apply(b,s(t))},e["b"]=A},"304a":function(t,e,n){"use strict";function r(t){this.content=t}n.r(e),n.d(e,"ContentMatch",(function(){return V})),n.d(e,"DOMParser",(function(){return dt})),n.d(e,"DOMSerializer",(function(){return _t})),n.d(e,"Fragment",(function(){return c})),n.d(e,"Mark",(function(){return d})),n.d(e,"MarkType",(function(){return ut})),n.d(e,"Node",(function(){return $})),n.d(e,"NodeRange",(function(){return P})),n.d(e,"NodeType",(function(){return st})),n.d(e,"ReplaceError",(function(){return p})),n.d(e,"ResolvedPos",(function(){return T})),n.d(e,"Schema",(function(){return ht})),n.d(e,"Slice",(function(){return m})),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),s=i.content.slice();return-1==o?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),s=i.find(t);return o.splice(-1==s?o.length:s,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=r.from(t),t.size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=r.from(t),t.size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var i=r,o=i;function s(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var i=t.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){var c=s(i.content,o.content,n+1);if(null!=c)return c}n+=i.nodeSize}else n+=i.nodeSize}}function a(t,e,n,r){for(var i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};var s=t.child(--i),c=e.child(--o),l=s.nodeSize;if(s!=c){if(!s.sameMarkup(c))return{a:n,b:r};if(s.isText&&s.text!=c.text){var u=0,h=Math.min(s.text.length,c.text.length);while(u<h&&s.text[s.text.length-u-1]==c.text[c.text.length-u-1])u++,n--,r--;return{a:n,b:r}}if(s.content.size||c.content.size){var f=a(s.content,c.content,n-1,r-1);if(f)return f}n-=l,r-=l}else n-=l,r-=l}}var c=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},l={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};c.prototype.nodesBetween=function(t,e,n,r,i){void 0===r&&(r=0);for(var o=0,s=0;s<e;o++){var a=this.content[o],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,i,o)&&a.content.size){var l=s+1;a.nodesBetween(Math.max(0,t-l),Math.min(a.content.size,e-l),n,r+l)}s=c}},c.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},c.prototype.textBetween=function(t,e,n,r){var i="",o=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!n):s.isLeaf&&r?(i+=r,o=!n):!o&&s.isBlock&&(i+=n,o=!0)}),0),i},c.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new c(r,this.size+t.size)},c.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var i=0,o=0;o<e;i++){var s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),n.push(s),r+=s.nodeSize),o=a}return new c(n,r)},c.prototype.cutByIndex=function(t,e){return t==e?c.empty:0==t&&e==this.content.length?this:new c(this.content.slice(t,e))},c.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new c(r,i)},c.prototype.addToStart=function(t){return new c([t].concat(this.content),this.size+t.nodeSize)},c.prototype.addToEnd=function(t){return new c(this.content.concat(t),this.size+t.nodeSize)},c.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},l.firstChild.get=function(){return this.content.length?this.content[0]:null},l.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},l.childCount.get=function(){return this.content.length},c.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},c.prototype.maybeChild=function(t){return this.content[t]},c.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},c.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),s(this,t,e)},c.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),a(this,t,e,n)},c.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return h(0,t);if(t==this.size)return h(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t||e>0?h(n+1,o):h(n,r);r=o}},c.prototype.toString=function(){return"<"+this.toStringInner()+">"},c.prototype.toStringInner=function(){return this.content.join(", ")},c.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},c.fromJSON=function(t,e){if(!e)return c.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new c(e.map(t.nodeFromJSON))},c.fromArray=function(t){if(!t.length)return c.empty;for(var e,n=0,r=0;r<t.length;r++){var i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new c(e||t,n)},c.from=function(t){if(!t)return c.empty;if(t instanceof c)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new c([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(c.prototype,l);var u={index:0,offset:0};function h(t,e){return u.index=t,u.offset=e,u}function f(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!f(t[r],e[r]))return!1}else{for(var i in t)if(!(i in e)||!f(t[i],e[i]))return!1;for(var o in e)if(!(o in t))return!1}return!0}c.empty=new c([],0);var d=function(t,e){this.type=t,this.attrs=e};function p(t){var e=Error.call(this,t);return e.__proto__=p.prototype,e}d.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e},d.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},d.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},d.prototype.eq=function(t){return this==t||this.type==t.type&&f(this.attrs,t.attrs)},d.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},d.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},d.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},d.setFrom=function(t){if(!t||0==t.length)return d.none;if(t instanceof d)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},d.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var m=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},g={size:{configurable:!0}};function v(t,e,n){var r=t.findIndex(e),i=r.index,o=r.offset,s=t.maybeChild(i),a=t.findIndex(n),c=a.index,l=a.offset;if(o==e||s.isText){if(l!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(v(s.content,e-o-1,n-o-1)))}function y(t,e,n,r){var i=t.findIndex(e),o=i.index,s=i.offset,a=t.maybeChild(o);if(s==e||a.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));var c=y(a.content,e-s-1,n);return c&&t.replaceChild(o,a.copy(c))}function b(t,e,n){if(n.openStart>t.depth)throw new p("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new p("Inconsistent open depths");return w(t,e,n,0)}function w(t,e,n,r){var i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){var s=w(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=E(n,t),c=a.start,l=a.end;return C(o,O(t,c,l,e,r))}var u=t.parent,h=u.content;return C(u,h.cut(0,t.parentOffset).append(n.content).append(h.cut(e.parentOffset)))}return C(o,M(t,e,r))}function x(t,e){if(!e.type.compatibleContent(t.type))throw new p("Cannot join "+e.type.name+" onto "+t.type.name)}function S(t,e,n){var r=t.node(n);return x(r,e.node(n)),r}function A(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function k(t,e,n,r){var i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(A(t.nodeAfter,r),o++));for(var a=o;a<s;a++)A(i.child(a),r);e&&e.depth==n&&e.textOffset&&A(e.nodeBefore,r)}function C(t,e){if(!t.type.validContent(e))throw new p("Invalid content for node "+t.type.name);return t.copy(e)}function O(t,e,n,r,i){var o=t.depth>i&&S(t,e,i+1),s=r.depth>i&&S(n,r,i+1),a=[];return k(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(x(o,s),A(C(o,O(t,e,n,r,i+1)),a)):(o&&A(C(o,M(t,e,i+1)),a),k(e,n,i,a),s&&A(C(s,M(n,r,i+1)),a)),k(r,null,i,a),new c(a)}function M(t,e,n){var r=[];if(k(null,t,n,r),t.depth>n){var i=S(t,e,n+1);A(C(i,M(t,e,n+1)),r)}return k(e,null,n,r),new c(r)}function E(t,e){for(var n=e.depth-t.openStart,r=e.node(n),i=r.copy(t.content),o=n-1;o>=0;o--)i=e.node(o).copy(c.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}g.size.get=function(){return this.content.size-this.openStart-this.openEnd},m.prototype.insertAt=function(t,e){var n=y(this.content,t+this.openStart,e,null);return n&&new m(n,this.openStart,this.openEnd)},m.prototype.removeBetween=function(t,e){return new m(v(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},m.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},m.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},m.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},m.fromJSON=function(t,e){if(!e)return m.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new m(c.fromJSON(t,e.content),n,r)},m.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new m(t,n,r)},Object.defineProperties(m.prototype,g),m.empty=new m(c.empty,0,0);var T=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},_={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};T.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},_.parent.get=function(){return this.node(this.depth)},_.doc.get=function(){return this.node(0)},T.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},T.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},T.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},T.prototype.start=function(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1},T.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},T.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},T.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},_.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},_.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},_.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},T.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)r+=n.child(i).nodeSize;return r},T.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return d.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var i=n;n=r,r=i}for(var o=n.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||r&&o[s].isInSet(r.marks)||(o=o[s--].removeFromSet(o));return o},T.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n},T.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},T.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new P(this,t,n)},T.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},T.prototype.max=function(t){return t.pos>this.pos?t:this},T.prototype.min=function(t){return t.pos<this.pos?t:this},T.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},T.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,i=e,o=t;;){var s=o.content.findIndex(i),a=s.index,c=s.offset,l=i-c;if(n.push(o,a,r+c),!l)break;if(o=o.child(a),o.isText)break;i=l-1,r+=c+1}return new T(e,n,i)},T.resolveCached=function(t,e){for(var n=0;n<N.length;n++){var r=N[n];if(r.pos==e&&r.doc==t)return r}var i=N[R]=T.resolve(t,e);return R=(R+1)%D,i},Object.defineProperties(T.prototype,_);var N=[],R=0,D=12,P=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},I={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};I.start.get=function(){return this.$from.before(this.depth+1)},I.end.get=function(){return this.$to.after(this.depth+1)},I.parent.get=function(){return this.$from.node(this.depth)},I.startIndex.get=function(){return this.$from.index(this.depth)},I.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(P.prototype,I);var j=Object.create(null),$=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||c.empty,this.marks=r||d.none},L={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};L.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},L.childCount.get=function(){return this.content.childCount},$.prototype.child=function(t){return this.content.child(t)},$.prototype.maybeChild=function(t){return this.content.maybeChild(t)},$.prototype.forEach=function(t){this.content.forEach(t)},$.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},$.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},L.textContent.get=function(){return this.textBetween(0,this.content.size,"")},$.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},L.firstChild.get=function(){return this.content.firstChild},L.lastChild.get=function(){return this.content.lastChild},$.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},$.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},$.prototype.hasMarkup=function(t,e,n){return this.type==t&&f(this.attrs,e||t.defaultAttrs||j)&&d.sameSet(this.marks,n||d.none)},$.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},$.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},$.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},$.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return m.empty;var r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),s=r.start(o),a=r.node(o),c=a.content.cut(r.pos-s,i.pos-s);return new m(c,r.depth-o,i.depth-o)},$.prototype.replace=function(t,e,n){return b(this.resolve(t),this.resolve(e),n)},$.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,i=n.offset;if(e=e.maybeChild(r),!e)return null;if(i==t||e.isText)return e;t-=i+1}},$.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},$.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}},$.prototype.resolve=function(t){return T.resolveCached(this,t)},$.prototype.resolveNoCache=function(t){return T.resolve(this,t)},$.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},L.isBlock.get=function(){return this.type.isBlock},L.isTextblock.get=function(){return this.type.isTextblock},L.inlineContent.get=function(){return this.type.inlineContent},L.isInline.get=function(){return this.type.isInline},L.isText.get=function(){return this.type.isText},L.isLeaf.get=function(){return this.type.isLeaf},L.isAtom.get=function(){return this.type.isAtom},$.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),F(this.marks,t)},$.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},$.prototype.canReplace=function(t,e,n,r,i){void 0===n&&(n=c.empty),void 0===r&&(r=0),void 0===i&&(i=n.childCount);var o=this.contentMatchAt(t).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},$.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd},$.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},$.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(t){return t.check()}))},$.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},$.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=c.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties($.prototype,L);var B=function(t){function e(e,n,r,i){if(t.call(this,e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):F(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}($);function F(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var V=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},z={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};V.parse=function(t,e){var n=new H(t,e);if(null==n.next)return V.empty;var r=W(n);n.next&&n.err("Unexpected trailing text");var i=et(Z(r));return nt(i,n),i},V.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},V.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r},z.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},z.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},V.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},V.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];function i(o,s){var a=o.matchFragment(t,n);if(a&&(!e||a.validEnd))return c.from(s.map((function(t){return t.createAndFill()})));for(var l=0;l<o.next.length;l+=2){var u=o.next[l],h=o.next[l+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(h)){r.push(h);var f=i(h,s.concat(u));if(f)return f}}}return i(this,[])},V.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},V.prototype.computeWrapping=function(t){var e=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){var r=n.shift(),i=r.match;if(i.matchType(t)){for(var o=[],s=r;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<i.next.length;a+=2){var c=i.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!i.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},z.edgeCount.get=function(){return this.next.length>>1},V.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},V.prototype.toString=function(){var t=[];function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}return e(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)r+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return r})).join("\n")},Object.defineProperties(V.prototype,z),V.empty=new V(!0);var H=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},U={next:{configurable:!0}};function W(t){var e=[];do{e.push(q(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function q(t){var e=[];do{e.push(J(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function J(t){for(var e=X(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=G(t,e)}return e}function K(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function G(t,e){var n=K(t),r=n;return t.eat(",")&&(r="}"!=t.next?K(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Y(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var i=[];for(var o in n){var s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}function X(t){if(t.eat("(")){var e=W(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=Y(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}function Z(t){var e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}function o(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(o(n,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=o(t.exprs[s],e);if(s==t.exprs.length-1)return a;i(a,e=n())}else{if("star"==t.type){var c=n();return r(e,c),i(o(t.expr,c),c),[r(c)]}if("plus"==t.type){var l=n();return i(o(t.expr,e),l),i(o(t.expr,l),l),[r(l)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){for(var u=e,h=0;h<t.min;h++){var f=n();i(o(t.expr,u),f),u=f}if(-1==t.max)i(o(t.expr,u),u);else for(var d=t.min;d<t.max;d++){var p=n();r(u,p),i(o(t.expr,u),p),u=p}return[r(u)]}if("name"==t.type)return[r(e,null,t.value)]}}}function Q(t,e){return e-t}function tt(t,e){var n=[];return r(e),n.sort(Q);function r(e){var i=t[e];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(e);for(var o=0;o<i.length;o++){var s=i[o],a=s.term,c=s.to;a||-1!=n.indexOf(c)||r(c)}}}function et(t){var e=Object.create(null);return n(tt(t,0));function n(r){var i=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var o=i.indexOf(n),s=o>-1&&i[o+1];tt(t,r).forEach((function(t){s||i.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var o=e[r.join(",")]=new V(r.indexOf(t.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(Q);o.next.push(i[s],e[a.join(",")]||n(a))}return o}}function nt(t,e){for(var n=0,r=[t];n<r.length;n++){for(var i=r[n],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var c=i.next[a],l=i.next[a+1];s.push(c.name),!o||c.isText||c.hasRequiredAttrs()||(o=!1),-1==r.indexOf(l)&&r.push(l)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function rt(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function it(t,e){var n=Object.create(null);for(var r in t){var i=e&&e[r];if(void 0===i){var o=t[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function ot(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new ct(t[n]);return e}U.next.get=function(){return this.tokens[this.pos]},H.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},H.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(H.prototype,U);var st=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=ot(n.attrs),this.defaultAttrs=rt(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},at={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};at.isInline.get=function(){return!this.isBlock},at.isTextblock.get=function(){return this.isBlock&&this.inlineContent},at.isLeaf.get=function(){return this.contentMatch==V.empty},at.isAtom.get=function(){return this.isLeaf||this.spec.atom},st.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},st.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},st.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:it(this.attrs,t)},st.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $(this,this.computeAttrs(t),c.from(e),d.setFrom(n))},st.prototype.createChecked=function(t,e,n){if(e=c.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new $(this,this.computeAttrs(t),e,d.setFrom(n))},st.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=c.from(e),e.size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(c.empty,!0);return i?new $(this,t,e.append(i),d.setFrom(n)):null},st.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},st.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},st.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},st.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:d.empty:t},st.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new st(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(st.prototype,at);var ct=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},lt={isRequired:{configurable:!0}};lt.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(ct.prototype,lt);var ut=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=ot(r.attrs),this.rank=e,this.excluded=null;var i=rt(this.attrs);this.instance=i&&new d(this,i)};ut.prototype.create=function(t){return!t&&this.instance?this.instance:new d(this,it(this.attrs,t))},ut.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,i){return n[t]=new ut(t,r++,e,i)})),n},ut.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},ut.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},ut.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var ht=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=o.from(t.nodes),this.spec.marks=o.from(t.marks),this.nodes=st.compile(this.spec.nodes,this),this.marks=ut.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[s]||(n[s]=V.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?ft(this,a.split(" ")):""!=a&&i.inlineContent?null:[]}for(var c in this.marks){var l=this.marks[c],u=l.spec.excludes;l.excluded=null==u?[l]:""==u?[]:ft(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function ft(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(var a in t.marks){var c=t.marks[a];("_"==i||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}ht.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof st))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},ht.prototype.text=function(t,e){var n=this.nodes.text;return new B(n,n.defaultAttrs,t,d.setFrom(e))},ht.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},ht.prototype.nodeFromJSON=function(t){return $.fromJSON(this,t)},ht.prototype.markFromJSON=function(t){return d.fromJSON(this,t)},ht.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var dt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};dt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new St(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},dt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new St(this,e,!0);return n.addAll(t,null,e.from,e.to),m.maxOpen(n.finish())},dt.prototype.matchTag=function(t,e){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(Ct(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){var i=r.getAttrs(t);if(!1===i)continue;r.attrs=i}return r}}},dt.prototype.matchStyle=function(t,e,n){for(var r=0;r<this.styles.length;r++){var i=this.styles[r];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var o=i.getAttrs(e);if(!1===o)continue;i.attrs=o}return i}}},dt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var i=e[r],o=null==i.priority?50:i.priority;if(o<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=Mt(t)),t.mark=e}))};for(var i in t.marks)r(i);var o=function(e){var r=t.nodes[s].spec.parseDOM;r&&r.forEach((function(t){n(t=Mt(t)),t.node=s}))};for(var s in t.nodes)o();return e},dt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new dt(t,dt.schemaRules(t)))};var pt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},gt={ol:!0,ul:!0},vt=1,yt=2,bt=4;function wt(t){return(t?vt:0)|("full"===t?yt:0)}var xt=function(t,e,n,r,i,o,s){this.type=t,this.attrs=e,this.solid=i,this.match=o||(s&bt?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=d.none,this.pendingMarks=r,this.stashMarks=[]};xt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(c.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},xt.prototype.finish=function(t){if(!(this.options&vt)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=c.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(c.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},xt.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(this.stashMarks[e].type==t)return this.stashMarks.splice(e,1)[0]},xt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];if((this.type?this.type.allowsMarkType(r.type):Et(r.type,t))&&!r.isInSet(this.activeMarks)){var i=Tt(r,this.activeMarks);i&&this.stashMarks.push(i),this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks)}}};var St=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,i=e.topNode,o=wt(e.preserveWhitespace)|(n?bt:0);r=i?new xt(i.type,i.attrs,d.none,d.none,!0,e.topMatch||i.type.contentMatch,o):new xt(n?null:t.schema.topNodeType,null,d.none,d.none,!0,null,o),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},At={top:{configurable:!0},currentPos:{configurable:!0}};function kt(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&gt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}function Ct(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ot(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(e=n.exec(t))r.push(e[1],e[2].trim());return r}function Mt(t){var e={};for(var n in t)e[n]=t[n];return e}function Et(t,e){var n=e.schema.nodes,r=function(r){var i=n[r];if(i.allowsMarkType(t)){var o=[],s=function(t){o.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),i=r.type,a=r.next;if(i==e)return!0;if(o.indexOf(a)<0&&s(a))return!0}};return s(i.contentMatch)?{v:!0}:void 0}};for(var i in n){var o=r(i);if(o)return o.v}}function Tt(t,e){for(var n=0;n<e.length;n++)if(t.type==e[n].type)return e[n]}At.top.get=function(){return this.nodes[this.open]},St.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(Ot(e)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(t),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r)}},St.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&vt)n.options&yt||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},St.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();gt.hasOwnProperty(e)&&this.parser.normalizeLists&&kt(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:mt.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(t=n.skip);var r,i=this.top,o=this.needsBlock;if(pt.hasOwnProperty(e))r=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),r&&this.sync(i),this.needsBlock=o}else this.addElementByRule(t,n)},St.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},St.prototype.readStyles=function(t){for(var e=d.none,n=0;n<t.length;n+=2){var r=this.parser.matchStyle(t[n],t[n+1],this);if(r){if(r.ignore)return null;e=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(e)}}return e},St.prototype.addElementByRule=function(t,e){var n,r,i,o,s=this;e.node?(r=this.parser.schema.nodes[e.node],r.isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(t):n=this.enter(r,e.attrs,e.preserveWhitespace)):(i=this.parser.schema.marks[e.mark],o=i.create(e.attrs),this.addPendingMark(o));var a=this.top;if(r&&r.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,n)}n&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},St.prototype.addAll=function(t,e,n,r){for(var i=n||0,o=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o),e&&pt.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},St.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},St.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,i=0;i<t.marks.length;i++)n.type&&!n.type.allowsMarkType(t.marks[i].type)||(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},St.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},St.prototype.enterInner=function(t,e,n,r){this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t,e);var o=null==r?i.options&~bt:wt(r);i.options&bt&&0==i.content.length&&(o|=bt),this.nodes.push(new xt(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++},St.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},St.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},St.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},At.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},St.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},St.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},St.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){var i=e.compareDocumentPosition(this.find[r].node);i&(n?2:4)&&(this.find[r].pos=this.currentPos)}},St.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},St.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=function(t,a){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;a>=o;a--)if(s(t-1,a))return!0;return!1}var l=a>0||0==a&&i?e.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!l||l.name!=c&&-1==l.groups.indexOf(c))return!1;a--}return!0};return s(n.length-1,this.open)},St.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}},St.prototype.addPendingMark=function(t){var e=Tt(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},St.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n],i=r.pendingMarks.lastIndexOf(t);if(i>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t.type);o&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(St.prototype,At);var _t=function(t,e){this.nodes=t||{},this.marks=e||{}};function Nt(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Rt(t){return t.document||window.document}_t.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=Rt(e).createDocumentFragment());var i=n,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);var n=0,s=0;while(n<o.length&&s<t.marks.length){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(o[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}while(n<o.length)i=o.pop(),o.pop();while(s<t.marks.length){var c=t.marks[s++],l=r.serializeMark(c,t.isInline,e);l&&(o.push(c,i),i.appendChild(l.dom),i=l.contentDOM||l.dom)}}i.appendChild(r.serializeNode(t,e))})),n},_t.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=_t.renderSpec(Rt(e),this.nodes[t.type.name](t)),r=n.dom,i=n.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return r},_t.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),r=t.marks.length-1;r>=0;r--){var i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n},_t.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&_t.renderSpec(Rt(n),r(t,e))},_t.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var r=e[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));var o=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],c=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var l in c=2,a)if(null!=a[l]){var u=l.indexOf(" ");u>0?s.setAttributeNS(l.slice(0,u),l.slice(u+1),a[l]):s.setAttribute(l,a[l])}for(var h=c;h<e.length;h++){var f=e[h];if(0===f){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var d=_t.renderSpec(t,f,n),p=d.dom,m=d.contentDOM;if(s.appendChild(p),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:s,contentDOM:o}},_t.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new _t(this.nodesFromSchema(t),this.marksFromSchema(t)))},_t.nodesFromSchema=function(t){var e=Nt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},_t.marksFromSchema=function(t){return Nt(t.marks)}},"30b5":function(t,e,n){"use strict";var r=n("c532");function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},"32ff":function(t,e,n){"use strict";n.r(e),n.d(e,"Inject",(function(){return s})),n.d(e,"InjectReactive",(function(){return a})),n.d(e,"Provide",(function(){return u})),n.d(e,"ProvideReactive",(function(){return h})),n.d(e,"Model",(function(){return p})),n.d(e,"Prop",(function(){return m})),n.d(e,"PropSync",(function(){return g})),n.d(e,"Watch",(function(){return v})),n.d(e,"Emit",(function(){return w})),n.d(e,"Ref",(function(){return x}));var r=n("2b0e");n.d(e,"Vue",(function(){return r["a"]}));var i=n("2fe1");n.d(e,"Component",(function(){return i["b"]})),n.d(e,"Mixins",(function(){return i["c"]}));var o="__reactiveInject__";function s(t){return Object(i["a"])((function(e,n){"undefined"===typeof e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)}))}function a(t){return Object(i["a"])((function(e,n){if("undefined"===typeof e.inject&&(e.inject={}),!Array.isArray(e.inject)){var r=t?t.from||t:n,i=!!t&&t.default||void 0;e.computed||(e.computed={}),e.computed[n]=function(){var t=this[o];return t?t[r]:i},e.inject[o]=o}}))}function c(t){var e=function(){var n=this,r="function"===typeof t?t.call(this):t;for(var i in r=Object.create(r||null),r[o]=this[o]||{},e.managed)r[e.managed[i]]=this[i];var s=function(t){r[e.managedReactive[t]]=a[t],Object.defineProperty(r[o],e.managedReactive[t],{enumerable:!0,get:function(){return n[t]}})},a=this;for(var i in e.managedReactive)s(i);return r};return e.managed={},e.managedReactive={},e}function l(t){return"function"!==typeof t||!t.managed&&!t.managedReactive}function u(t){return Object(i["a"])((function(e,n){var r=e.provide;l(r)&&(r=e.provide=c(r)),r.managed[n]=t||n}))}function h(t){return Object(i["a"])((function(e,n){var r=e.provide;Array.isArray(e.inject)||(e.inject=e.inject||{},e.inject[o]={from:o,default:{}}),l(r)&&(r=e.provide=c(r)),r.managedReactive[n]=t||n}))}var f="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function d(t,e,n){if(f&&!Array.isArray(t)&&"function"!==typeof t&&"undefined"===typeof t.type){var r=Reflect.getMetadata("design:type",e,n);r!==Object&&(t.type=r)}}function p(t,e){return void 0===e&&(e={}),function(n,r){d(e,n,r),Object(i["a"])((function(n,r){(n.props||(n.props={}))[r]=e,n.model={prop:r,event:t||r}}))(n,r)}}function m(t){return void 0===t&&(t={}),function(e,n){d(t,e,n),Object(i["a"])((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function g(t,e){return void 0===e&&(e={}),function(n,r){d(e,n,r),Object(i["a"])((function(n,r){(n.props||(n.props={}))[t]=e,(n.computed||(n.computed={}))[r]={get:function(){return this[t]},set:function(e){this.$emit("update:"+t,e)}}}))(n,r)}}function v(t,e){void 0===e&&(e={});var n=e.deep,r=void 0!==n&&n,o=e.immediate,s=void 0!==o&&o;return Object(i["a"])((function(e,n){"object"!==typeof e.watch&&(e.watch=Object.create(null));var i=e.watch;"object"!==typeof i[t]||Array.isArray(i[t])?"undefined"===typeof i[t]&&(i[t]=[]):i[t]=[i[t]],i[t].push({handler:n,deep:r,immediate:s})}))}var y=/\B([A-Z])/g,b=function(t){return t.replace(y,"-$1").toLowerCase()};function w(t){return function(e,n,r){var i=b(n),o=r.value;r.value=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=function(r){var o=t||i;void 0===r?0===n.length?e.$emit(o):1===n.length?e.$emit(o,n[0]):e.$emit.apply(e,[o].concat(n)):0===n.length?e.$emit(o,r):1===n.length?e.$emit(o,r,n[0]):e.$emit.apply(e,[o,r].concat(n))},a=o.apply(this,n);return S(a)?a.then(s):s(a),a}}}function x(t){return Object(i["a"])((function(e,n){e.computed=e.computed||{},e.computed[n]={cache:!1,get:function(){return this.$refs[t||n]}}}))}function S(t){return t instanceof Promise||t&&"function"===typeof t.then}},3410:function(t,e,n){var r=n("23e7"),i=n("d039"),o=n("7b0b"),s=n("e163"),a=n("e177"),c=i((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},"35a1":function(t,e,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");t.exports=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||i[r(t)]}},"37e8":function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");t.exports=r?Object.defineProperties:function(t,e){o(t);var n,r=s(e),a=r.length,c=0;while(a>c)i.f(t,n=r[c++],e[n]);return t}},"387f":function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},3934:function(t,e,n){"use strict";var r=n("c532");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},"3bbe":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),s="String Iterator",a=i.set,c=i.getterFor(s);o(String,"String",(function(t){a(this,{type:s,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},"3f8c":function(t,e){t.exports={}},4160:function(t,e,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(t,e,n){var r=n("da84");t.exports=r},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"44ad":function(t,e,n){var r=n("d039"),i=n("c6b6"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},"44de":function(t,e,n){var r=n("da84");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},"467f":function(t,e,n){"use strict";var r=n("2d83");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},4840:function(t,e,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[s])?e:i(n)}},4930:function(t,e,n){var r=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},4979:function(t,e,n){(function(e,n){
/*!
 * @license deepcopy.js Copyright(c) 2013 sasa+1
 * https://github.com/sasaplus1/deepcopy.js
 * Released under the MIT license.
 *
 * type-detect
 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
(function(e,n){t.exports=n()})(0,(function(){"use strict";var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}var i=r((function(e,n){(function(t,n){e.exports=n()})(0,(function(){var e="function"===typeof Promise,n="object"===typeof self?self:t,r="undefined"!==typeof Symbol,i="undefined"!==typeof Map,o="undefined"!==typeof Set,s="undefined"!==typeof WeakMap,a="undefined"!==typeof WeakSet,c="undefined"!==typeof DataView,l=r&&"undefined"!==typeof Symbol.iterator,u=r&&"undefined"!==typeof Symbol.toStringTag,h=o&&"function"===typeof Set.prototype.entries,f=i&&"function"===typeof Map.prototype.entries,d=h&&Object.getPrototypeOf((new Set).entries()),p=f&&Object.getPrototypeOf((new Map).entries()),m=l&&"function"===typeof Array.prototype[Symbol.iterator],g=m&&Object.getPrototypeOf([][Symbol.iterator]()),v=l&&"function"===typeof String.prototype[Symbol.iterator],y=v&&Object.getPrototypeOf(""[Symbol.iterator]()),b=8,w=-1;function x(t){var r=typeof t;if("object"!==r)return r;if(null===t)return"null";if(t===n)return"global";if(Array.isArray(t)&&(!1===u||!(Symbol.toStringTag in t)))return"Array";if("object"===typeof window&&null!==window){if("object"===typeof window.location&&t===window.location)return"Location";if("object"===typeof window.document&&t===window.document)return"Document";if("object"===typeof window.navigator){if("object"===typeof window.navigator.mimeTypes&&t===window.navigator.mimeTypes)return"MimeTypeArray";if("object"===typeof window.navigator.plugins&&t===window.navigator.plugins)return"PluginArray"}if(("function"===typeof window.HTMLElement||"object"===typeof window.HTMLElement)&&t instanceof window.HTMLElement){if("BLOCKQUOTE"===t.tagName)return"HTMLQuoteElement";if("TD"===t.tagName)return"HTMLTableDataCellElement";if("TH"===t.tagName)return"HTMLTableHeaderCellElement"}}var l=u&&t[Symbol.toStringTag];if("string"===typeof l)return l;var h=Object.getPrototypeOf(t);return h===RegExp.prototype?"RegExp":h===Date.prototype?"Date":e&&h===Promise.prototype?"Promise":o&&h===Set.prototype?"Set":i&&h===Map.prototype?"Map":a&&h===WeakSet.prototype?"WeakSet":s&&h===WeakMap.prototype?"WeakMap":c&&h===DataView.prototype?"DataView":i&&h===p?"Map Iterator":o&&h===d?"Set Iterator":m&&h===g?"Array Iterator":v&&h===y?"String Iterator":null===h?"Object":Object.prototype.toString.call(t).slice(b,w)}return x}))}));const o="undefined"!==typeof n,s=o&&"undefined"!==typeof n.from,a=o?function(t){return n.isBuffer(t)}:function(){return!1},c=s?function(t){return n.from(t)}:o?function(t){return new n(t)}:function(t){return t};function l(t){return a(t)?"Buffer":i(t)}const u=new Set(["Arguments","Array","Map","Object","Set"]);function h(t,e,n=null){const r=n||l(t);switch(r){case"Arguments":case"Array":case"Object":return t[e];case"Map":return t.get(e);case"Set":return e}}function f(t){return u.has(t)}function d(t,e,n,r=null){const i=r||l(t);switch(i){case"Arguments":case"Array":case"Object":t[e]=n;break;case"Map":t.set(e,n);break;case"Set":t.add(n);break}return t}const p="undefined"!==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis,m="undefined"!==typeof e&&null!==e&&e.Object===Object&&e,g="undefined"!==typeof self&&null!==self&&self.Object===Object&&self,v=p||m||g||Function("return this")();function y(t){return t.slice(0)}function b(t){return new Boolean(t.valueOf())}function w(t){return new DataView(t.buffer)}function x(t){return c(t)}function S(t){return new Date(t.getTime())}function A(t){return new Number(t)}function k(t){return new RegExp(t.source,t.flags)}function C(t){return new String(t)}function O(t,e){const n=v[e];return n.from?v[e].from(t):new v[e](t)}function M(t){return t}function E(){return[]}function T(){return new Map}function _(){return{}}function N(){return new Set}var R=new Map([["ArrayBuffer",y],["Boolean",b],["Buffer",x],["DataView",w],["Date",S],["Number",A],["RegExp",k],["String",C],["Float32Array",O],["Float64Array",O],["Int16Array",O],["Int32Array",O],["Int8Array",O],["Uint16Array",O],["Uint32Array",O],["Uint8Array",O],["Uint8ClampedArray",O],["Array Iterator",M],["Map Iterator",M],["Promise",M],["Set Iterator",M],["String Iterator",M],["function",M],["global",M],["WeakMap",M],["WeakSet",M],["boolean",M],["null",M],["number",M],["string",M],["symbol",M],["undefined",M],["Arguments",E],["Array",E],["Map",T],["Object",_],["Set",N]]);function D(){}function P(t,e=null,n=D){2===arguments.length&&"function"===typeof e&&(n=e,e=null);const r=e||l(t),i=R.get(r);if("Object"===r){const e=n(t,r);if(void 0!==e)return e}return i?i(t,r):t}function I(t,e={}){"function"===typeof e&&(e={customizer:e});const{customizer:n}=e,r=l(t);if(!f(r))return j(t,null,null,null);const i=P(t,r,n),o=new WeakMap([[t,i]]),s=new WeakSet([t]);return j(t,i,o,s)}function j(t,e,n,r,i){const o=l(t),s=P(t,o);if(!f(o))return s;let a;switch(o){case"Arguments":case"Array":a=Object.keys(t);break;case"Object":a=Object.keys(t),a.push(...Object.getOwnPropertySymbols(t));break;case"Map":case"Set":a=t.keys();break}for(let c of a){const i=h(t,c,o);if(r.has(i))d(e,c,n.get(i),o);else{const t=l(i),s=P(i,t);f(t)&&(n.set(i,s),r.add(i)),d(e,c,j(i,s,n,r),o)}}return e}return I}))}).call(this,n("c8ba"),n("b639").Buffer)},"4a7b":function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function l(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=c(void 0,t[i])):n[i]=c(t[i],e[i])}r.forEach(i,(function(t){r.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),r.forEach(o,l),r.forEach(s,(function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=c(void 0,t[i])):n[i]=c(void 0,e[i])})),r.forEach(a,(function(r){r in e?n[r]=c(t[r],e[r]):r in t&&(n[r]=c(void 0,t[r]))}));var u=i.concat(o).concat(s).concat(a),h=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return r.forEach(h,l),n}},"4ae1":function(t,e,n){var r=n("23e7"),i=n("d066"),o=n("1c0b"),s=n("825a"),a=n("861d"),c=n("7c73"),l=n("0538"),u=n("d039"),h=i("Reflect","construct"),f=u((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),d=!u((function(){h((function(){}))})),p=f||d;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var i=n.prototype,u=c(a(i)?i:Object.prototype),p=Function.apply.call(t,u,e);return a(p)?p:u}})},"4d64":function(t,e,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(t){return function(e,n,s){var a,c=r(e),l=i(c.length),u=o(s,l);if(t&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=n("ae40"),a=o("filter"),c=s("filter");r({target:"Array",proto:!0,forced:!a||!c},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),s=n("e95a"),a=n("50c4"),c=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,h,f,d,p=i(t),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,b=l(p),w=0;if(y&&(v=r(v,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&s(b))for(e=a(p.length),n=new m(e);e>w;w++)d=y?v(p[w],w):p[w],c(n,w,d);else for(h=b.call(p),f=h.next,n=new m;!(u=f.call(h)).done;w++)d=y?o(h,v,[u.value,w],!0):u.value,c(n,w,d);return n.length=w,n}},"50c4":function(t,e,n){var r=n("a691"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},5270:function(t,e,n){"use strict";var r=n("c532"),i=n("c401"),o=n("2e67"),s=n("2444");function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){a(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||s.adapter;return e(t).then((function(e){return a(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5313:function(t,e,n){"use strict";n.r(e),n.d(e,"AllSelection",(function(){return d})),n.d(e,"EditorState",(function(){return C})),n.d(e,"NodeSelection",(function(){return h})),n.d(e,"Plugin",(function(){return T})),n.d(e,"PluginKey",(function(){return R})),n.d(e,"Selection",(function(){return s})),n.d(e,"SelectionRange",(function(){return c})),n.d(e,"TextSelection",(function(){return l})),n.d(e,"Transaction",(function(){return w}));var r=n("304a"),i=n("0ac0"),o=Object.create(null),s=function(t,e,n){this.ranges=n||[new c(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},a={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};a.anchor.get=function(){return this.$anchor.pos},a.head.get=function(){return this.$head.pos},a.from.get=function(){return this.$from.pos},a.to.get=function(){return this.$to.pos},a.$from.get=function(){return this.ranges[0].$from},a.$to.get=function(){return this.ranges[0].$to},a.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},s.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},s.prototype.replace=function(t,e){void 0===e&&(e=r["Slice"].empty);for(var n=e.content.lastChild,i=null,o=0;o<e.openEnd;o++)i=n,n=n.lastChild;for(var s=t.steps.length,a=this.ranges,c=0;c<a.length;c++){var l=a[c],u=l.$from,h=l.$to,f=t.mapping.slice(s);t.replaceRange(f.map(u.pos),f.map(h.pos),c?r["Slice"].empty:e),0==c&&g(t,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}},s.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],s=o.$from,a=o.$to,c=t.mapping.slice(n),l=c.map(s.pos),u=c.map(a.pos);i?t.deleteRange(l,u):(t.replaceRangeWith(l,u,e),g(t,n,e.isInline?-1:1))}},s.findFrom=function(t,e,n){var r=t.parent.inlineContent?new l(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var i=t.depth-1;i>=0;i--){var o=e<0?m(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):m(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(o)return o}},s.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new d(t.node(0))},s.atStart=function(t){return m(t,t,0,0,1)||new d(t)},s.atEnd=function(t){return m(t,t,t.content.size,t.childCount,-1)||new d(t)},s.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=o[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},s.jsonID=function(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e},s.prototype.getBookmark=function(){return l.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(s.prototype,a),s.prototype.visible=!0;var c=function(t,e){this.$from=t,this.$to=e},l=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var i=n.resolve(r.map(this.head));if(!i.parent.inlineContent)return t.near(i);var o=n.resolve(r.map(this.anchor));return new e(o.parent.inlineContent?o:i,i)},e.prototype.replace=function(e,n){if(void 0===n&&(n=r["Slice"].empty),t.prototype.replace.call(this,e,n),n==r["Slice"].empty){var i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new u(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,i){var o=n.pos-r.pos;if(i&&!o||(i=o>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,i,!0)||t.findFrom(r,-i,!0);if(!s)return t.near(r,i);r=s.$head}return n.parent.inlineContent||(0==o?n=r:(n=(t.findFrom(n,-i,!0)||t.findFrom(n,i,!0)).$anchor,n.pos<r.pos!=o<0&&(n=r))),new e(n,r)},Object.defineProperties(e.prototype,n),e}(s);s.jsonID("text",l);var u=function(t,e){this.anchor=t,this.head=e};u.prototype.map=function(t){return new u(t.map(this.anchor),t.map(this.head))},u.prototype.resolve=function(t){return l.between(t.resolve(this.anchor),t.resolve(this.head))};var h=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var i=r.mapResult(this.anchor),o=i.deleted,s=i.pos,a=n.resolve(s);return o?t.near(a):new e(a)},e.prototype.content=function(){return new r["Slice"](r["Fragment"].from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new f(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(s);h.prototype.visible=!1,s.jsonID("node",h);var f=function(t){this.anchor=t};f.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new u(r,r):new f(r)},f.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&h.isSelectable(n)?new h(e):s.near(e)};var d=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=r["Slice"].empty),n==r["Slice"].empty){e.delete(0,e.doc.content.size);var i=t.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return p},e}(s);s.jsonID("all",d);var p={map:function(){return this},resolve:function(t){return new d(t)}};function m(t,e,n,r,i,o){if(e.inlineContent)return l.create(t,n);for(var s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){var a=e.child(s);if(a.isAtom){if(!o&&h.isSelectable(a))return h.create(t,n-(i<0?a.nodeSize:0))}else{var c=m(t,a,n+i,i<0?a.childCount:0,i,o);if(c)return c}n+=a.nodeSize*i}}function g(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o=t.steps[r];if(o instanceof i["ReplaceStep"]||o instanceof i["ReplaceAroundStep"]){var a,c=t.mapping.maps[r];c.forEach((function(t,e,n,r){null==a&&(a=r)})),t.setSelection(s.near(t.doc.resolve(a),n))}}}var v=1,y=2,b=4,w=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|v)&~y,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&v)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=y,this},e.prototype.ensureMarks=function(t){return r["Mark"].sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&y)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=this.updated&~y,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r["Mark"].none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(e);i=n==e?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=b,this},n.scrolledIntoView.get=function(){return(this.updated&b)>0},Object.defineProperties(e.prototype,n),e}(i["Transform"]);function x(t,e){return e&&t?t.bind(e):t}var S=function(t,e,n){this.name=t,this.init=x(e.init,n),this.apply=x(e.apply,n)},A=[new S("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new S("selection",{init:function(t,e){return t.selection||s.atStart(e.doc)},apply:function(t){return t.selection}}),new S("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new S("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],k=function(t,e){var n=this;this.schema=t,this.fields=A.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new S(t.key,t.spec.state,t))}))},C=function(t){this.config=t},O={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};O.schema.get=function(){return this.config.schema},O.plugins.get=function(){return this.config.plugins},C.prototype.apply=function(t){return this.applyTransaction(t).state},C.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},C.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=r?r[o].n:0,c=r?r[o].state:this,l=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,n);if(l&&n.filterTransaction(l,o)){if(l.setMeta("appendedTransaction",t),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<o?{state:n,n:e.length}:{state:this,n:0})}e.push(l),n=n.applyInner(l),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}},C.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new C(this.config),n=this.config.fields,r=0;r<n.length;r++){var i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}for(var o=0;o<M.length;o++)M[o](this,t,e);return e},O.tr.get=function(){return new w(this)},C.create=function(t){for(var e=new k(t.schema||t.doc.type.schema,t.plugins),n=new C(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},C.prototype.reconfigure=function(t){for(var e=new k(t.schema||this.schema,t.plugins),n=e.fields,r=new C(e),i=0;i<n.length;i++){var o=n[i].name;r[o]=this.hasOwnProperty(o)?this[o]:n[i].init(t,r)}return r},C.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e},C.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var i=new k(t.schema,t.plugins),o=new C(i);return i.fields.forEach((function(i){if("doc"==i.name)o.doc=r["Node"].fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=s.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var a in n){var c=n[a],l=c.spec.state;if(c.key==i.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(e,a))return void(o[i.name]=l.fromJSON.call(c,t,e[a],o))}o[i.name]=i.init(t,o)}})),o},C.addApplyListener=function(t){M.push(t)},C.removeApplyListener=function(t){var e=M.indexOf(t);e>-1&&M.splice(e,1)},Object.defineProperties(C.prototype,O);var M=[];function E(t,e,n){for(var r in t){var i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=E(i,e,{})),n[r]=i}return n}var T=function(t){this.props={},t.props&&E(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:N("plugin")};T.prototype.getState=function(t){return t[this.key]};var _=Object.create(null);function N(t){return t in _?t+"$"+ ++_[t]:(_[t]=0,t+"$")}var R=function(t){void 0===t&&(t="key"),this.key=N(t)};R.prototype.get=function(t){return t.config.pluginsByKey[this.key]},R.prototype.getState=function(t){return t[this.key]}},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),o=n("7b0b"),s=n("50c4"),a=n("a691"),c=n("1d80"),l=n("8aa5"),u=n("14c3"),h=Math.max,f=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function(n,r){var i=c(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!v&&y||"string"===typeof r&&-1===r.indexOf(b)){var o=n(e,t,this,r);if(o.done)return o.value}var c=i(t),d=String(this),p="function"===typeof r;p||(r=String(r));var m=c.global;if(m){var x=c.unicode;c.lastIndex=0}var S=[];while(1){var A=u(c,d);if(null===A)break;if(S.push(A),!m)break;var k=String(A[0]);""===k&&(c.lastIndex=l(d,s(c.lastIndex),x))}for(var C="",O=0,M=0;M<S.length;M++){A=S[M];for(var E=String(A[0]),T=h(f(a(A.index),d.length),0),_=[],N=1;N<A.length;N++)_.push(g(A[N]));var R=A.groups;if(p){var D=[E].concat(_,T,d);void 0!==R&&D.push(R);var P=String(r.apply(void 0,D))}else P=w(E,d,T,_,R,r);T>=O&&(C+=d.slice(O,T)+P,O=T+E.length)}return C+d.slice(O)}];function w(t,n,r,i,s,a){var c=r+t.length,l=i.length,u=m;return void 0!==s&&(s=o(s),u=p),e.call(a,u,(function(e,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":a=s[o.slice(1,-1)];break;default:var u=+o;if(0===u)return e;if(u>l){var h=d(u/10);return 0===h?e:h<=l?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):e}a=i[u-1]}return void 0===a?"":a}))}}))},"55be":function(t,e,n){"use strict";n.r(e),n.d(e,"CellSelection",(function(){return F})),n.d(e,"TableMap",(function(){return m})),n.d(e,"TableView",(function(){return zt})),n.d(e,"__clipCells",(function(){return G})),n.d(e,"__insertCells",(function(){return Q})),n.d(e,"__pastedCells",(function(){return q})),n.d(e,"addColSpan",(function(){return L})),n.d(e,"addColumn",(function(){return gt})),n.d(e,"addColumnAfter",(function(){return yt})),n.d(e,"addColumnBefore",(function(){return vt})),n.d(e,"addRow",(function(){return St})),n.d(e,"addRowAfter",(function(){return kt})),n.d(e,"addRowBefore",(function(){return At})),n.d(e,"cellAround",(function(){return C})),n.d(e,"colCount",(function(){return P})),n.d(e,"columnIsHeader",(function(){return B})),n.d(e,"columnResizing",(function(){return Wt})),n.d(e,"columnResizingPluginKey",(function(){return Ut})),n.d(e,"deleteColumn",(function(){return wt})),n.d(e,"deleteRow",(function(){return Ot})),n.d(e,"deleteTable",(function(){return Vt})),n.d(e,"findCell",(function(){return D})),n.d(e,"fixTables",(function(){return dt})),n.d(e,"fixTablesKey",(function(){return ht})),n.d(e,"goToNextCell",(function(){return Ft})),n.d(e,"handlePaste",(function(){return st})),n.d(e,"inSameTable",(function(){return R})),n.d(e,"isInTable",(function(){return M})),n.d(e,"mergeCells",(function(){return Tt})),n.d(e,"moveCellForward",(function(){return N})),n.d(e,"nextCell",(function(){return I})),n.d(e,"pointsAtCell",(function(){return _})),n.d(e,"removeColSpan",(function(){return $})),n.d(e,"removeColumn",(function(){return bt})),n.d(e,"removeRow",(function(){return Ct})),n.d(e,"rowIsHeader",(function(){return xt})),n.d(e,"selectedRect",(function(){return mt})),n.d(e,"selectionCell",(function(){return E})),n.d(e,"setAttr",(function(){return j})),n.d(e,"setCellAttr",(function(){return Rt})),n.d(e,"splitCell",(function(){return _t})),n.d(e,"splitCellWithType",(function(){return Nt})),n.d(e,"tableEditing",(function(){return oe})),n.d(e,"tableEditingKey",(function(){return k})),n.d(e,"tableNodeTypes",(function(){return A})),n.d(e,"tableNodes",(function(){return S})),n.d(e,"toggleHeader",(function(){return It})),n.d(e,"toggleHeaderCell",(function(){return Lt})),n.d(e,"toggleHeaderColumn",(function(){return $t})),n.d(e,"toggleHeaderRow",(function(){return jt})),n.d(e,"updateColumnsOnResize",(function(){return Ht}));var r,i,o=n("5313"),s=n("304a"),a=n("7f06"),c=n("576a"),l=n("0ac0");if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(t){return u.get(t)},i=function(t,e){return u.set(t,e),e}}else{var h=[],f=10,d=0;r=function(t){for(var e=0;e<h.length;e+=2)if(h[e]==t)return h[e+1]},i=function(t,e){return d==f&&(d=0),h[d++]=t,h[d++]=e}}var p=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},m=function(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r};function g(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=v(t),n=t.childCount,r=[],i=0,o=null,s=[],a=0,c=e*n;a<c;a++)r[a]=0;for(var l=0,u=0;l<n;l++){var h=t.child(l);u++;for(var f=0;;f++){while(i<r.length&&0!=r[i])i++;if(f==h.childCount)break;for(var d=h.child(f),p=d.attrs,g=p.colspan,b=p.rowspan,w=p.colwidth,x=0;x<b;x++){if(x+l>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:b-x});break}for(var S=i+x*e,A=0;A<g;A++){0==r[S+A]?r[S+A]=u:(o||(o=[])).push({type:"collision",row:l,pos:u,n:g-A});var k=w&&w[A];if(k){var C=(S+A)%e*2,O=s[C];null==O||O!=k&&1==s[C+1]?(s[C]=k,s[C+1]=1):O==k&&s[C+1]++}}}i+=g,u+=d.nodeSize}var M=(l+1)*e,E=0;while(i<M)0==r[i++]&&E++;E&&(o||(o=[])).push({type:"missing",row:l,n:E}),u++}for(var T=new m(e,n,r,o),_=!1,N=0;!_&&N<s.length;N+=2)null!=s[N]&&s[N+1]<n&&(_=!0);return _&&y(T,s,t),T}function v(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var i=t.child(r),o=0;if(n)for(var s=0;s<r;s++)for(var a=t.child(s),c=0;c<a.childCount;c++){var l=a.child(c);s+l.attrs.rowspan>r&&(o+=l.attrs.colspan)}for(var u=0;u<i.childCount;u++){var h=i.child(u);o+=h.attrs.colspan,h.attrs.rowspan>1&&(n=!0)}-1==e?e=o:e!=o&&(e=Math.max(e,o))}return e}function y(t,e,n){t.problems||(t.problems=[]);for(var r=0,i={};r<t.map.length;r++){var o=t.map[r];if(!i[o]){i[o]=!0;for(var s=n.nodeAt(o),a=null,c=0;c<s.attrs.colspan;c++){var l=(r+c)%t.width,u=e[2*l];null==u||s.attrs.colwidth&&s.attrs.colwidth[c]==u||((a||(a=b(s.attrs)))[c]=u)}a&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}}function b(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function w(t,e){var n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(t){return Number(t)})):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(var s in e){var a=e[s].getFromDOM,c=a&&a(t);null!=c&&(o[s]=c)}return o}function x(t,e){var n={};for(var r in 1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(",")),e){var i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function S(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in e)n[r]={default:e[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return w(t,e)}}],toDOM:function(t){return["td",x(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return w(t,e)}}],toDOM:function(t){return["th",x(t,e),0]}}}}function A(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}return e}m.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var r=e%this.width,i=e/this.width|0,o=r+1,s=i+1,a=1;o<this.width&&this.map[e+a]==n;a++)o++;for(var c=1;s<this.height&&this.map[e+this.width*c]==n;c++)s++;return new p(r,i,o,s)}}throw new RangeError("No cell with offset "+t+" found")},m.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},m.prototype.nextCell=function(t,e,n){var r=this.findCell(t),i=r.left,o=r.right,s=r.top,a=r.bottom;return"horiz"==e?(n<0?0==i:o==this.width)?null:this.map[s*this.width+(n<0?i-1:o)]:(n<0?0==s:a==this.height)?null:this.map[i+this.width*(n<0?s-1:a)]},m.prototype.rectBetween=function(t,e){var n=this.findCell(t),r=n.left,i=n.right,o=n.top,s=n.bottom,a=this.findCell(e),c=a.left,l=a.right,u=a.top,h=a.bottom;return new p(Math.min(r,c),Math.min(o,u),Math.max(i,l),Math.max(s,h))},m.prototype.cellsInRect=function(t){for(var e=[],n={},r=t.top;r<t.bottom;r++)for(var i=t.left;i<t.right;i++){var o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,i==t.left&&i&&this.map[o-1]==s||r==t.top&&r&&this.map[o-this.width]==s||e.push(s))}return e},m.prototype.positionAt=function(t,e,n){for(var r=0,i=0;;r++){var o=i+n.child(r).nodeSize;if(r==t){var s=e+t*this.width,a=(t+1)*this.width;while(s<a&&this.map[s]<i)s++;return s==a?o-1:this.map[s]}i=o}},m.get=function(t){return r(t)||i(t,g(t))};var k=new o["PluginKey"]("selectingCells");function C(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function O(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}function M(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function E(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:C(e.$head)||T(e.$head)}function T(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(var i=t.nodeBefore,o=t.pos;i;i=i.lastChild,o--){var s=i.type.spec.tableRole;if("cell"==s||"header_cell"==s)return t.doc.resolve(o-i.nodeSize)}}function _(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function N(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function R(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function D(t){return m.get(t.node(-1)).findCell(t.pos-t.start(-1))}function P(t){return m.get(t.node(-1)).colCount(t.pos-t.start(-1))}function I(t,e,n){var r=t.start(-1),i=m.get(t.node(-1)),o=i.nextCell(t.pos-r,e,n);return null==o?null:t.node(0).resolve(r+o)}function j(t,e,n){var r={};for(var i in t)r[i]=t[i];return r[e]=n,r}function $(t,e,n){void 0===n&&(n=1);var r=j(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some((function(t){return t>0}))||(r.colwidth=null)),r}function L(t,e,n){void 0===n&&(n=1);var r=j(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function B(t,e,n){for(var r=A(e.type.schema).header_cell,i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var F=function(t){function e(e,n){void 0===n&&(n=e);var r=e.node(-1),i=m.get(r),s=e.start(-1),a=i.rectBetween(e.pos-s,n.pos-s),c=e.node(0),l=i.cellsInRect(a).filter((function(t){return t!=n.pos-s}));l.unshift(n.pos-s);var u=l.map((function(t){var e=r.nodeAt(t),n=t+s+1;return new o["SelectionRange"](c.resolve(n),c.resolve(n+e.content.size))}));t.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(_(r)&&_(i)&&R(r,i)){var s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?e.rowSelection(r,i):s&&this.isColSelection()?e.colSelection(r,i):new e(r,i)}return o["TextSelection"].between(r,i)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=m.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[],a=r.top;a<r.bottom;a++){for(var c=[],l=a*e.width+r.left,u=r.left;u<r.right;u++,l++){var h=e.map[l];if(!i[h]){i[h]=!0;var f=e.findCell(h),d=t.nodeAt(h),p=r.left-f.left,g=f.right-r.right;if(p>0||g>0){var v=d.attrs;p>0&&(v=$(v,0,p)),g>0&&(v=$(v,v.colspan-g,g)),d=f.left<r.left?d.type.createAndFill(v):d.type.create(v,d.content)}if(f.top<r.top||f.bottom>r.bottom){var y=j(d.attrs,"rowspan",Math.min(f.bottom,r.bottom)-Math.max(f.top,r.top));d=f.top<r.top?d.type.createAndFill(y):d.type.create(y,d.content)}c.push(d)}}o.push(t.child(a).copy(s["Fragment"].from(c)))}var b=this.isColSelection()&&this.isRowSelection()?t:o;return new s["Slice"](s["Fragment"].from(b),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=s["Slice"].empty);for(var r=e.steps.length,i=this.ranges,o=0;o<i.length;o++){var a=i[o],c=a.$from,l=a.$to,u=e.mapping.slice(r);e.replace(u.map(c.pos),u.map(l.pos),o?s["Slice"].empty:n)}var h=t.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);h&&e.setSelection(h)},e.prototype.replaceWith=function(t,e){this.replace(t,new s["Slice"](s["Fragment"].from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=m.get(e),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),o=0;o<i.length;o++)t(e.nodeAt(i[o]),r+i[o])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var r=m.get(t.node(-1)),i=t.start(-1),o=r.findCell(t.pos-i),s=r.findCell(n.pos-i),a=t.node(0);return o.top<=s.top?(o.top>0&&(t=a.resolve(i+r.map[o.left])),s.bottom<r.height&&(n=a.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(i+r.map[s.left])),o.bottom<r.height&&(t=a.resolve(i+r.map[r.width*(r.height-1)+o.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=m.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;var i=n+this.$anchorCell.nodeAfter.attrs.colspan,o=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,o)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var r=m.get(t.node(-1)),i=t.start(-1),o=r.findCell(t.pos-i),s=r.findCell(n.pos-i),a=t.node(0);return o.left<=s.left?(o.left>0&&(t=a.resolve(i+r.map[o.top*r.width])),s.right<r.width&&(n=a.resolve(i+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(i+r.map[s.top*r.width])),o.right<r.width&&(t=a.resolve(i+r.map[r.width*(o.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,r){return void 0===r&&(r=n),new e(t.resolve(n),t.resolve(r))},e.prototype.getBookmark=function(){return new V(this.$anchorCell.pos,this.$headCell.pos)},e}(o["Selection"]);F.prototype.visible=!1,o["Selection"].jsonID("cell",F);var V=function(t,e){this.anchor=t,this.head=e};function z(t){if(!(t.selection instanceof F))return null;var e=[];return t.selection.forEachCell((function(t,n){e.push(c["Decoration"].node(n,n+t.nodeSize,{class:"selectedCell"}))})),c["DecorationSet"].create(t.doc,e)}function H(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,i=n.pos,o=e.depth;o>=0;o--,r++)if(e.after(o+1)<e.end(o))break;for(var s=n.depth;s>=0;s--,i--)if(n.before(s+1)>n.start(s))break;return r==i&&/row|table/.test(e.node(o).type.spec.tableRole)}function U(t){for(var e,n,r=t.$from,i=t.$to,o=r.depth;o>0;o--){var s=r.node(o);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){e=s;break}}for(var a=i.depth;a>0;a--){var c=i.node(a);if("cell"===c.type.spec.tableRole||"header_cell"===c.type.spec.tableRole){n=c;break}}return e!==n&&0===i.parentOffset}function W(t,e,n){var r,i,s=(e||t).selection,a=(e||t).doc;if(s instanceof o["NodeSelection"]&&(i=s.node.type.spec.tableRole)){if("cell"==i||"header_cell"==i)r=F.create(a,s.from);else if("row"==i){var c=a.resolve(s.from+1);r=F.rowSelection(c,c)}else if(!n){var l=m.get(s.node),u=s.from+1,h=u+l.map[l.width*l.height-1];r=F.create(a,u+1,h)}}else s instanceof o["TextSelection"]&&H(s)?r=o["TextSelection"].create(a,s.from):s instanceof o["TextSelection"]&&U(s)&&(r=o["TextSelection"].create(a,s.$from.start(),s.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}function q(t){if(!t.size)return null;var e=t.content,n=t.openStart,r=t.openEnd;while(1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole))n--,r--,e=e.firstChild.content;var i=e.firstChild,o=i.type.spec.tableRole,a=i.type.schema,c=[];if("row"==o)for(var l=0;l<e.childCount;l++){var u=e.child(l).content,h=l?0:Math.max(0,n-1),f=l<e.childCount-1?0:Math.max(0,r-1);(h||f)&&(u=K(A(a).row,new s["Slice"](u,h,f)).content),c.push(u)}else{if("cell"!=o&&"header_cell"!=o)return null;c.push(n||r?K(A(a).row,new s["Slice"](e,n,r)).content:e)}return J(a,c)}function J(t,e){for(var n=[],r=0;r<e.length;r++)for(var i=e[r],o=i.childCount-1;o>=0;o--)for(var a=i.child(o).attrs,c=a.rowspan,l=a.colspan,u=r;u<r+c;u++)n[u]=(n[u]||0)+l;for(var h=0,f=0;f<n.length;f++)h=Math.max(h,n[f]);for(var d=0;d<n.length;d++)if(d>=e.length&&e.push(s["Fragment"].empty),n[d]<h){for(var p=A(t).cell.createAndFill(),m=[],g=n[d];g<h;g++)m.push(p);e[d]=e[d].append(s["Fragment"].from(m))}return{height:e.length,width:h,rows:e}}function K(t,e){var n=t.createAndFill(),r=new l["Transform"](n).replace(0,n.content.size,e);return r.doc}function G(t,e,n){var r=t.width,i=t.height,o=t.rows;if(r!=e){for(var a=[],c=[],l=0;l<o.length;l++){for(var u=o[l],h=[],f=a[l]||0,d=0;f<e;d++){var p=u.child(d%u.childCount);f+p.attrs.colspan>e&&(p=p.type.create($(p.attrs,p.attrs.colspan,f+p.attrs.colspan-e),p.content)),h.push(p),f+=p.attrs.colspan;for(var m=1;m<p.attrs.rowspan;m++)a[l+m]=(a[l+m]||0)+p.attrs.colspan}c.push(s["Fragment"].from(h))}o=c,r=e}if(i!=n){for(var g=[],v=0,y=0;v<n;v++,y++){for(var b=[],w=o[y%i],x=0;x<w.childCount;x++){var S=w.child(x);v+S.attrs.rowspan>n&&(S=S.type.create(j(S.attrs,"rowspan",Math.max(1,n-S.attrs.rowspan)),S.content)),b.push(S)}g.push(s["Fragment"].from(b))}o=g,i=n}return{width:r,height:i,rows:o}}function Y(t,e,n,r,i,o,a){var c,l,u=t.doc.type.schema,h=A(u);if(i>e.width)for(var f=0,d=0;f<e.height;f++){var p=n.child(f);d+=p.nodeSize;var m=[],g=void 0;g=null==p.lastChild||p.lastChild.type==h.cell?c||(c=h.cell.createAndFill()):l||(l=h.header_cell.createAndFill());for(var v=e.width;v<i;v++)m.push(g);t.insert(t.mapping.slice(a).map(d-1+r),m)}if(o>e.height){for(var y=[],b=0,w=(e.height-1)*e.width;b<Math.max(e.width,i);b++){var x=!(b>=e.width)&&n.nodeAt(e.map[w+b]).type==h.header_cell;y.push(x?l||(l=h.header_cell.createAndFill()):c||(c=h.cell.createAndFill()))}for(var S=h.row.create(null,s["Fragment"].from(y)),k=[],C=e.height;C<o;C++)k.push(S);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),k)}return!(!c&&!l)}function X(t,e,n,r,i,o,s,a){if(0==s||s==e.height)return!1;for(var c=!1,l=i;l<o;l++){var u=s*e.width+l,h=e.map[u];if(e.map[u-e.width]==h){c=!0;var f=n.nodeAt(h),d=e.findCell(h),p=d.top,m=d.left;t.setNodeMarkup(t.mapping.slice(a).map(h+r),null,j(f.attrs,"rowspan",s-p)),t.insert(t.mapping.slice(a).map(e.positionAt(s,m,n)),f.type.createAndFill(j(f.attrs,"rowspan",p+f.attrs.rowspan-s))),l+=f.attrs.colspan-1}}return c}function Z(t,e,n,r,i,o,s,a){if(0==s||s==e.width)return!1;for(var c=!1,l=i;l<o;l++){var u=l*e.width+s,h=e.map[u];if(e.map[u-1]==h){c=!0;var f=n.nodeAt(h),d=e.colCount(h),p=t.mapping.slice(a).map(h+r);t.setNodeMarkup(p,null,$(f.attrs,s-d,f.attrs.colspan-(s-d))),t.insert(p+f.nodeSize,f.type.createAndFill($(f.attrs,0,s-d))),l+=f.attrs.rowspan-1}}return c}function Q(t,e,n,r,i){var o=n?t.doc.nodeAt(n-1):t.doc,a=m.get(o),c=r.top,l=r.left,u=l+i.width,h=c+i.height,f=t.tr,d=0;function p(){o=n?f.doc.nodeAt(n-1):f.doc,a=m.get(o),d=f.mapping.maps.length}Y(f,a,o,n,u,h,d)&&p(),X(f,a,o,n,l,u,c,d)&&p(),X(f,a,o,n,l,u,h,d)&&p(),Z(f,a,o,n,c,h,l,d)&&p(),Z(f,a,o,n,c,h,u,d)&&p();for(var g=c;g<h;g++){var v=a.positionAt(g,l,o),y=a.positionAt(g,u,o);f.replace(f.mapping.slice(d).map(v+n),f.mapping.slice(d).map(y+n),new s["Slice"](i.rows[g-c],0,0))}p(),f.setSelection(new F(f.doc.resolve(n+a.positionAt(c,l,o)),f.doc.resolve(n+a.positionAt(h-1,u-1,o)))),e(f)}V.prototype.map=function(t){return new V(t.map(this.anchor),t.map(this.head))},V.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&R(e,n)?new F(e,n):o["Selection"].near(n,1)};var tt=Object(a["keydownHandler"])({ArrowLeft:nt("horiz",-1),ArrowRight:nt("horiz",1),ArrowUp:nt("vert",-1),ArrowDown:nt("vert",1),"Shift-ArrowLeft":rt("horiz",-1),"Shift-ArrowRight":rt("horiz",1),"Shift-ArrowUp":rt("vert",-1),"Shift-ArrowDown":rt("vert",1),Backspace:it,"Mod-Backspace":it,Delete:it,"Mod-Delete":it});function et(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function nt(t,e){return function(n,r,i){var s=n.selection;if(s instanceof F)return et(n,r,o["Selection"].near(s.$headCell,e));if("horiz"!=t&&!s.empty)return!1;var a=ct(i,t,e);if(null==a)return!1;if("horiz"==t)return et(n,r,o["Selection"].near(n.doc.resolve(s.head+e),e));var c,l=n.doc.resolve(a),u=I(l,t,e);return c=u?o["Selection"].near(u,1):e<0?o["Selection"].near(n.doc.resolve(l.before(-1)),-1):o["Selection"].near(n.doc.resolve(l.after(-1)),1),et(n,r,c)}}function rt(t,e){return function(n,r,i){var o=n.selection;if(!(o instanceof F)){var s=ct(i,t,e);if(null==s)return!1;o=new F(n.doc.resolve(s))}var a=I(o.$headCell,t,e);return!!a&&et(n,r,new F(o.$anchorCell,a))}}function it(t,e){var n=t.selection;if(!(n instanceof F))return!1;if(e){var r=t.tr,i=A(t.schema).cell.createAndFill().content;n.forEachCell((function(t,e){t.content.eq(i)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new s["Slice"](i,0,0))})),r.docChanged&&e(r)}return!0}function ot(t,e){var n=t.state.doc,r=C(n.resolve(e));return!!r&&(t.dispatch(t.state.tr.setSelection(new F(r))),!0)}function st(t,e,n){if(!M(t.state))return!1;var r=q(n),i=t.state.selection;if(i instanceof F){r||(r={width:1,height:1,rows:[s["Fragment"].from(K(A(t.state.schema).cell,n))]});var o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),c=m.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=G(r,c.right-c.left,c.bottom-c.top),Q(t.state,t.dispatch,a,c,r),!0}if(r){var l=E(t.state),u=l.start(-1);return Q(t.state,t.dispatch,u,m.get(l.node(-1)).findCell(l.pos-u),r),!0}return!1}function at(t,e){if(!e.ctrlKey&&!e.metaKey){var n,r=lt(t,e.target);if(e.shiftKey&&t.state.selection instanceof F)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&null!=(n=C(t.state.selection.$anchor))&&ut(t,e).pos!=n.pos)i(n,e),e.preventDefault();else if(!r)return;t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",s)}function i(e,n){var r=ut(t,n),i=null==k.getState(t.state);if(!r||!R(e,r)){if(!i)return;r=e}var o=new F(e,r);if(i||!t.state.selection.eq(o)){var s=t.state.tr.setSelection(o);i&&s.setMeta(k,e.pos),t.dispatch(s)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",s),null!=k.getState(t.state)&&t.dispatch(t.state.tr.setMeta(k,-1))}function s(n){var s,a=k.getState(t.state);if(null!=a)s=t.state.doc.resolve(a);else if(lt(t,n.target)!=r&&(s=ut(t,e),!s))return o();s&&i(s,n)}}function ct(t,e,n){if(!(t.state.selection instanceof o["TextSelection"]))return null;for(var r=t.state.selection,i=r.$head,s=i.depth-1;s>=0;s--){var a=i.node(s),c=n<0?i.index(s):i.indexAfter(s);if(c!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var l=i.before(s),u="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?l:null}}return null}function lt(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function ut(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?C(t.state.doc.resolve(n.pos)):null}var ht=new o["PluginKey"]("fix-tables");function ft(t,e,n,r){var i=t.childCount,o=e.childCount;t:for(var s=0,a=0;s<o;s++){for(var c=e.child(s),l=a,u=Math.min(i,s+3);l<u;l++)if(t.child(l)==c){a=l+1,n+=c.nodeSize;continue t}r(c,n),a<i&&t.child(a).sameMarkup(c)?ft(t.child(a),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function dt(t,e){var n,r=function(e,r){"table"==e.type.spec.tableRole&&(n=pt(t,e,r,n))};return e?e.doc!=t.doc&&ft(e.doc,t.doc,0,r):t.doc.descendants(r),n}function pt(t,e,n,r){var i=m.get(e);if(!i.problems)return r;r||(r=t.tr);for(var o,s,a=[],c=0;c<i.height;c++)a.push(0);for(var l=0;l<i.problems.length;l++){var u=i.problems[l];if("collision"==u.type){for(var h=e.nodeAt(u.pos),f=0;f<h.attrs.rowspan;f++)a[u.row+f]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,$(h.attrs,h.attrs.colspan-u.n,u.n))}else if("missing"==u.type)a[u.row]+=u.n;else if("overlong_rowspan"==u.type){var d=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,j(d.attrs,"rowspan",d.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var p=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,j(p.attrs,"colwidth",u.colwidth))}}for(var g=0;g<a.length;g++)a[g]&&(null==o&&(o=g),s=g);for(var v=0,y=n+1;v<i.height;v++){var b=e.child(v),w=y+b.nodeSize,x=a[v];if(x>0){var S="cell";b.firstChild&&(S=b.firstChild.type.spec.tableRole);for(var k=[],C=0;C<x;C++)k.push(A(t.schema)[S].createAndFill());var O=0!=v&&o!=v-1||s!=v?w-1:y+1;r.insert(r.mapping.map(O),k)}y=w}return r.setMeta(ht,{fixTables:!0})}function mt(t){var e,n=t.selection,r=E(t),i=r.node(-1),o=r.start(-1),s=m.get(i);return e=n instanceof F?s.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):s.findCell(r.pos-o),e.tableStart=o,e.map=s,e.table=i,e}function gt(t,e,n){var r=e.map,i=e.tableStart,o=e.table,s=n>0?-1:0;B(r,o,n+s)&&(s=0==n||n==r.width?null:0);for(var a=0;a<r.height;a++){var c=a*r.width+n;if(n>0&&n<r.width&&r.map[c-1]==r.map[c]){var l=r.map[c],u=o.nodeAt(l);t.setNodeMarkup(t.mapping.map(i+l),null,L(u.attrs,n-r.colCount(l))),a+=u.attrs.rowspan-1}else{var h=null==s?A(o.type.schema).cell:o.nodeAt(r.map[c+s]).type,f=r.positionAt(a,n,o);t.insert(t.mapping.map(i+f),h.createAndFill())}}return t}function vt(t,e){if(!M(t))return!1;if(e){var n=mt(t);e(gt(t.tr,n,n.left))}return!0}function yt(t,e){if(!M(t))return!1;if(e){var n=mt(t);e(gt(t.tr,n,n.right))}return!0}function bt(t,e,n){for(var r=e.map,i=e.table,o=e.tableStart,s=t.mapping.maps.length,a=0;a<r.height;){var c=a*r.width+n,l=r.map[c],u=i.nodeAt(l);if(n>0&&r.map[c-1]==l||n<r.width-1&&r.map[c+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(o+l),null,$(u.attrs,n-r.colCount(l)));else{var h=t.mapping.slice(s).map(o+l);t.delete(h,h+u.nodeSize)}a+=u.attrs.rowspan}}function wt(t,e){if(!M(t))return!1;if(e){var n=mt(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var i=n.right-1;;i--){if(bt(r,n,i),i==n.left)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table)}e(r)}return!0}function xt(t,e,n){for(var r=A(e.type.schema).header_cell,i=0;i<t.width;i++)if(e.nodeAt(t.map[i+n*t.width]).type!=r)return!1;return!0}function St(t,e,n){for(var r=e.map,i=e.tableStart,o=e.table,s=i,a=0;a<n;a++)s+=o.child(a).nodeSize;var c=[],l=n>0?-1:0;xt(r,o,n+l)&&(l=0==n||n==r.height?null:0);for(var u=0,h=r.width*n;u<r.width;u++,h++)if(n>0&&n<r.height&&r.map[h]==r.map[h-r.width]){var f=r.map[h],d=o.nodeAt(f).attrs;t.setNodeMarkup(i+f,null,j(d,"rowspan",d.rowspan+1)),u+=d.colspan-1}else{var p=null==l?A(o.type.schema).cell:o.nodeAt(r.map[h+l*r.width]).type;c.push(p.createAndFill())}return t.insert(s,A(o.type.schema).row.create(null,c)),t}function At(t,e){if(!M(t))return!1;if(e){var n=mt(t);e(St(t.tr,n,n.top))}return!0}function kt(t,e){if(!M(t))return!1;if(e){var n=mt(t);e(St(t.tr,n,n.bottom))}return!0}function Ct(t,e,n){for(var r=e.map,i=e.table,o=e.tableStart,s=0,a=0;a<n;a++)s+=i.child(a).nodeSize;var c=s+i.child(n).nodeSize,l=t.mapping.maps.length;t.delete(s+o,c+o);for(var u=0,h=n*r.width;u<r.width;u++,h++){var f=r.map[h];if(n>0&&f==r.map[h-r.width]){var d=i.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+o),null,j(d,"rowspan",d.rowspan-1)),u+=d.colspan-1}else if(n<r.width&&f==r.map[h+r.width]){var p=i.nodeAt(f),m=p.type.create(j(p.attrs,"rowspan",p.attrs.rowspan-1),p.content),g=r.positionAt(n+1,u,i);t.insert(t.mapping.slice(l).map(o+g),m),u+=p.attrs.colspan-1}}}function Ot(t,e){if(!M(t))return!1;if(e){var n=mt(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var i=n.bottom-1;;i--){if(Ct(r,n,i),i==n.top)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table)}e(r)}return!0}function Mt(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function Et(t,e){for(var n=t.width,r=t.height,i=t.map,o=e.top*n+e.left,s=o,a=(e.bottom-1)*n+e.left,c=o+(e.right-e.left-1),l=e.top;l<e.bottom;l++){if(e.left>0&&i[s]==i[s-1]||e.right<n&&i[c]==i[c+1])return!0;s+=n,c+=n}for(var u=e.left;u<e.right;u++){if(e.top>0&&i[o]==i[o-n]||e.bottom<r&&i[a]==i[a+n])return!0;o++,a++}return!1}function Tt(t,e){var n=t.selection;if(!(n instanceof F)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=mt(t),i=r.map;if(Et(i,r))return!1;if(e){for(var o,a,c=t.tr,l={},u=s["Fragment"].empty,h=r.top;h<r.bottom;h++)for(var f=r.left;f<r.right;f++){var d=i.map[h*i.width+f],p=r.table.nodeAt(d);if(!l[d])if(l[d]=!0,null==o)o=d,a=p;else{Mt(p)||(u=u.append(p.content));var m=c.mapping.map(d+r.tableStart);c.delete(m,m+p.nodeSize)}}if(c.setNodeMarkup(o+r.tableStart,null,j(L(a.attrs,a.attrs.colspan,r.right-r.left-a.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var g=o+1+a.content.size,v=Mt(a)?o+1:g;c.replaceWith(v+r.tableStart,g+r.tableStart,u)}c.setSelection(new F(c.doc.resolve(o+r.tableStart))),e(c)}return!0}function _t(t,e){var n=A(t.schema);return Nt((function(t){var e=t.node;return n[e.type.spec.tableRole]}))(t,e)}function Nt(t){return function(e,n){var r,i,o=e.selection;if(o instanceof F){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;r=o.$anchorCell.nodeAfter,i=o.$anchorCell.pos}else{if(r=O(o.$from),!r)return!1;i=C(o.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var s=r.attrs,a=[],c=s.colwidth;s.rowspan>1&&(s=j(s,"rowspan",1)),s.colspan>1&&(s=j(s,"colspan",1));for(var l,u=mt(e),h=e.tr,f=0;f<u.right-u.left;f++)a.push(c?j(s,"colwidth",c&&c[f]?[c[f]]:null):s);for(var d=u.top;d<u.bottom;d++){var p=u.map.positionAt(d,u.left,u.table);d==u.top&&(p+=r.nodeSize);for(var m=u.left,g=0;m<u.right;m++,g++)m==u.left&&d==u.top||h.insert(l=h.mapping.map(p+u.tableStart,1),t({node:r,row:d,col:m}).createAndFill(a[g]))}h.setNodeMarkup(i,t({node:r,row:u.top,col:u.left}),a[0]),o instanceof F&&h.setSelection(new F(h.doc.resolve(o.$anchorCell.pos),l&&h.doc.resolve(l))),n(h)}return!0}}function Rt(t,e){return function(n,r){if(!M(n))return!1;var i=E(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){var o=n.tr;n.selection instanceof F?n.selection.forEachCell((function(n,r){n.attrs[t]!==e&&o.setNodeMarkup(r,null,j(n.attrs,t,e))})):o.setNodeMarkup(i.pos,null,j(i.nodeAfter.attrs,t,e)),r(o)}return!0}}function Dt(t){return function(e,n){if(!M(e))return!1;if(n){for(var r=A(e.schema),i=mt(e),o=e.tr,s=i.map.cellsInRect("column"==t?new p(i.left,0,i.right,i.map.height):"row"==t?new p(0,i.top,i.map.width,i.bottom):i),a=s.map((function(t){return i.table.nodeAt(t)})),c=0;c<s.length;c++)a[c].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[c],r.cell,a[c].attrs);if(0==o.steps.length)for(var l=0;l<s.length;l++)o.setNodeMarkup(i.tableStart+s[l],r.header_cell,a[l].attrs);n(o)}return!0}}function Pt(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),i=0;i<r.length;i++){var o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function It(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Dt(t):function(e,n){if(!M(e))return!1;if(n){var r=A(e.schema),i=mt(e),o=e.tr,s=Pt("row",i,r),a=Pt("column",i,r),c="column"===t?s:"row"===t&&a,l=c?1:0,u="column"==t?new p(0,l,1,i.map.height):"row"==t?new p(l,0,i.map.width,1):i,h="column"==t?a?r.cell:r.header_cell:"row"==t?s?r.cell:r.header_cell:r.cell;i.map.cellsInRect(u).forEach((function(t){var e=t+i.tableStart,n=o.doc.nodeAt(e);n&&o.setNodeMarkup(e,h,n.attrs)})),n(o)}return!0}}var jt=It("row",{useDeprecatedLogic:!0}),$t=It("column",{useDeprecatedLogic:!0}),Lt=It("cell",{useDeprecatedLogic:!0});function Bt(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,i=t.before();r>=0;r--){var o=t.node(-1).child(r);if(o.childCount)return i-1-o.lastChild.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var s=t.node(-1),a=t.indexAfter(-1),c=t.after();a<s.childCount;a++){var l=s.child(a);if(l.childCount)return c+1;c+=l.nodeSize}}}function Ft(t){return function(e,n){if(!M(e))return!1;var r=Bt(E(e),t);if(null!=r){if(n){var i=e.doc.resolve(r);n(e.tr.setSelection(o["TextSelection"].between(i,N(i))).scrollIntoView())}return!0}}}function Vt(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--){var i=n.node(r);if("table"==i.type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var zt=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ht(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Ht(t,e,n,r,i,o){for(var s=0,a=!0,c=e.firstChild,l=t.firstChild,u=0,h=0;u<l.childCount;u++)for(var f=l.child(u).attrs,d=f.colspan,p=f.colwidth,m=0;m<d;m++,h++){var g=i==h?o:p&&p[m],v=g?g+"px":"";s+=g||r,g||(a=!1),c?(c.style.width!=v&&(c.style.width=v),c=c.nextSibling):e.appendChild(document.createElement("col")).style.width=v}while(c){var y=c.nextSibling;c.parentNode.removeChild(c),c=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}zt.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,Ht(t,this.colgroup,this.table,this.cellMinWidth),!0)},zt.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var Ut=new o["PluginKey"]("tableColumnResizing");function Wt(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var r=t.View;void 0===r&&(r=zt);var i=t.lastColumnResizable;void 0===i&&(i=!0);var s=new o["Plugin"]({key:Ut,state:{init:function(t,e){return this.spec.props.nodeViews[A(e.schema).table.name]=function(t,e){return new r(t,n,e)},new qt(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){var e=Ut.getState(t);return e.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,r){Jt(t,r,e,n,i)},mouseleave:function(t){Kt(t)},mousedown:function(t,e){Gt(t,e,n)}},decorations:function(t){var e=Ut.getState(t);if(e.activeHandle>-1)return ie(t,e.activeHandle)},nodeViews:{}}});return s}var qt=function(t,e){this.activeHandle=t,this.dragging=e};function Jt(t,e,n,r,i){var o=Ut.getState(t.state);if(!o.dragging){var s=Xt(e.target),a=-1;if(s){var c=s.getBoundingClientRect(),l=c.left,u=c.right;e.clientX-l<=n?a=Zt(t,e,"left"):u-e.clientX<=n&&(a=Zt(t,e,"right"))}if(a!=o.activeHandle){if(!i&&-1!==a){var h=t.state.doc.resolve(a),f=h.node(-1),d=m.get(f),p=h.start(-1),g=d.colCount(h.pos-p)+h.nodeAfter.attrs.colspan-1;if(g==d.width-1)return}te(t,a)}}}function Kt(t){var e=Ut.getState(t.state);e.activeHandle>-1&&!e.dragging&&te(t,-1)}function Gt(t,e,n){var r=Ut.getState(t.state);if(-1==r.activeHandle||r.dragging)return!1;var i=t.state.doc.nodeAt(r.activeHandle),o=Yt(t,r.activeHandle,i.attrs);function s(e){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var r=Ut.getState(t.state);r.dragging&&(ee(t,r.activeHandle,Qt(r.dragging,e,n)),t.dispatch(t.state.tr.setMeta(Ut,{setDragging:null})))}function a(e){if(!e.which)return s(e);var r=Ut.getState(t.state),i=Qt(r.dragging,e,n);ne(t,r.activeHandle,i,n)}return t.dispatch(t.state.tr.setMeta(Ut,{setDragging:{startX:e.clientX,startWidth:o}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),e.preventDefault(),!0}function Yt(t,e,n){var r=n.colspan,i=n.colwidth,o=i&&i[i.length-1];if(o)return o;var s=t.domAtPos(e),a=s.node.childNodes[s.offset],c=a.offsetWidth,l=r;if(i)for(var u=0;u<r;u++)i[u]&&(c-=i[u],l--);return c/l}function Xt(t){while(t&&"TD"!=t.nodeName&&"TH"!=t.nodeName)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Zt(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;var i=r.pos,o=C(t.state.doc.resolve(i));if(!o)return-1;if("right"==n)return o.pos;var s=m.get(o.node(-1)),a=o.start(-1),c=s.map.indexOf(o.pos-a);return c%s.width==0?-1:a+s.map[c-1]}function Qt(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function te(t,e){t.dispatch(t.state.tr.setMeta(Ut,{setHandle:e}))}function ee(t,e,n){for(var r=t.state.doc.resolve(e),i=r.node(-1),o=m.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,c=t.state.tr,l=0;l<o.height;l++){var u=l*o.width+a;if(!l||o.map[u]!=o.map[u-o.width]){var h=o.map[u],f=i.nodeAt(h),d=f.attrs,p=1==d.colspan?0:a-o.colCount(h);if(!d.colwidth||d.colwidth[p]!=n){var g=d.colwidth?d.colwidth.slice():re(d.colspan);g[p]=n,c.setNodeMarkup(s+h,null,j(d,"colwidth",g))}}}c.docChanged&&t.dispatch(c)}function ne(t,e,n,r){var i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),a=m.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,c=t.domAtPos(i.start(-1)).node;while("TABLE"!=c.nodeName)c=c.parentNode;Ht(o,c.firstChild,c,r,a,n)}function re(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function ie(t,e){for(var n=[],r=t.doc.resolve(e),i=r.node(-1),o=m.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,l=0;l<o.height;l++){var u=a+l*o.width-1;if((a==o.width||o.map[u]!=o.map[u+1])&&(0==l||o.map[u-1]!=o.map[u-1-o.width])){var h=o.map[u],f=s+h+i.nodeAt(h).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(c["Decoration"].widget(f,d))}}return c["DecorationSet"].create(t.doc,n)}function oe(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new o["Plugin"]({key:k,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(k);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;var r=t.mapping.mapResult(e),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:z,handleDOMEvents:{mousedown:at},createSelectionBetween:function(t){if(null!=k.getState(t.state))return t.state.selection},handleTripleClick:ot,handleKeyDown:tt,handlePaste:st},appendTransaction:function(t,n,r){return W(r,dt(r,n),e)}})}qt.prototype.apply=function(t){var e=this,n=t.getMeta(Ut);if(n&&null!=n.setHandle)return new qt(n.setHandle,null);if(n&&void 0!==n.setDragging)return new qt(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var r=t.mapping.map(e.activeHandle,-1);_(t.doc.resolve(r))||(r=null),e=new qt(r,e.dragging)}return e}},5692:function(t,e,n){var r=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},"576a":function(t,e,n){"use strict";n.r(e),n.d(e,"Decoration",(function(){return xn})),n.d(e,"DecorationSet",(function(){return Cn})),n.d(e,"EditorView",(function(){return Ln})),n.d(e,"__endComposition",(function(){return cn})),n.d(e,"__parseFromClipboard",(function(){return ve})),n.d(e,"__serializeForClipboard",(function(){return ge}));var r=n("5313"),i=n("304a"),o=n("0ac0"),s={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var a=/Edge\/(\d+)/.exec(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);s.mac=/Mac/.test(navigator.platform);var u=s.ie=!!(c||l||a);s.ie_version=c?document.documentMode||6:l?+l[1]:a?+a[1]:null,s.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),s.gecko_version=s.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var h=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);s.chrome=!!h,s.chrome_version=h&&+h[1],s.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),s.android=/Android \d/.test(navigator.userAgent),s.webkit="webkitFontSmoothing"in document.documentElement.style,s.safari=/Apple Computer/.test(navigator.vendor),s.webkit_version=s.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var f=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},d=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},p=null,m=function(t,e,n){var r=p||(p=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},g=function(t,e,n,r){return n&&(y(t,e,n,r,-1)||y(t,e,n,r,1))},v=/^(img|br|input|textarea|hr)$/i;function y(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:b(t))){var o=t.parentNode;if(1!=o.nodeType||x(t)||v.test(t.nodeName)||"false"==t.contentEditable)return!1;e=f(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(i<0?-1:0)],"false"==t.contentEditable)return!1;e=i<0?b(t):0}}}function b(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function w(t,e,n){for(var r=0==e,i=e==b(t);r||i;){if(t==n)return!0;var o=f(t);if(t=t.parentNode,!t)return!1;r=r&&0==o,i=i&&o==b(t)}}function x(t){for(var e,n=t;n;n=n.parentNode)if(e=n.pmViewDesc)break;return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var S=function(t){var e=t.isCollapsed;return e&&s.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function A(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function k(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function C(t,e){return"number"==typeof t?t:t[e]}function O(t){var e=t.getBoundingClientRect();return{left:e.left,right:e.left+t.clientWidth,top:e.top,bottom:e.top+t.clientHeight}}function M(t,e,n){for(var r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,s=n||t.dom;;s=d(s)){if(!s)break;if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,c=a?k(o):O(s),l=0,u=0;if(e.top<c.top+C(r,"top")?u=-(c.top-e.top+C(i,"top")):e.bottom>c.bottom-C(r,"bottom")&&(u=e.bottom-c.bottom+C(i,"bottom")),e.left<c.left+C(r,"left")?l=-(c.left-e.left+C(i,"left")):e.right>c.right-C(r,"right")&&(l=e.right-c.right+C(i,"right")),l||u)if(a)o.defaultView.scrollBy(l,u);else{var h=s.scrollLeft,f=s.scrollTop;u&&(s.scrollTop+=u),l&&(s.scrollLeft+=l);var p=s.scrollLeft-h,m=s.scrollTop-f;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(a)break}}}function E(t){for(var e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(o,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=i-20){e=a,n=c.top;break}}}return{refDOM:e,refTop:n,stack:T(t.dom)}}function T(t){for(var e=[],n=t.ownerDocument;t;t=d(t))if(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t==n)break;return e}function _(t){var e=t.refDOM,n=t.refTop,r=t.stack,i=e?e.getBoundingClientRect().top:0;N(r,0==i?0:i-n)}function N(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.dom,o=r.top,s=r.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}var R=null;function D(t){if(t.setActive)return t.setActive();if(R)return t.focus(R);var e=T(t);t.focus(null==R?{get preventScroll(){return R={preventScroll:!0},!0}}:void 0),R||(R=!1,N(e,0))}function P(t,e){for(var n,r,i=2e8,o=0,s=e.top,a=e.top,c=t.firstChild,l=0;c;c=c.nextSibling,l++){var u=void 0;if(1==c.nodeType)u=c.getClientRects();else{if(3!=c.nodeType)continue;u=m(c).getClientRects()}for(var h=0;h<u.length;h++){var f=u[h];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);var d=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(d<i){n=c,i=d,r=d&&3==n.nodeType?{left:f.right<e.left?f.right:f.left,top:e.top}:e,1==c.nodeType&&d&&(o=l+(e.left>=(f.left+f.right)/2?1:0));continue}}!n&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(o=l+1)}}return n&&3==n.nodeType?I(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:P(n,r)}function I(t,e){for(var n=t.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);var o=z(r,1);if(o.top!=o.bottom&&j(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function j(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function $(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function L(t,e,n){var r=P(e,n),i=r.node,o=r.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(i,o,s)}function B(t,e,n,r){for(var i=-1,o=e;;){if(o==t.dom)break;var s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=s.posAfter}}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n)}function F(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){var s=t.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),c=0;c<a.length;c++){var l=a[c];if(j(e,l))return F(s,e,l)}if((o=(o+1)%r)==i)break}return t}function V(t,e){var n,r,i,o,a=t.root;if(a.caretPositionFromPoint)try{var c=a.caretPositionFromPoint(e.left,e.top);c&&(n=c,i=n.offsetNode,o=n.offset)}catch(g){}if(!i&&a.caretRangeFromPoint){var l=a.caretRangeFromPoint(e.left,e.top);l&&(r=l,i=r.startContainer,o=r.startOffset)}var u,h=a.elementFromPoint(e.left,e.top+1);if(!h||!t.dom.contains(1!=h.nodeType?h.parentNode:h)){var f=t.dom.getBoundingClientRect();if(!j(e,f))return null;if(h=F(t.dom,e,f),!h)return null}if(s.safari&&h.draggable&&(i=o=null),h=$(h,e),i){if(s.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length),o<i.childNodes.length)){var d,p=i.childNodes[o];"IMG"==p.nodeName&&(d=p.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&o++}i==t.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&e.top>i.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(u=B(t,i,o,e))}null==u&&(u=L(t,h,e));var m=t.docView.nearestDesc(h,!0);return{pos:u,inside:m?m.posAtStart-m.border:-1}}function z(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var H=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function U(t,e,n){var r=t.docView.domFromPos(e),i=r.node,o=r.offset,a=t.state.doc.resolve(e),c=a.parent.inlineContent,l=s.webkit||s.gecko;if(3==i.nodeType&&l&&H.test(i.nodeValue)){var u=z(m(i,o,o),n);if(s.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var h=z(m(i,o-1,o-1),-1);if(h.top==u.top){var d=z(m(i,o,o+1),-1);if(d.top!=u.top)return W(d,d.left<h.left)}}return u}if(c){var p=a.depth?t.docView.domAfterPos(a.before()):t.dom;while(n<0&&!o&&i!=p)o=f(i),i=i.parentNode;while(n>=0&&o==b(i)&&i!=p)o=f(i)+1,i=i.parentNode}if(3==i.nodeType)return n<0?W(z(m(i,o-1,o),1),!1):W(z(m(i,o,o+1),-1),!0);if(!c){if(o&&(n<0||o==b(i))){var g=i.childNodes[o-1];if(1==g.nodeType)return q(g.getBoundingClientRect(),!1)}if(o<b(i)){var v=i.childNodes[o];if(1==v.nodeType)return q(v.getBoundingClientRect(),!0)}return q(i.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==b(i))){var y=i.childNodes[o-1],w=3==y.nodeType?m(y,b(y)-(l?0:1)):1==y.nodeType&&"BR"!=y.nodeName?y:null;if(w)return W(z(w,1),!1)}if(o<b(i)){var x=i.childNodes[o],S=3==x.nodeType?m(x,0,l?0:1):1==x.nodeType?x:null;if(S)return W(z(S,-1),!0)}return W(z(3==i.nodeType?m(i):i,-n),n>=0)}function W(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function q(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function J(t,e,n){var r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function K(t,e,n){var r=e.selection,i="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return J(t,e,(function(){for(var e=t.docView.domFromPos(i.pos),r=e.node;;){var o=t.docView.nearestDesc(r,!0);if(!o)break;if(o.node.isBlock){r=o.dom;break}r=o.dom.parentNode}for(var s=U(t,i.pos,1),a=r.firstChild;a;a=a.nextSibling){var c=void 0;if(1==a.nodeType)c=a.getClientRects();else{if(3!=a.nodeType)continue;c=m(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<c.length;l++){var u=c[l];if(u.bottom>u.top&&("up"==n?u.bottom<s.top+1:u.top>s.bottom-1))return!1}}return!0}))}var G=/[\u0590-\u08ac]/;function Y(t,e,n){var r=e.selection,i=r.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,s=!o,a=o==i.parent.content.size,c=getSelection();return G.test(i.parent.textContent)&&c.modify?J(t,e,(function(){var e=c.getRangeAt(0),r=c.focusNode,o=c.focusOffset,s=c.caretBidiLevel;c.modify("move",n,"character");var a=i.depth?t.docView.domAfterPos(i.before()):t.dom,l=!a.contains(1==c.focusNode.nodeType?c.focusNode:c.focusNode.parentNode)||r==c.focusNode&&o==c.focusOffset;return c.removeAllRanges(),c.addRange(e),null!=s&&(c.caretBidiLevel=s),l})):"left"==n||"backward"==n?s:a}var X=null,Z=null,Q=!1;function tt(t,e,n){return X==e&&Z==n?Q:(X=e,Z=n,Q="up"==n||"down"==n?K(t,e,n):Y(t,e,n))}var et=0,nt=1,rt=2,it=3,ot=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=et},st={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};ot.prototype.matchesWidget=function(){return!1},ot.prototype.matchesMark=function(){return!1},ot.prototype.matchesNode=function(){return!1},ot.prototype.matchesHack=function(){return!1},st.beforePosition.get=function(){return!1},ot.prototype.parseRule=function(){return null},ot.prototype.stopEvent=function(){return!1},st.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},st.border.get=function(){return 0},ot.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},ot.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},st.posBefore.get=function(){return this.parent.posBeforeChild(this)},st.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},st.posAfter.get=function(){return this.posBefore+this.size},st.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},ot.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,i;if(t==this.contentDOM)r=t.childNodes[e-1];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;r=t.previousSibling}while(r&&(!(i=r.pmViewDesc)||i.parent!=this))r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,s;if(t==this.contentDOM)o=t.childNodes[e];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;o=t.nextSibling}while(o&&(!(s=o.pmViewDesc)||s.parent!=this))o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&e==t.childNodes.length)for(var l=t;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},ot.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i&&(!e||i.node)){if(!n||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==t.nodeType?t:t.parentNode):i.nodeDOM==t))return i;n=!1}}},ot.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},ot.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1},ot.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],i=n+r.size;if(n==t&&i!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}},ot.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){while(n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM))n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:f(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+t);var r=this.children[n],i=e+r.size;if(t<i)return r.domFromPos(t-e-r.border);e=i}},ot.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,s=0;;s++){var a=this.children[s],c=o+a.size;if(-1==r&&t<=c){var l=o+a.border;if(t>=l&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,l);t=o;for(var u=s;u>0;u--){var h=this.children[u-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){r=f(h.dom)+1;break}t-=h.size}-1==r&&(r=0)}if(r>-1&&(c>e||s==this.children.length-1)){e=c;for(var d=s+1;d<this.children.length;d++){var p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=f(p.dom);break}e+=p.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}},ot.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},ot.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},ot.prototype.setSelection=function(t,e,n,r){for(var i=Math.min(t,e),o=Math.max(t,e),a=0,c=0;a<this.children.length;a++){var l=this.children[a],u=c+l.size;if(i>c&&o<u)return l.setSelection(t-c-l.border,e-c-l.border,n,r);c=u}var h=this.domFromPos(t),f=this.domFromPos(e),d=n.getSelection(),p=!1;if((s.gecko||s.safari)&&t==e){var m=h.node.childNodes[h.offset-1];p=m&&("BR"==m.nodeName||"false"==m.contentEditable)}if(r||p&&s.safari||!g(h.node,h.offset,d.anchorNode,d.anchorOffset)||!g(f.node,f.offset,d.focusNode,d.focusOffset)){var v=!1;if((d.extend||t==e)&&!p){d.collapse(h.node,h.offset);try{t!=e&&d.extend(f.node,f.offset),v=!0}catch(w){if(!(w instanceof DOMException))throw w}}if(!v){if(t>e){var y=h;h=f,f=y}var b=document.createRange();b.setEnd(f.node,f.offset),b.setStart(h.node,h.offset),d.removeAllRanges(),d.addRange(b)}}},ot.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},st.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},ot.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){var s=n+i.border,a=o-i.border;if(t>=s&&e<=a)return this.dirty=t==n||e==o?rt:nt,void(t!=s||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-s,e-s):i.dirty=it);i.dirty=it}n=o}this.dirty=rt},ot.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?rt:nt;e.dirty<n&&(e.dirty=n)}},Object.defineProperties(ot.prototype,st);var at=[],ct=function(t){function e(e,n,r,i){var o,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,at,s,null),this.widget=n,o=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return this.dirty==et&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},Object.defineProperties(e.prototype,n),e}(ot),lt=function(t){function e(e,n,r,i){t.call(this,e,at,n,null),this.textDOM=r,this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(ot),ut=function(t){function e(e,n,r,i){t.call(this,e,[],r,i),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var s=o.nodeViews[n.type.name],a=s&&s(n,o,r);return a&&a.dom||(a=i["DOMSerializer"].renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,a.dom,a.contentDOM||a.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return this.dirty!=it&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),this.dirty!=et){var r=this.parent;while(!r.node)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=et}},e.prototype.slice=function(t,n,r){var i=e.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Rt(o,n,s,r)),t>0&&(o=Rt(o,0,t,r));for(var a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i},e}(ot),ht=function(t){function e(e,n,r,i,o,s,a,c,l){t.call(this,e,n.isLeaf?at:[],o,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=i,s&&this.updateChildren(c,l)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0}};return e.create=function(t,n,r,o,s,a){var c,l,u=s.nodeViews[n.type.name],h=u&&u(n,s,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:a}),r),f=h&&h.dom,d=h&&h.contentDOM;if(n.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(n.text);else f||(c=i["DOMSerializer"].renderSpec(document,n.type.spec.toDOM(n)),f=c.dom,d=c.contentDOM);d||n.isText||"BR"==f.nodeName||(f.hasAttribute("contenteditable")||(f.contentEditable=!1),n.type.spec.draggable&&(f.draggable=!0));var p=f;return f=St(f,r,n),h?l=new mt(t,n,r,o,f,d,p,h,s,a+1):n.isText?new dt(t,n,r,o,f,p,s):new e(t,n,r,o,f,d,p,s,a+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?i["Fragment"].empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return this.dirty==et&&t.eq(this.node)&&At(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,a=r&&t.composing&&this.localCompositionNode(t,e),c=new Ct(this,a&&a.node);Et(this.node,this.innerDeco,(function(e,s,a){e.spec.marks?c.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&c.syncToMarks(s==n.node.childCount?i["Mark"].none:n.node.child(s).marks,r,t),c.placeWidget(e,t,o)}),(function(e,n,i,s){c.syncToMarks(e.marks,r,t),c.findNodeMatch(e,n,i,s)||c.updateNextNode(e,n,i,t,s)||c.addNode(e,n,i,t,o),o+=e.nodeSize})),c.syncToMarks(at,r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==rt)&&(a&&this.protectLocalComposition(t,a),gt(this.contentDOM,this.children,t),s.ios&&Tt(this.dom))},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,i=n.from,o=n.to;if(!(!(t.state.selection instanceof r["TextSelection"])||i<e||o>e+this.node.content.size)){var s=t.root.getSelection(),a=_t(s.focusNode,s.focusOffset);if(a&&this.dom.contains(a.parentNode)){var c=a.nodeValue,l=Nt(this.node.content,c,i-e,o-e);return l<0?null:{node:a,pos:l,text:c}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,i=e.text;if(!this.getDesc(n)){for(var o=n;;o=o.parentNode){if(o.parentNode==this.contentDOM)break;while(o.previousSibling)o.parentNode.removeChild(o.previousSibling);while(o.nextSibling)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new lt(this,o,n,i);t.compositionNodes.push(s),this.children=Rt(this.children,r,r+i.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(this.dirty==it||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=et},e.prototype.updateOuterDeco=function(t){if(!At(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=wt(this.dom,this.nodeDOM,bt(this.outerDeco,this.node,e),bt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(e.prototype,n),e}(ot);function ft(t,e,n,r,i){return St(r,e,t),new ht(null,t,e,n,r,r,r,i,0)}var dt=function(t){function e(e,n,r,i,o,s,a){t.call(this,e,n,r,i,o,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){var t=this.nodeDOM.parentNode;while(t&&t!=this.dom&&!t.pmIsDeco)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(this.dirty==it||this.dirty!=et&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==et&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=et,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var i=this.node.cut(t,n),o=document.createTextNode(i.text);return new e(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)},e}(ht),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return this.dirty==et},e}(ot),mt=function(t){function e(e,n,r,i,o,s,a,c,l,u){t.call(this,e,n,r,i,o,s,a,l,u),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,i){if(this.dirty==it)return!1;if(this.spec.update){var o=this.spec.update(e,n);return o&&this.updateInner(e,n,r,i),o}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,i)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,i)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(ht);function gt(t,e,n){for(var r=t.firstChild,i=!1,o=0;o<e.length;o++){var s=e[o],a=s.dom;if(a.parentNode==t){while(a!=r)r=kt(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof ut){var c=r?r.previousSibling:t.lastChild;gt(s.contentDOM,s.children,n),r=c?c.nextSibling:t.firstChild}}while(r)r=kt(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}function vt(t){t&&(this.nodeName=t)}vt.prototype=Object.create(null);var yt=[new vt];function bt(t,e,n){if(0==t.length)return yt;for(var r=n?yt[0]:new vt,i=[r],o=0;o<t.length;o++){var s=t[o].type.attrs,a=r;if(s)for(var c in s.nodeName&&i.push(a=new vt(s.nodeName)),s){var l=s[c];null!=l&&(n&&1==i.length&&i.push(a=r=new vt(e.isInline?"span":"div")),"class"==c?a.class=(a.class?a.class+" ":"")+l:"style"==c?a.style=(a.style?a.style+";":"")+l:"nodeName"!=c&&(a[c]=l))}}return i}function wt(t,e,n,r){if(n==yt&&r==yt)return e;for(var i=e,o=0;o<r.length;o++){var s=r[o],a=n[o];if(o){var c=void 0;a&&a.nodeName==s.nodeName&&i!=t&&(c=i.parentNode)&&c.tagName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=yt[0]),i=c}xt(i,a||yt[0],s)}return i}function xt(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){for(var o=e.class?e.class.split(" "):at,s=n.class?n.class.split(" "):at,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&t.classList.remove(o[a]);for(var c=0;c<s.length;c++)-1==o.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style){var l,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(l=u.exec(e.style))t.style.removeProperty(l[1])}n.style&&(t.style.cssText+=n.style)}}function St(t,e,n){return wt(t,t,yt,bt(e,n,1!=t.nodeType))}function At(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function kt(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var Ct=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=Ot(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function Ot(t,e){for(var n=[],r=t.childCount,i=e.length-1;r>0&&i>=0;i--){var o=e[i],s=o.node;if(s){if(s!=t.child(r-1))break;n.push(o),--r}}return{nodes:n.reverse(),offset:r}}function Mt(t,e){return t.type.side-e.type.side}function Et(t,e,n,r){var i=e.locals(t),o=0;if(0!=i.length)for(var s=0,a=[],c=null,l=0;;){if(s<i.length&&i[s].to==o){var u=i[s++],h=void 0;while(s<i.length&&i[s].to==o)(h||(h=[u])).push(i[s++]);if(h){h.sort(Mt);for(var f=0;f<h.length;f++)n(h[f],l,!!c)}else n(u,l,!!c)}var d=void 0,p=void 0;if(c)p=-1,d=c,c=null;else{if(!(l<t.childCount))break;p=l,d=t.child(l++)}for(var m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);while(s<i.length&&i[s].from<=o&&i[s].to>o)a.push(i[s++]);var g=o+d.nodeSize;if(d.isText){var v=g;s<i.length&&i[s].from<v&&(v=i[s].from);for(var y=0;y<a.length;y++)a[y].to<v&&(v=a[y].to);v<g&&(c=d.cut(v-o),d=d.cut(0,v-o),g=v,p=-1)}var b=a.length?d.isInline&&!d.isLeaf?a.filter((function(t){return!t.inline})):a.slice():at;r(d,b,e.forChild(o,d),p),o=g}else for(var w=0;w<t.childCount;w++){var x=t.child(w);r(x,i,e.forChild(o,x),w),o+=x.nodeSize}}function Tt(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function _t(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=b(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function Nt(t,e,n,r){for(var i=0,o=0;i<t.childCount&&o<=r;){var s=t.child(i++),a=o;if(o+=s.nodeSize,s.isText){var c=s.text;while(i<t.childCount){var l=t.child(i++);if(o+=l.nodeSize,!l.isText)break;c+=l.text}if(o>=n){var u=c.lastIndexOf(e,r-a);if(u>=0&&u+e.length+a>=n)return a+u}}}return-1}function Rt(t,e,n,r,i){for(var o=[],s=0,a=0;s<t.length;s++){var c=t[s],l=a,u=a+=c.size;l>=n||u<=e?o.push(c):(l<e&&o.push(c.slice(0,e-l,r)),i&&(o.push(i),i=null),u>n&&o.push(c.slice(n-l,c.size,r)))}return o}function Dt(t,e){var n=t.root.getSelection(),i=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),s=o&&0==o.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var c,l,u=i.resolve(a);if(S(n)){c=u;while(o&&!o.node)o=o.parent;if(o&&o.node.isAtom&&r["NodeSelection"].isSelectable(o.node)&&o.parent&&(!o.node.isInline||!w(n.focusNode,n.focusOffset,o.dom))){var h=o.posBefore;l=new r["NodeSelection"](a==h?u:i.resolve(h))}}else{var f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;c=i.resolve(f)}if(!l){var d="pointer"==e||t.state.selection.head<u.pos&&!s?1:-1;l=Ht(t,c,u,d)}return l}function Pt(t,e){var n=t.state.selection;if(Vt(t,n),t.editable?t.hasFocus():Wt(t)&&document.activeElement&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)Ft(t);else{var i,o,s=n.anchor,a=n.head;!It||n instanceof r["TextSelection"]||(n.$from.parent.inlineContent||(i=jt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=jt(t,n.to))),t.docView.setSelection(s,a,t.root,e),It&&(i&&Lt(i),o&&Lt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Bt(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}Ct.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},Ct.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},Ct.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Ct.prototype.syncToMarks=function(t,e,n){var r=0,i=this.stack.length>>1,o=Math.min(i,t.length);while(r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning)r++;while(r<i)this.destroyRest(),this.top.dirty=et,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;while(i<t.length){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[i])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=ut.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}},Ct.prototype.findNodeMatch=function(t,e,n,r){var i=-1,o=r<0?void 0:this.getPreMatch(r),s=this.top.children;if(o&&o.matchesNode(t,e,n))i=s.indexOf(o);else for(var a=this.index,c=Math.min(s.length,a+5);a<c;a++){var l=s[a];if(l.matchesNode(t,e,n)&&this.preMatched.indexOf(l)<0){i=a;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},Ct.prototype.updateNextNode=function(t,e,n,r,i){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof ht){var a=this.preMatched.indexOf(s);if(a>-1&&a+this.preMatchOffset!=i)return!1;var c=s.dom,l=this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&s.dirty!=it&&At(e,s.outerDeco));if(!l&&s.update(t,e,n,r))return this.destroyBetween(this.index,o),s.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},Ct.prototype.addNode=function(t,e,n,r,i){this.top.children.splice(this.index++,0,ht.create(this.top,t,e,n,r,i)),this.changed=!0},Ct.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var i=new ct(this.top,t,e,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++},Ct.prototype.addTextblockHacks=function(){var t=this.top.children[this.index-1];while(t instanceof ut)t=t.children[t.children.length-1];if(!t||!(t instanceof dt)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new pt(this.top,at,e,null)),this.changed=!0}};var It=s.safari||s.chrome&&s.chrome_version<63;function jt(t,e){var n=t.docView.domFromPos(e),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,a=i?r.childNodes[i-1]:null;if(s.safari&&o&&"false"==o.contentEditable)return $t(o);if((!o||"false"==o.contentEditable)&&(!a||"false"==a.contentEditable)){if(o)return $t(o);if(a)return $t(a)}}function $t(t){return t.contentEditable="true",s.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Lt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Bt(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}function Ft(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,f(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&s.ie&&s.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function Vt(t,e){if(e instanceof r["NodeSelection"]){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(zt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else zt(t)}function zt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Ht(t,e,n,i){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||r["TextSelection"].between(e,n,i)}function Ut(t){return(!t.editable||t.root.activeElement==t.dom)&&Wt(t)}function Wt(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function qt(t){var e=t.docView.domFromPos(t.state.selection.anchor),n=t.root.getSelection();return g(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Jt(t,e){var n=t.selection,i=n.$anchor,o=n.$head,s=e>0?i.max(o):i.min(o),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&r["Selection"].findFrom(a,e)}function Kt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Gt(t,e,n){var i=t.state.selection;if(!(i instanceof r["TextSelection"])){if(i instanceof r["NodeSelection"]&&i.node.isInline)return Kt(t,new r["TextSelection"](e>0?i.$to:i.$from));var o=Jt(t.state,e);return!!o&&Kt(t,o)}if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var a=Jt(t.state,e);return!!(a&&a instanceof r["NodeSelection"])&&Kt(t,a)}if(!(s.mac&&n.indexOf("m")>-1)){var c,l=i.$head,u=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter;if(!u||u.isText)return!1;var h=e<0?l.pos-u.nodeSize:l.pos;return!!(u.isAtom||(c=t.docView.descAt(h))&&!c.contentDOM)&&(r["NodeSelection"].isSelectable(u)?Kt(t,new r["NodeSelection"](e<0?t.state.doc.resolve(l.pos-u.nodeSize):l)):!!s.webkit&&Kt(t,new r["TextSelection"](t.state.doc.resolve(e<0?h:h+u.nodeSize))))}}function Yt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Xt(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Zt(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var i,o,a=!1;for(s.gecko&&1==n.nodeType&&r<Yt(n)&&Xt(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var c=n.childNodes[r-1];if(Xt(c))i=n,o=--r;else{if(3!=c.nodeType)break;n=c,r=n.nodeValue.length}}else{if(te(n))break;var l=n.previousSibling;while(l&&Xt(l))i=n.parentNode,o=f(l),l=l.previousSibling;if(l)n=l,r=Yt(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}a?ee(t,e,n,r):i&&ee(t,e,i,o)}}function Qt(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var i,o,s=Yt(n);;)if(r<s){if(1!=n.nodeType)break;var a=n.childNodes[r];if(!Xt(a))break;i=n,o=++r}else{if(te(n))break;var c=n.nextSibling;while(c&&Xt(c))i=c.parentNode,o=f(c)+1,c=c.nextSibling;if(c)n=c,r=0,s=Yt(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}i&&ee(t,e,i,o)}}function te(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function ee(t,e,n,r){if(S(e)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&Pt(t)}),50)}function ne(t,e,n){var i=t.state.selection;if(i instanceof r["TextSelection"]&&!i.empty||n.indexOf("s")>-1)return!1;if(s.mac&&n.indexOf("m")>-1)return!1;var o=i.$from,a=i.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var c=Jt(t.state,e);if(c&&c instanceof r["NodeSelection"])return Kt(t,c)}if(!o.parent.inlineContent){var l=r["Selection"].findFrom(e<0?o:a,e);return!l||Kt(t,l)}return!1}function re(t,e){if(!(t.state.selection instanceof r["TextSelection"]))return!0;var n=t.state.selection,i=n.$head,o=n.$anchor,s=n.empty;if(!i.sameParent(o))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!i.textOffset&&(e<0?i.nodeBefore:i.nodeAfter);if(a&&!a.isText){var c=t.state.tr;return e<0?c.delete(i.pos-a.nodeSize,i.pos):c.delete(i.pos,i.pos+a.nodeSize),t.dispatch(c),!0}return!1}function ie(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function oe(t){if(s.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;ie(t,i,!0),setTimeout((function(){return ie(t,i,!1)}),20)}}}function se(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ae(t,e){var n=e.keyCode,r=se(e);return 8==n||s.mac&&72==n&&"c"==r?re(t,-1)||Zt(t):46==n||s.mac&&68==n&&"c"==r?re(t,1)||Qt(t):13==n||27==n||(37==n?Gt(t,-1,r)||Zt(t):39==n?Gt(t,1,r)||Qt(t):38==n?ne(t,-1,r)||Zt(t):40==n?oe(t)||ne(t,1,r)||Qt(t):r==(s.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ce(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,a=r.fromOffset,c=r.toOffset,l=r.from,u=r.to,h=t.root.getSelection(),f=null,d=h.anchorNode;if(d&&t.dom.contains(1==d.nodeType?d:d.parentNode)&&(f=[{node:d,offset:h.anchorOffset}],S(h)||f.push({node:h.focusNode,offset:h.focusOffset})),s.chrome&&8===t.lastKeyCode)for(var p=c;p>a;p--){var m=o.childNodes[p-1],g=m.pmViewDesc;if("BR"==m.nodeType&&!g){c=p;break}if(!g||g.size)break}var v=t.state.doc,y=t.someProp("domParser")||i["DOMParser"].fromSchema(t.state.schema),b=v.resolve(l),w=null,x=y.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:a,to:c,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:f,ruleFromNode:le,context:b});if(f&&null!=f[0].pos){var A=f[0].pos,k=f[1]&&f[1].pos;null==k&&(k=A),w={anchor:A+l,head:k+l}}return{doc:x,sel:w,from:l,to:u}}function le(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(s.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||s.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function ue(t,e,n,i,o){if(e<0){var a=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,c=Dt(t,a);if(c&&!t.state.selection.eq(c)){var l=t.state.tr.setSelection(c);"pointer"==a?l.setMeta("pointer",!0):"key"==a&&l.scrollIntoView(),t.dispatch(l)}}else{var u=t.state.doc.resolve(e),h=u.sharedDepth(n);e=u.before(h+1),n=t.state.doc.resolve(n).after(h+1);var f,d,p=t.state.selection,m=ce(t,e,n),g=t.state.doc,v=g.slice(m.from,m.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.lastKeyCode=null;var y=me(v.content,m.doc.content,m.from,f,d);if(!y){if(!(i&&p instanceof r["TextSelection"]&&!p.empty&&p.$head.sameParent(p.$anchor))||t.composing||m.sel&&m.sel.anchor!=m.sel.head){if(m.sel){var b=he(t,t.state.doc,m.sel);b&&!b.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(b))}return}y={start:p.from,endA:p.to,endB:p.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof r["TextSelection"]&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),s.ie&&s.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>m.from&&" "==m.doc.textBetween(y.start-m.from-1,y.start-m.from+1)&&(y.start--,y.endA--,y.endB--);var w,x=m.doc.resolveNoCache(y.start-m.from),S=m.doc.resolveNoCache(y.endB-m.from),k=x.sameParent(S)&&x.parent.inlineContent;if((s.ios&&t.lastIOSEnter>Date.now()-225&&(!k||o.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!k&&x.pos<m.doc.content.size&&(w=r["Selection"].findFrom(m.doc.resolve(x.pos+1),1,!0))&&w.head==S.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,A(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>y.start&&de(g,y.start,y.endA,x,S)&&t.someProp("handleKeyDown",(function(e){return e(t,A(8,"Backspace"))})))s.android&&s.chrome&&t.domObserver.suppressSelectionUpdates();else{s.android&&!k&&x.start()!=S.start()&&0==S.parentOffset&&x.depth==S.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==y.endA&&(y.endB-=2,S=m.doc.resolveNoCache(y.endB-m.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,A(13,"Enter"))}))}),20));var C,O,M,E,T=y.start,_=y.endA;if(k)if(x.pos==S.pos)s.ie&&s.ie_version<=11&&0==x.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Pt(t)}),20)),C=t.state.tr.delete(T,_),O=g.resolve(y.start).marksAcross(g.resolve(y.endA));else if(y.endA==y.endB&&(E=g.resolve(y.start))&&(M=fe(x.parent.content.cut(x.parentOffset,S.parentOffset),E.parent.content.cut(E.parentOffset,y.endA-E.start()))))C=t.state.tr,"add"==M.type?C.addMark(T,_,M.mark):C.removeMark(T,_,M.mark);else if(x.parent.child(x.index()).isText&&x.index()==S.index()-(S.textOffset?0:1)){var N=x.parent.textBetween(x.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,T,_,N)})))return;C=t.state.tr.insertText(N,T,_)}if(C||(C=t.state.tr.replace(T,_,m.doc.slice(y.start-m.from,y.endB-m.from))),m.sel){var R=he(t,C.doc,m.sel);R&&!(s.chrome&&s.android&&t.composing&&R.empty&&(R.head==T||R.head==C.mapping.map(_)-1)||s.ie&&R.empty&&R.head==T)&&C.setSelection(R)}O&&C.ensureMarks(O),t.dispatch(C.scrollIntoView())}}}function he(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Ht(t,e.resolve(n.anchor),e.resolve(n.head))}function fe(t,e){for(var n,r,o,s=t.firstChild.marks,a=e.firstChild.marks,c=s,l=a,u=0;u<a.length;u++)c=a[u].removeFromSet(c);for(var h=0;h<s.length;h++)l=s[h].removeFromSet(l);if(1==c.length&&0==l.length)r=c[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=c.length||1!=l.length)return null;r=l[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var f=[],d=0;d<e.childCount;d++)f.push(o(e.child(d)));if(i["Fragment"].from(f).eq(t))return{mark:r,type:n}}function de(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||pe(r,!0,!1)<i.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=t.resolve(pe(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||pe(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function pe(t,e,n){var r=t.depth,i=e?t.end():t.pos;while(r>0&&(e||t.indexAfter(r)==t.node(r).childCount))r--,i++,e=!1;if(n){var o=t.node(r).maybeChild(t.indexAfter(r));while(o&&!o.isLeaf)o=o.firstChild,i++}return i}function me(t,e,n,r,i){var o=t.findDiffStart(e,n);if(null==o)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==i){var l=Math.max(0,o-Math.min(a,c));r-=a+l-o}if(a<o&&t.size<e.size){var u=r<=o&&r>=a?o-r:0;o-=u,c=o+(c-a),a=o}else if(c<o){var h=r<=o&&r>=c?o-r:0;o-=h,a=o+(a-c),c=o}return{start:o,endA:a,endB:c}}function ge(t,e){var n=[],r=e.content,o=e.openStart,s=e.openEnd;while(o>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount){o--,s--;var a=r.firstChild;n.push(a.type.name,a.type.hasRequiredAttrs()?a.attrs:null),r=a.content}var c=t.someProp("clipboardSerializer")||i["DOMSerializer"].fromSchema(t.state.schema),l=Oe(),u=l.createElement("div");u.appendChild(c.serializeFragment(r,{document:l}));var h,f=u.firstChild;while(f&&1==f.nodeType&&(h=ke[f.nodeName.toLowerCase()])){for(var d=h.length-1;d>=0;d--){var p=l.createElement(h[d]);while(u.firstChild)p.appendChild(u.firstChild);u.appendChild(p)}f=u.firstChild}f&&1==f.nodeType&&f.setAttribute("data-pm-slice",o+" "+s+" "+JSON.stringify(n));var m=t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:u,text:m}}function ve(t,e,n,r,o){var s,a,c=o.parent.type.spec.code;if(!n&&!e)return null;var l=e&&(r||c||!n);if(l){if(t.someProp("transformPastedText",(function(t){e=t(e,c||r)})),c)return new i["Slice"](i["Fragment"].from(t.state.schema.text(e)),0,0);var u=t.someProp("clipboardTextParser",(function(t){return t(e,o,r)}));u?a=u:(s=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){s.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),s=Me(n);var h=s&&s.querySelector("[data-pm-slice]"),f=h&&/^(\d+) (\d+) (.*)/.exec(h.getAttribute("data-pm-slice"));if(!a){var d=t.someProp("clipboardParser")||t.someProp("domParser")||i["DOMParser"].fromSchema(t.state.schema);a=d.parseSlice(s,{preserveWhitespace:!(!l&&!f),context:o})}return a=f?Ee(Ae(a,+f[1],+f[2]),f[3]):i["Slice"].maxOpen(ye(a.content,o),!1),t.someProp("transformPasted",(function(t){a=t(a)})),a}function ye(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n),o=r.contentMatchAt(e.index(n)),s=void 0,a=[];if(t.forEach((function(t){if(a){var e,n=o.findWrapping(t.type);if(!n)return a=null;if(e=a.length&&s.length&&we(n,s,t,a[a.length-1],0))a[a.length-1]=e;else{a.length&&(a[a.length-1]=xe(a[a.length-1],s.length));var r=be(t,n);a.push(r),o=o.matchType(r.type,r.attrs),s=n}}})),a)return{v:i["Fragment"].from(a)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}function be(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,i["Fragment"].from(t));return t}function we(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var s=we(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));var a=r.contentMatchAt(r.childCount);if(a.matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(i["Fragment"].from(be(n,t,o+1))))}}function xe(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,xe(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(i["Fragment"].empty,!0);return t.copy(n.append(r))}function Se(t,e,n,r,o,s){var a=e<0?t.firstChild:t.lastChild,c=a.content;return o<r-1&&(c=Se(c,e,n,r,o+1,s)),o>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,t.childCount>1||s<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(i["Fragment"].empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}function Ae(t,e,n){return e<t.openStart&&(t=new i["Slice"](Se(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new i["Slice"](Se(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var ke={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ce=null;function Oe(){return Ce||(Ce=document.implementation.createHTMLDocument("title"))}function Me(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=Oe().createElement("div"),i=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),o=0;(n=i&&ke[i[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""),o=n.length),r.innerHTML=t;for(var s=0;s<o;s++)r=r.firstChild;return r}function Ee(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(u){return t}for(var o=t.content,s=t.openStart,a=t.openEnd,c=n.length-2;c>=0;c-=2){var l=r.nodes[n[c]];if(!l||l.hasRequiredAttrs())break;o=i["Fragment"].from(l.create(n[c+1],o)),s++,a++}return new i["Slice"](o,s,a)}var Te={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},_e=s.ie&&s.ie_version<=11,Ne=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ne.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Ne.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Re=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);s.ie&&s.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Ne,_e&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Re.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},Re.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Re.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Te),_e&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Re.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}_e&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Re.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Re.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Re.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},Re.prototype.onSelectionChange=function(){if(Ut(this.view)){if(this.suppressingSelectionUpdates)return Pt(this.view);if(s.ie&&s.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&g(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Re.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Re.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},Re.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Wt(this.view)&&!this.ignoreSelectionChange(e),r=-1,i=-1,o=!1,a=[];if(this.view.editable)for(var c=0;c<t.length;c++){var l=this.registerMutation(t[c],a);l&&(r=r<0?l.from:Math.min(l.from,r),i=i<0?l.to:Math.max(l.to,i),l.typeOver&&(o=!0))}if(s.gecko&&a.length>1){var u=a.filter((function(t){return"BR"==t.nodeName}));if(2==u.length){var h=u[0],f=u[1];h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),Pe(this.view)),this.handleDOMChange(r,i,o,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||Pt(this.view))}},Re.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){var r=t.previousSibling,i=t.nextSibling;if(s.ie&&s.ie_version<=11&&t.addedNodes.length)for(var o=0;o<t.addedNodes.length;o++){var a=t.addedNodes[o],c=a.previousSibling,l=a.nextSibling;(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(r=c),(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(i=l)}for(var u=r&&r.parentNode==t.target?f(r)+1:0,h=n.localPosFromDOM(t.target,u,-1),d=i&&i.parentNode==t.target?f(i):t.target.childNodes.length,p=0;p<t.addedNodes.length;p++)e.push(t.addedNodes[p]);var m=n.localPosFromDOM(t.target,d,1);return{from:h,to:m}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var De=!1;function Pe(t){De||(De=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Ie={},je={};function $e(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new Re(t,(function(e,n,r,i){return ue(t,e,n,r,i)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=Ie[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!ze(t,e)||Ve(t,e)||!t.editable&&e.type in je||n(t,e)})};for(var n in Ie)e(n);s.safari&&t.dom.addEventListener("input",(function(){return null})),Fe(t)}function Le(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Be(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}function Fe(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Ve(t,e)})}))}function Ve(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function ze(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function He(t,e){Ve(t,e)||!Ie[e.type]||!t.editable&&e.type in je||Ie[e.type](t,e)}function Ue(t){return{left:t.clientX,top:t.clientY}}function We(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function qe(t,e,n,r,i){if(-1==r)return!1;for(var o=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,(function(e){return r>o.depth?e(t,n,o.nodeAfter,o.before(r),i,!0):e(t,n,o.node(r),o.before(r),i,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function Je(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Ke(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r["NodeSelection"].isSelectable(i))&&(Je(t,new r["NodeSelection"](n),"pointer"),!0)}function Ge(t,e){if(-1==e)return!1;var n,i,o=t.state.selection;o instanceof r["NodeSelection"]&&(n=o.node);for(var s=t.state.doc.resolve(e),a=s.depth+1;a>0;a--){var c=a>s.depth?s.nodeAfter:s.node(a);if(r["NodeSelection"].isSelectable(c)){i=n&&o.$from.depth>0&&a>=o.$from.depth&&s.before(o.$from.depth+1)==o.$from.pos?s.before(o.$from.depth):s.before(a);break}}return null!=i&&(Je(t,r["NodeSelection"].create(t.state.doc,i),"pointer"),!0)}function Ye(t,e,n,r,i){return qe(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(i?Ge(t,n):Ke(t,n))}function Xe(t,e,n,r){return qe(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function Ze(t,e,n,r){return qe(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||Qe(t,n)}function Qe(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(Je(t,r["TextSelection"].create(n,0,n.content.size),"pointer"),!0);for(var i=n.resolve(e),o=i.depth+1;o>0;o--){var s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Je(t,r["TextSelection"].create(n,a+1,a+1+s.content.size),"pointer");else{if(!r["NodeSelection"].isSelectable(s))continue;Je(t,r["NodeSelection"].create(n,a),"pointer")}return!0}}function tn(t){return cn(t)}je.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!rn(t,e))if(t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!s.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||ae(t,e)?e.preventDefault():Le(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,A(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},je.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},je.keypress=function(t,e){if(!(rn(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||s.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof r["TextSelection"])||!n.$from.sameParent(n.$to)){var i=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,i)}))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}}};var en=s.mac?"metaKey":"ctrlKey";Ie.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=tn(t),r=Date.now(),i="singleClick";r-t.lastClick.time<500&&We(e,t.lastClick)&&!e[en]&&("singleClick"==t.lastClick.type?i="doubleClick":"doubleClick"==t.lastClick.type&&(i="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:i};var o=t.posAtCoords(Ue(e));o&&("singleClick"==i?t.mouseDown=new nn(t,o,e,n):("doubleClick"==i?Xe:Ze)(t,o.pos,o.inside,e)?e.preventDefault():Le(t,"pointer"))};var nn=function(t,e,n,i){var o,a,c=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=i,this.selectNode=n[en],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),a=e.inside;else{var l=t.state.doc.resolve(e.pos);o=l.parent,a=l.depth?l.before():0}this.mightDrag=null;var u=i?null:n.target,h=u?t.docView.nearestDesc(u,!0):null;this.target=h?h.dom:null,(o.type.spec.draggable&&!1!==o.type.spec.selectable||t.state.selection instanceof r["NodeSelection"]&&a==t.state.selection.from)&&(this.mightDrag={node:o,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&s.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return c.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Le(t,"pointer")};function rn(t,e){return!!t.composing||!!(s.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}nn.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},nn.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ue(t))),this.allowDefault||!e?Le(this.view,"pointer"):Ye(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():this.flushed||s.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||s.chrome&&!(this.view.state.selection instanceof r["TextSelection"])&&(e.pos==this.view.state.selection.from||e.pos==this.view.state.selection.to)?(Je(this.view,r["Selection"].near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Le(this.view,"pointer")}},nn.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Le(this.view,"pointer")},Ie.touchdown=function(t){tn(t),Le(t,"pointer")},Ie.contextmenu=function(t){return tn(t)};var on=s.android?5e3:-1;function sn(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return cn(t)}),e))}function an(t){t.composing=!1;while(t.compositionNodes.length>0)t.compositionNodes.pop().markParentsDirty()}function cn(t,e){if(t.domObserver.forceFlush(),an(t),e||t.docView.dirty){var n=Dt(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}function ln(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}je.compositionstart=je.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),cn(t,!0),t.markCursor=null;else if(cn(t),s.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}i=a,o=-1}t.composing=!0}sn(t,on)},je.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,sn(t,20))};var un=s.ie&&s.ie_version<15||s.ios&&s.webkit_version<604;function hn(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function fn(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?dn(t,r.value,null,e):dn(t,r.textContent,r.innerHTML,e)}),50)}}function dn(t,e,n,r){var o=ve(t,e,n,t.shiftKey,t.state.selection.$from);if(!t.someProp("handlePaste",(function(e){return e(t,r,o||i["Slice"].empty)}))&&o){var s=hn(o),a=s?t.state.tr.replaceSelectionWith(s,t.shiftKey):t.state.tr.replaceSelection(o);t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Ie.copy=je.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var i=un?null:e.clipboardData,o=n.content(),s=ge(t,o),a=s.dom,c=s.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",c)):ln(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},je.paste=function(t,e){var n=un?null:e.clipboardData,r=n&&n.getData("text/html"),i=n&&n.getData("text/plain");n&&(r||i||n.files.length)?(dn(t,i,r,e),e.preventDefault()):fn(t,e)};var pn=function(t,e){this.slice=t,this.move=e},mn=s.mac?"altKey":"ctrlKey";for(var gn in Ie.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var i=t.state.selection,o=i.empty?null:t.posAtCoords(Ue(e));if(o&&o.pos>=i.from&&o.pos<=(i instanceof r["NodeSelection"]?i.to-1:i.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(r["NodeSelection"].create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var s=t.docView.nearestDesc(e.target,!0);if(!s||!s.node.type.spec.draggable||s==t.docView)return;t.dispatch(t.state.tr.setSelection(r["NodeSelection"].create(t.state.doc,s.posBefore)))}var a=t.state.selection.content(),c=ge(t,a),l=c.dom,u=c.text;e.dataTransfer.clearData(),e.dataTransfer.setData(un?"Text":"text/html",l.innerHTML),un||e.dataTransfer.setData("text/plain",u),t.dragging=new pn(a,!e[mn])}},Ie.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},je.dragover=je.dragenter=function(t,e){return e.preventDefault()},je.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var s=t.posAtCoords(Ue(e));if(s){var a=t.state.doc.resolve(s.pos);if(a){var c=n&&n.slice||ve(t,e.dataTransfer.getData(un?"Text":"text/plain"),un?null:e.dataTransfer.getData("text/html"),!1,a),l=n&&!e[mn];if(t.someProp("handleDrop",(function(n){return n(t,e,c||i["Slice"].empty,l)})))e.preventDefault();else if(c){e.preventDefault();var u=c?Object(o["dropPoint"])(t.state.doc,a.pos,c):a.pos;null==u&&(u=a.pos);var h=t.state.tr;l&&h.deleteSelection();var f=h.mapping.map(u),d=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,p=h.doc;if(d?h.replaceRangeWith(f,f,c.content.firstChild):h.replaceRange(f,f,c),!h.doc.eq(p)){var m=h.doc.resolve(f);if(d&&r["NodeSelection"].isSelectable(c.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(c.content.firstChild))h.setSelection(new r["NodeSelection"](m));else{var g=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((function(t,e,n,r){return g=r})),h.setSelection(Ht(t,m,h.doc.resolve(g)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))}}}}}},Ie.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&Pt(t)}),20))},Ie.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},Ie.beforeinput=function(t,e){if(s.chrome&&s.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,A(8,"Backspace"))})))){var e=t.state.selection,r=e.$cursor;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())}}),50)}},je)Ie[gn]=je[gn];function vn(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var yn=function(t,e){this.spec=e||kn,this.side=this.spec.side||0,this.toDOM=t};yn.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,this.side<0?-1:1),o=i.pos,s=i.deleted;return s?null:new xn(o-n,o-n,this)},yn.prototype.valid=function(){return!0},yn.prototype.eq=function(t){return this==t||t instanceof yn&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&vn(this.spec,t.spec))};var bn=function(t,e){this.spec=e||kn,this.attrs=t};bn.prototype.map=function(t,e,n,r){var i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new xn(i,o,this)},bn.prototype.valid=function(t,e){return e.from<e.to},bn.prototype.eq=function(t){return this==t||t instanceof bn&&vn(this.attrs,t.attrs)&&vn(this.spec,t.spec)},bn.is=function(t){return t.type instanceof bn};var wn=function(t,e){this.spec=e||kn,this.attrs=t};wn.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,1);if(i.deleted)return null;var o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new xn(i.pos-n,o.pos-n,this)},wn.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,i=n.offset;return i==e.from&&i+t.child(r).nodeSize==e.to},wn.prototype.eq=function(t){return this==t||t instanceof wn&&vn(this.attrs,t.attrs)&&vn(this.spec,t.spec)};var xn=function(t,e,n){this.from=t,this.to=e,this.type=n},Sn={spec:{configurable:!0},inline:{configurable:!0}};xn.prototype.copy=function(t,e){return new xn(t,e,this.type)},xn.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},xn.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},xn.widget=function(t,e,n){return new xn(t,t,new yn(e,n))},xn.inline=function(t,e,n,r){return new xn(t,e,new bn(n,r))},xn.node=function(t,e,n,r){return new xn(t,e,new wn(n,r))},Sn.spec.get=function(){return this.type.spec},Sn.inline.get=function(){return this.type instanceof bn},Object.defineProperties(xn.prototype,Sn);var An=[],kn={},Cn=function(t,e){this.local=t&&t.length?t:An,this.children=e&&e.length?e:An};Cn.create=function(t,e){return e.length?Dn(e,t,0,kn):On},Cn.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Cn.prototype.findInner=function(t,e,n,r,i){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,n,r+c,i)}},Cn.prototype.map=function(t,e,n){return this==On||0==t.maps.length?this:this.mapInner(t,e,0,0,n||kn)},Cn.prototype.mapInner=function(t,e,n,r,i){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?En(this.children,o,t,e,n,r,i):o?new Cn(o.sort(Pn)):On},Cn.prototype.add=function(t,e){return e.length?this==On?Cn.create(t,e):this.addInner(t,e,0):this},Cn.prototype.addInner=function(t,e,n){var r,i=this,o=0;t.forEach((function(t,s){var a,c=s+n;if(a=Nn(e,t,c)){r||(r=i.children.slice());while(o<r.length&&r[o]<s)o+=3;r[o]==s?r[o+2]=r[o+2].addInner(t,a,c+1):r.splice(o,0,s,s+t.nodeSize,Dn(a,t,c+1,kn)),o+=3}}));var s=Tn(o?Rn(e):e,-n);return new Cn(s.length?this.local.concat(s).sort(Pn):this.local,r||this.children)},Cn.prototype.remove=function(t){return 0==t.length||this==On?this:this.removeInner(t,0)},Cn.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,i=0;i<n.length;i+=3){for(var o=void 0,s=n[i]+e,a=n[i+1]+e,c=0,l=void 0;c<t.length;c++)(l=t[c])&&l.from>s&&l.to<a&&(t[c]=null,(o||(o=[])).push(l));if(o){n==this.children&&(n=this.children.slice());var u=n[i+2].removeInner(o,s+1);u!=On?n[i+2]=u:(n.splice(i,3),i-=3)}}if(r.length)for(var h=0,f=void 0;h<t.length;h++)if(f=t[h])for(var d=0;d<r.length;d++)r[d].eq(f,e)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Cn(r,n):On},Cn.prototype.forChild=function(t,e){if(this==On)return this;if(e.isLeaf)return Cn.empty;for(var n,r,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(n=this.children[i+2]);break}for(var o=t+1,s=o+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>o&&c.type instanceof bn){var l=Math.max(o,c.from)-o,u=Math.min(s,c.to)-o;l<u&&(r||(r=[])).push(c.copy(l,u))}}if(r){var h=new Cn(r.sort(Pn));return n?new Mn([h,n]):h}return n||On},Cn.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Cn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Cn.prototype.locals=function(t){return In(this.localsInner(t))},Cn.prototype.localsInner=function(t){if(this==On)return An;if(t.inlineContent||!this.local.some(bn.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof bn||e.push(this.local[n]);return e};var On=new Cn;Cn.empty=On,Cn.removeOverlap=In;var Mn=function(t){this.members=t};function En(t,e,n,r,i,o,s){for(var a=t.slice(),c=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var c=a[s+1],l=void 0;-1==c||t>c+o||(e>=a[s]+o?a[s+1]=-1:n>=i&&(l=r-n-(e-t))&&(a[s]+=l,a[s+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var u=!1,h=0;h<a.length;h+=3)if(-1==a[h+1]){var f=n.map(t[h]+o),d=f-i;if(d<0||d>=r.content.size){u=!0;continue}var p=n.map(t[h+1]+o,-1),m=p-i,g=r.content.findIndex(d),v=g.index,y=g.offset,b=r.maybeChild(v);if(b&&y==d&&y+b.nodeSize==m){var w=a[h+2].mapInner(n,b,f+1,t[h]+o+1,s);w!=On?(a[h]=d,a[h+1]=m,a[h+2]=w):(a[h+1]=-2,u=!0)}else u=!0}if(u){var x=_n(a,t,e||[],n,i,o,s),S=Dn(x,r,0,s);e=S.local;for(var A=0;A<a.length;A+=3)a[A+1]<0&&(a.splice(A,3),A-=3);for(var k=0,C=0;k<S.children.length;k+=3){var O=S.children[k];while(C<a.length&&a[C]<O)C+=3;a.splice(C,0,S.children[k],S.children[k+1],S.children[k+2])}}return new Cn(e&&e.sort(Pn),a)}function Tn(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(new xn(i.from+e,i.to+e,i.type))}return n}function _n(t,e,n,r,i,o,s){function a(t,e){for(var o=0;o<t.local.length;o++){var c=t.local[o].map(r,i,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[o].spec)}for(var l=0;l<t.children.length;l+=3)a(t.children[l+2],t.children[l]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+o+1);return n}function Nn(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,i=null,o=0,s=void 0;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function Rn(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Dn(t,e,n,r){var i=[],o=!1;e.forEach((function(e,s){var a=Nn(t,e,s+n);if(a){o=!0;var c=Dn(a,e,n+s+1,r);c!=On&&i.push(s,s+e.nodeSize,c)}}));for(var s=Tn(o?Rn(t):t,-n).sort(Pn),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Cn(s,i):On}function Pn(t,e){return t.from-e.from||t.to-e.to}function In(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var i=n+1;i<e.length;i++){var o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),jn(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),jn(e,i+1,o.copy(r.to,o.to)))}}return e}function jn(t,e,n){while(e<t.length&&Pn(n,t[e])>0)e++;t.splice(e,0,n)}function $n(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=On&&e.push(r)})),t.cursorWrapper&&e.push(Cn.create(t.state.doc,[t.cursorWrapper.deco])),Mn.from(e)}Mn.prototype.forChild=function(t,e){if(e.isLeaf)return Cn.empty;for(var n=[],r=0;r<this.members.length;r++){var i=this.members[r].forChild(t,e);i!=On&&(i instanceof Mn?n=n.concat(i.members):n.push(i))}return Mn.from(n)},Mn.prototype.eq=function(t){if(!(t instanceof Mn)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Mn.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(var o=0;o<i.length;o++)e.push(i[o])}else e=i}return e?In(n?e:e.sort(Pn)):An},Mn.from=function(t){switch(t.length){case 0:return On;case 1:return t[0];default:return new Mn(t)}};var Ln=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=zn(this),this.markCursor=null,this.cursorWrapper=null,Vn(this),this.nodeViews=Un(this),this.docView=ft(this.state.doc,Fn(this),$n(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,$e(this),this.pluginViews=[],this.updatePluginViews()},Bn={props:{configurable:!0},root:{configurable:!0}};function Fn(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[xn.node(0,t.state.doc.content.size,e)]}function Vn(t){if(t.markCursor){var e=document.createElement("img");e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:xn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function zn(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Hn(t,e){var n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Un(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}function Wn(t,e){var n=0,r=0;for(var i in t){if(t[i]!=e[i])return!0;n++}for(var o in e)r++;return n!=r}Bn.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Ln.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Fe(this),this._props=t,this.updateStateInner(t.state,!0)},Ln.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},Ln.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Ln.prototype.updateStateInner=function(t,e){var n=this,i=this.state,o=!1,a=!1;if(t.storedMarks&&this.composing&&(an(this),a=!0),this.state=t,e){var c=Un(this);Wn(c,this.nodeViews)&&(this.nodeViews=c,o=!0),Fe(this)}this.editable=zn(this),Vn(this);var l=$n(this),u=Fn(this),h=e?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,u,l);!f&&t.selection.eq(i.selection)||(a=!0);var d="preserve"==h&&a&&null==this.dom.style.overflowAnchor&&E(this);if(a){this.domObserver.stop();var p=f&&(s.ie||s.chrome)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Hn(i.selection,t.selection);if(f){var m=s.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,u,l,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=ft(t.doc,u,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&qt(this))?Pt(this,p):(Vt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==h)this.dom.scrollTop=0;else if("to selection"==h){var g=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof r["NodeSelection"]?M(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),g):M(this,this.coordsAtPos(t.selection.head,1),g))}else d&&_(d)},Ln.prototype.destroyPluginViews=function(){var t;while(t=this.pluginViews.pop())t.destroy&&t.destroy()},Ln.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var i=this.state.plugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}},Ln.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var i=this.state.plugins;if(i)for(var o=0;o<i.length;o++){var s=i[o].props[t];if(null!=s&&(n=e?e(s):s))return n}},Ln.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Ln.prototype.focus=function(){this.domObserver.stop(),this.editable&&D(this.dom),Pt(this),this.domObserver.start()},Bn.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Ln.prototype.posAtCoords=function(t){return V(this,t)},Ln.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),U(this,t,e)},Ln.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},Ln.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Ln.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Ln.prototype.endOfTextblock=function(t,e){return tt(this,e||this.state,t)},Ln.prototype.destroy=function(){this.docView&&(Be(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$n(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Ln.prototype.dispatchEvent=function(t){return He(this,t)},Ln.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Ln.prototype,Bn)},5903:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));const r=1024;class i{constructor(t,e){this.enter=t,this.leave=e,this.result=void 0}get done(){return void 0!==this.result}doEnter(t,e,n){let r=this.enter(t,e,n);return void 0===r||(!1!==r&&(this.result=r),!1)}}let o=0;class s{constructor({deserialize:t}={}){this.id=o++,this.deserialize=t||(()=>{throw new Error("This node type doesn't define a deserialize function")})}static string(){return new s({deserialize:t=>t})}static number(){return new s({deserialize:Number})}static flag(){return new s({deserialize:()=>!0})}set(t,e){return t[this.id]=e,t}add(t){return new a(this,"function"==typeof t?t:c.match(t))}}s.error=s.flag(),s.skipped=s.flag(),s.closedBy=new s({deserialize:t=>t.split(" ")}),s.openedBy=new s({deserialize:t=>t.split(" ")}),s.top=s.flag();class a{constructor(t,e){this.prop=t,this.f=e}}class c{constructor(t,e,n){this.name=t,this.props=e,this.id=n}prop(t){return this.props[t.id]}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>e[t.name]}}c.none=new c("",Object.create(null),0);class l{get name(){return this.type.name}get depth(){let t=0;for(let e=this.parent;e;e=e.parent)t++;return t}get root(){let t=this;while(t.parent)t=t.parent;return t}resolve(t,e=0){let n=this.resolveAt(t);if(0!=e)for(;;){let r=e<0?n.childBefore(t):n.childAfter(t);if(!r||(e<0?r.end:r.start)!=t)break;n=r}return n}get firstChild(){return this.childAfter(this.start-1)}get lastChild(){return this.childBefore(this.end+1)}}class u extends l{constructor(t,e,n,r){super(),this.type=t,this.children=e,this.positions=n,this.length=r}get start(){return 0}get end(){return this.length}toString(){let t=this.children.map(t=>t.toString()).join();return this.name?(/\W/.test(this.name)&&!this.type.prop(s.error)?JSON.stringify(this.name):this.name)+(t.length?"("+t+")":""):t}partial(t,e,n,r,i){for(let o=0;o<this.children.length;o++){let s=this.positions[o];if(s>e)break;let a=this.children[o],c=s+a.length;c<t||(t<=s&&e>=c?(r.push(a),i.push(s+n)):a instanceof u&&a.partial(t-s,e-s,n+s,r,i))}}applyChanges(t){if(0==t.length)return this;let e=[],n=[];function r(t,e,n){let r=-1;return t.iterate({from:e,to:n<0?0:t.length,enter(){return r<0&&void 0},leave(t,i,o){r<0&&(n<0?o<=e:i>=e)&&!t.prop(s.error)&&(r=n<0?Math.min(e,o-1):Math.max(e,i+1))}}),r>-1?r:n<0?0:t.length}let i=0;for(let o=0,s=0;;o++){let a=o==t.length?null:t[o],c=a?r(this,a.fromA,-1):this.length;if(c>s&&this.partial(s,c,i,e,n),!a)break;s=r(this,a.toA,1),i+=a.toB-a.fromB-(a.toA-a.fromA)}return new u(c.none,e,n,this.length+i)}cut(t){if(t>=this.length)return this;let e=[],n=[];for(let r=0;r<this.children.length;r++){let i=this.positions[r];if(i>=t)break;let o=this.children[r],s=i+o.length;e.push(s<=t?o:o.cut(t-i)),n.push(i)}return new u(this.type,e,n,t)}iterate({from:t=this.start,to:e=this.end,enter:n,leave:r}){let o=new i(n,r);return this.iterInner(t,e,0,o),o.result}iterInner(t,e,n,r){if(!this.type.name||r.doEnter(this.type,n,n+this.length)){if(t<=e)for(let i=0;i<this.children.length&&!r.done;i++){let o=this.children[i],s=this.positions[i]+n,a=s+o.length;if(s>e)break;a<t||o.iterInner(t,e,s,r)}else for(let i=this.children.length-1;i>=0&&!r.done;i--){let o=this.children[i],s=this.positions[i]+n,a=s+o.length;if(a<e)break;s>t||o.iterInner(t,e,s,r)}r.leave&&this.type.name&&r.leave(this.type,n,n+this.length)}}resolveAt(t){if(h==this)for(let e=f;;){let n=e.parent;if(!n)break;if(e.start<t&&e.end>t)return e.resolve(t);e=n}return h=this,f=this.resolveInner(t,0,this)}childBefore(t){return this.findChild(t,-1,0,this)}childAfter(t){return this.findChild(t,1,0,this)}findChild(t,e,n,r){for(let i=0;i<this.children.length;i++){let o=this.positions[i]+n,s=-1;if(o>=t)if(e<0&&i>0)s=i-1;else{if(!(e>0))break;s=i}if(s<0&&(o+this.children[i].length>t||e<0&&i==this.children.length-1)&&(s=i),s>=0){let i=this.children[s],o=this.positions[s]+n;if(0==i.length&&o==t)continue;if(i instanceof u)return i.type.name?new p(i,o,r):i.findChild(t,e,o,r);{let n=i.findIndex(t,e,o,0,i.buffer.length);if(n>-1)return new m(i,o,n,r)}}}return null}resolveInner(t,e,n){let r=this.findChild(t,0,e,n);return r?r.resolveAt(t):n}append(t){if(t.children.length&&t.positions[0]<this.length)throw new Error("Can't append overlapping trees");return new u(this.type,this.children.concat(t.children),this.positions.concat(t.positions),t.length)}balance(t=r){return this.children.length<=v?this:b(this.type,c.none,this.children,this.positions,0,this.children.length,0,t,this.length)}static build(t){return y(t)}}u.empty=new u(c.none,[],[],0),u.prototype.parent=null;let h=u.empty,f=u.empty;class d{constructor(t,e,n,r=c.none){this.buffer=t,this.length=e,this.group=n,this.type=r}toString(){let t=[];for(let e=0;e<this.buffer.length;)e=this.childToString(e,t);return t.join(",")}childToString(t,e){let n=this.buffer[t],r=this.buffer[t+3],i=this.group.types[n],o=i.name;if(/\W/.test(o)&&!i.prop(s.error)&&(o=JSON.stringify(o)),t+=4,r>t){let e=[];while(t<r)t=this.childToString(t,e);o+="("+e.join(",")+")"}return e.push(o),t}cut(t){let e=0;while(e<this.buffer.length&&this.buffer[e+1]<t)e+=4;let n=new Uint16Array(e);for(let r=0;r<e;r+=4)n[r]=this.buffer[r],n[r+1]=this.buffer[r+1],n[r+2]=Math.min(t,this.buffer[r+2]),n[r+3]=Math.min(this.buffer[r+3],e);return new d(n,Math.min(t,this.length),this.group)}iterate({from:t=0,to:e=this.length,enter:n,leave:r}){let o=new i(n,r);return this.iterInner(t,e,0,o),o.result}iterInner(t,e,n,r){if(t<=e)for(let i=0;i<this.buffer.length;)i=this.iterChild(t,e,n,i,r);else this.iterRev(t,e,n,0,this.buffer.length,r)}iterChild(t,e,n,r,i){let o=this.group.types[this.buffer[r++]],s=this.buffer[r++]+n,a=this.buffer[r++]+n,c=this.buffer[r++];if(s>e)return this.buffer.length;if(a>=t&&i.doEnter(o,s,a)){while(r<c&&!i.done)r=this.iterChild(t,e,n,r,i);i.leave&&i.leave(o,s,a)}return c}parentNodesByEnd(t,e){let n=[],r=t=>{let e=this.buffer[t+3];if(e==t+4)return e;for(let n=t+4;n<e;)n=r(n);return n.push(t),e};for(let i=t;i<e;)i=r(i);return n}iterRev(t,e,n,r,i,o){let s=this.parentNodesByEnd(r,i),a=-1,c=-1,l=()=>{s.length>0?(a=s.pop(),c=this.buffer[a+3]):c=-1};l();t:for(let u=i;u>r&&!o.done;){while(c==u){let r=a,i=this.buffer[r],s=this.buffer[r+1]+n,h=this.buffer[r+2]+n;if(l(),s<=t&&h>=e&&!o.doEnter(this.group.types[i],s,h)){u=r;while(c>r)l();continue t}}let r=this.buffer[--u],i=this.buffer[--u]+n,s=this.buffer[--u]+n,h=this.buffer[--u];s>t||i<e||(r!=u+4||o.doEnter(this.group.types[h],s,i))&&o.leave&&o.leave(this.group.types[h],s,i)}}findIndex(t,e,n,r,i){let o=-1;for(let s=r,a=this.buffer;s<i;){let r=a[s+1]+n,i=a[s+2]+n,c=r==i&&r==t;if(r>=t){if(e>0&&!c)return s;break}if(i>t)return s;c||(o=s),s=a[s+3]}return e<0?o:-1}}class p extends l{constructor(t,e,n){super(),this.node=t,this.start=e,this.parent=n}get type(){return this.node.type}get end(){return this.start+this.node.length}resolveAt(t){return t<=this.start||t>=this.end?this.parent.resolveAt(t):this.node.resolveInner(t,this.start,this)}childBefore(t){return this.node.findChild(t,-1,this.start,this)}childAfter(t){return this.node.findChild(t,1,this.start,this)}toString(){return this.node.toString()}iterate({from:t=this.start,to:e=this.end,enter:n,leave:r}){let o=new i(n,r);return this.node.iterInner(t,e,this.start,o),o.result}}class m extends l{constructor(t,e,n,r){super(),this.buffer=t,this.bufferStart=e,this.index=n,this.parent=r}get type(){return this.buffer.group.types[this.buffer.buffer[this.index]]}get start(){return this.buffer.buffer[this.index+1]+this.bufferStart}get end(){return this.buffer.buffer[this.index+2]+this.bufferStart}get endIndex(){return this.buffer.buffer[this.index+3]}childBefore(t){let e=this.buffer.findIndex(t,-1,this.bufferStart,this.index+4,this.endIndex);return e<0?null:new m(this.buffer,this.bufferStart,e,this)}childAfter(t){let e=this.buffer.findIndex(t,1,this.bufferStart,this.index+4,this.endIndex);return e<0?null:new m(this.buffer,this.bufferStart,e,this)}iterate({from:t=this.start,to:e=this.end,enter:n,leave:r}){let o=new i(n,r);return t<=e?this.buffer.iterChild(t,e,this.bufferStart,this.index,o):this.buffer.iterRev(t,e,this.bufferStart,this.index,this.endIndex,o),o.result}resolveAt(t){if(t<=this.start||t>=this.end)return this.parent.resolveAt(t);let e=this.buffer.findIndex(t,0,this.bufferStart,this.index+4,this.endIndex);return e<0?this:new m(this.buffer,this.bufferStart,e,this).resolveAt(t)}toString(){let t=[];return this.buffer.childToString(this.index,t),t.join("")}}class g{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new g(this.buffer,this.index)}}const v=8;function y(t){let{buffer:e,group:n,topID:i=0,maxBufferLength:o=r,reused:s=[],minRepeatType:a=n.types.length}=t,l=Array.isArray(e)?new g(e,e.length):e,h=n.types;function f(t,e,r,i,g){let{id:y,start:w,end:x,size:S}=l;while(y==g)l.next(),({id:y,start:w,end:x,size:S}=l);let A=w-t;if(S<0)return r.push(s[y]),i.push(A),void l.next();let k,C,O=h[y];if(x-w<=o&&(C=p(l.pos-e,g))){let e=new Uint16Array(C.size-C.skip),r=l.pos-C.size,i=e.length;while(l.pos>r)i=m(C.start,e,i,g);k=new d(e,x-C.start,n,g<0?c.none:h[g]),A=C.start-t}else{let t=l.pos-S;l.next();let e=[],n=[],r=y>=a?y:-1;while(l.pos>t)f(w,t,e,n,r);e.reverse(),n.reverse(),k=r>-1&&e.length>v?b(O,O,e,n,0,e.length,0,o,x-w):new u(O,e,n,x-w)}r.push(k),i.push(A)}function p(t,e){let n=l.fork(),r=0,i=0,s=0,c=n.end-o,u={size:0,start:0,skip:0};t:for(let o=n.pos-t;n.pos>o;){if(n.id==e){u.size=r,u.start=i,u.skip=s,s+=4,r+=4,n.next();continue}let t=n.size,l=n.pos-t;if(t<0||l<o||n.start<c)break;let h=n.id>=a?4:0,f=n.start;n.next();while(n.pos>l){if(n.size<0)break t;n.id>=a&&(h+=4),n.next()}i=f,r+=t,s+=h}return(e<0||r==t)&&(u.size=r,u.start=i,u.skip=s),u.size>4?u:void 0}function m(t,e,n,r){let{id:i,start:o,end:s,size:c}=l;if(l.next(),i==r)return n;let u=n;if(c>4){let i=l.pos-(c-4);while(l.pos>i)n=m(t,e,n,r)}return i<a&&(e[--n]=u,e[--n]=s-t,e[--n]=o-t,e[--n]=i),n}let y=[],w=[];while(l.pos>0)f(0,0,y,w,-1);let x=y.length?w[0]+y[0].length:0;return new u(n.types[i],y.reverse(),w.reverse(),x)}function b(t,e,n,r,i,o,s,a,l){let h=[],f=[];if(l<=a)for(let c=i;c<o;c++)h.push(n[c]),f.push(r[c]-s);else{let t=Math.max(a,Math.ceil(1.5*l/v));for(let l=i;l<o;){let i=l,d=r[l];for(l++;l<o;l++){let e=r[l]+n[l].length;if(e-d>t)break}if(l==i+1){let r=n[i];if(r instanceof u&&r.type==e&&r.length>t<<1){for(let t=0;t<r.children.length;t++)h.push(r.children[t]),f.push(r.positions[t]+d-s);continue}h.push(r)}else if(l==i+1)h.push(n[i]);else{let t=b(e,e,n,r,i,l,d,a,r[l-1]+n[l-1].length-d);e==c.none||w(t.children,e)||(t=new u(c.none,t.children,t.positions,t.length)),h.push(t)}f.push(d-s)}}return new u(t,h,f,l)}function w(t,e){for(let n of t)if(n.type==e)return!0;return!1}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"60a3":function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n("2b0e");n.d(e,"c",(function(){return r["a"]}));var i=n("2fe1");n.d(e,"a",(function(){return i["b"]}));var o="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function s(t,e,n){if(o&&!Array.isArray(t)&&"function"!==typeof t&&"undefined"===typeof t.type){var r=Reflect.getMetadata("design:type",e,n);r!==Object&&(t.type=r)}}function a(t){return void 0===t&&(t={}),function(e,n){s(t,e,n),Object(i["a"])((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}},"60da":function(t,e,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),c=n("7b0b"),l=n("44ad"),u=Object.assign,h=Object.defineProperty;t.exports=!u||i((function(){if(r&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||o(u({},e)).join("")!=i}))?function(t,e){var n=c(t),i=arguments.length,u=1,h=s.f,f=a.f;while(i>u){var d,p=l(arguments[u++]),m=h?o(p).concat(h(p)):o(p),g=m.length,v=0;while(g>v)d=m[v++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:u},6547:function(t,e,n){var r=n("a691"),i=n("1d80"),o=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(t,e,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"694b":function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;0!==i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}},"69f3":function(t,e,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("861d"),l=n("9112"),u=n("5135"),h=n("f772"),f=n("d012"),d=a.WeakMap,p=function(t){return o(t)?i(t):r(t,{})},m=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(s){var g=new d,v=g.get,y=g.has,b=g.set;r=function(t,e){return b.call(g,t,e),e},i=function(t){return v.call(g,t)||{}},o=function(t){return y.call(g,t)}}else{var w=h("state");f[w]=!0,r=function(t,e){return l(t,w,e),e},i=function(t){return u(t,w)?t[w]:{}},o=function(t){return u(t,w)}}t.exports={set:r,get:i,has:o,enforce:p,getterFor:m}},"6eeb":function(t,e,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),c=n("69f3"),l=c.get,u=c.enforce,h=String(String).split("String");(t.exports=function(t,e,n,a){var c=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),u(n).source=h.join("string"==typeof e?e:"")),t!==r?(c?!f&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},"6f53":function(t,e,n){var r=n("83ab"),i=n("df75"),o=n("fc6a"),s=n("d1e7").f,a=function(t){return function(e){var n,a=o(e),c=i(a),l=c.length,u=0,h=[];while(l>u)n=c[u++],r&&!s.call(a,n)||h.push(t?[n,a[n]]:a[n]);return h}};t.exports={entries:a(!0),values:a(!1)}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"742d":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return tt})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return ot})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return z})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return O})),n.d(e,"j",(function(){return J})),n.d(e,"k",(function(){return st})),n.d(e,"l",(function(){return E}));var r=n("7ae1");n.d(e,"i",(function(){return r["a"]}));var i=n("5903");const o=/\r\n?|\n/;var s;(function(t){t[t["Simple"]=0]="Simple",t[t["TrackDel"]=1]="TrackDel",t[t["TrackBefore"]=2]="TrackBefore",t[t["TrackAfter"]=3]="TrackAfter"})(s||(s={}));class a{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],o=this.sections[e++];o<0?(t(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(t,e=!1){h(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new a(t)}composeDesc(t){return this.empty?t:t.empty?this:d(this,t)}mapDesc(t,e=!1){return t.empty?this:f(this,t,e)}mapPos(t,e=-1,n=s.Simple){let r=0,i=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],c=this.sections[o++],l=r+a;if(c<0){if(l>t)return i+(t-r);i+=a}else{if(n!=s.Simple&&l>=t&&(n==s.TrackDel&&r<t&&l>t||n==s.TrackBefore&&r<t||n==s.TrackAfter&&l>t))return-1;if(l>t||l==t&&e<0&&!a)return t==r||e<0?i:i+c;i+=c}r=l}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}mapPosStable(t,e=-1){let n=0,r=0,i=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],c=n+s;if(a<0){if(c>t)return r+Math.max(0,t-n);i=r+=s}else{if(e<=0&&c>=t)return i;r+=a}n=c}return r}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=this.sections[n++],o=this.sections[n++],s=r+i;if(o>=0&&r<=e&&s>=t)return!(r<t&&s>e)||"cover";r=s}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}}class c extends a{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return h(this,(e,n,r,i,o)=>t=t.replace(r,r+(n-e),o),!1),t}mapDesc(t,e=!1){return f(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let i=0,o=0;i<e.length;i+=2){let s=e[i],a=e[i+1];if(a>=0){e[i]=a,e[i+1]=s;let c=i>>1;while(n.length<c)n.push(r["a"].empty);n.push(s?t.slice(o,o+s):r["a"].empty)}o+=s}return new c(e,n)}compose(t){return this.empty?t:t.empty?this:d(this,t,!0)}map(t,e=!1){return t.empty?this:f(this,t,e,!0)}iterChanges(t,e=!1){h(this,t,e)}get desc(){return new a(this.sections)}filter(t){let e=[],n=[],r=[],i=new p(this);t:for(let o=0,s=0;;){let a=o==t.length?1e9:t[o++];while(s<a||s==a&&0==i.len){if(i.done)break t;let t=Math.min(i.len,a-s);l(r,t,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;l(e,t,o),o>0&&u(n,e,i.text),i.forward(t),s+=t}let c=t[o++];while(s<c){if(i.done)break t;let t=Math.min(i.len,c-s);l(e,t,-1),l(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),s+=t}}return{changes:new c(e,n),filtered:new a(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n,this.inserted[e>>1].toJSON()])}return t}static of(t,e,n){let i=[],s=[],a=0,h=null;function f(t=!1){if(!t&&!i.length)return;a<e&&l(i,e-a,-1);let n=new c(i,s);h=h?h.compose(n.map(h)):n,i=[],s=[],a=0}function d(t){if(Array.isArray(t))for(let e of t)d(e);else if(t instanceof c){if(t.length!=e)throw new RangeError(`Mismatched change set length (got ${t.length}, expected ${e})`);f(),h=h?h.compose(t.map(h)):t}else{let{from:c,to:h=c,insert:d}=t;if(c>h||c<0||h>e)throw new RangeError(`Invalid change range ${c} to ${h} (in doc of length ${e})`);let p=d?"string"==typeof d?r["a"].of(d.split(n||o)):d:r["a"].empty,m=p.length;if(c==h&&0==m)return;c<a&&f(),c>a&&l(i,c-a,-1),l(i,h-c,m),u(s,i,p),a=h}}return d(t),f(!h),h}static empty(t){return new c(t?[t,-1]:[],[])}static fromJSON(t){let e=[],n=[];for(let i=0;i<t.length;i++){let o=t[i];if("number"==typeof o)e.push(o,-1);else if(1==o.length)e.push(o[0],0);else{while(n.length<i-1)n.push(r["a"].empty);n[i]=r["a"].of(o[1]),e.push(o[0],n[i].length)}}return new c(e,n)}}function l(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function u(t,e,n){if(0==n.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{while(t.length<i)t.push(r["a"].empty);t.push(n)}}function h(t,e,n){let i=t.inserted;for(let o=0,s=0,a=0;a<t.sections.length;){let c=t.sections[a++],l=t.sections[a++];if(l<0)o+=c,s+=c;else{let u=o,h=s,f=r["a"].empty;for(;;){if(u+=c,h+=l,l&&i&&(f=f.append(i[a-2>>1])),n||a==t.sections.length||t.sections[a+1]<0)break;c=t.sections[a++],l=t.sections[a++]}e(o,u,s,h,f),o=u,s=h}}}function f(t,e,n,r=!1){let i=[],o=r?[]:null,s=new p(t),h=new p(e);for(let f=0,d=0;;)if(-1==s.ins)f+=s.len,s.next();else if(-1==h.ins&&d<f){let t=Math.min(h.len,f-d);h.forward(t),l(i,t,-1),d+=t}else if(h.ins>=0&&(s.done||d<f||d==f&&(h.len<s.len||h.len==s.len&&!n))){l(i,h.ins,-1);while(f>d&&!s.done&&f+s.len<d+h.len)f+=s.len,s.next();d+=h.len,h.next()}else{if(!(s.ins>=0)){if(s.done&&h.done)return o?new c(i,o):new a(i);throw new Error("Mismatched change set lengths")}{let t=0,e=f+s.len;for(;;)if(h.ins>=0&&d>f&&d+h.len<e)t+=h.ins,d+=h.len,h.next();else{if(!(-1==h.ins&&d<e))break;{let n=Math.min(h.len,e-d);t+=n,h.forward(n),d+=n}}l(i,t,s.ins),o&&u(o,i,s.text),f=e,s.next()}}}function d(t,e,n=!1){let r=[],i=n?[]:null,o=new p(t),s=new p(e);for(let h=!1;;){if(o.done&&s.done)return i?new c(r,i):new a(r);if(0==o.ins)l(r,o.len,0,h),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(o.len2,s.len),e=r.length;if(-1==o.ins){let e=-1==s.ins?-1:s.off?0:s.ins;l(r,t,e,h),i&&e&&u(i,r,s.text)}else-1==s.ins?(l(r,o.off?0:o.len,t,h),i&&u(i,r,o.textBit(t))):(l(r,o.off?0:o.len,s.off?0:s.ins,h),i&&!s.off&&u(i,r,s.text));h=(o.ins>t||s.ins>=0&&s.len>t)&&(h||r.length>e),o.forward2(t),s.forward(t)}}else l(r,0,s.ins,h),i&&u(i,r,s.text),s.next()}}class p{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?r["a"].empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?r["a"].empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class m{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t){let e=t.mapPos(this.from),n=t.mapPos(this.to);return e==this.from&&n==this.to?this:new m(e,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return g.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return g.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return g.range(t.anchor,t.head)}}class g{constructor(t,e=0){this.ranges=t,this.primaryIndex=e}map(t){return t.empty?this:g.create(this.ranges.map(e=>e.map(t)),this.primaryIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.primaryIndex!=t.primaryIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get primary(){return this.ranges[this.primaryIndex]}asSingle(){return 1==this.ranges.length?this:new g([this.primary])}addRange(t,e=!0){return g.create([t].concat(this.ranges),e?0:this.primaryIndex+1)}replaceRange(t,e=this.primaryIndex){let n=this.ranges.slice();return n[e]=t,g.create(n,this.primaryIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),primaryIndex:this.primaryIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.primaryIndex||t.primaryIndex>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new g(t.ranges.map(t=>m.fromJSON(t)),t.primaryIndex)}static single(t,e=t){return new g([g.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return v(t.slice(),e);n=i.to}return new g(t,e)}static cursor(t,e=0,n,r){return new m(t,t,(0==e?0:e<0?4:8)|(null==n?3:Math.min(2,n))|(null!==r&&void 0!==r?r:33554431)<<5)}static range(t,e,n){let r=(null!==n&&void 0!==n?n:33554431)<<5;return e<t?new m(e,t,16|r):new m(t,e,r)}}function v(t,e=0){let n=t[e];t.sort((t,e)=>t.from-e.from),e=t.indexOf(n);for(let r=1;r<t.length;r++){let n=t[r],i=t[r-1];if(n.empty?n.from<=i.to:n.from<i.to){let o=i.from,s=Math.max(n.to,i.to);r<=e&&e--,t.splice(--r,2,n.anchor>n.head?g.range(s,o):g.range(o,s))}}return new g(t,e)}function y(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let b=0;class w{constructor(t,e,n,r){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=b++,this.default=t([])}static define(t={}){return new w(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:x),!!t.static)}of(t){return new S([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new S(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new S(t,this,2,e)}from(t,e){return n=>T(e,this.compute([n],e=>t(e.field(n))))}nFrom(t,e){return n=>T(e,this.computeN([n],e=>t(e.field(n))))}}function x(t,e){return t==e||t.length==e.length&&t.every((t,n)=>t===e[n])}class S{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=b++}dynamicSlot(t){let e=this.value,n=this.facet.compareInput,r=t[this.id]>>1,i=2==this.type,o=!1,s=!1,a=[];for(let c of this.dependencies)"doc"==c?o=!0:"selection"==c?s=!0:0==(1&t[c.id])&&a.push(t[c.id]);return(t,c)=>{if(!c||c.reconfigure)return t.values[r]=e(t),1;{let l=o&&c.docChanged||s&&(c.docChanged||c.selection)||a.some(e=>(1&I(t,e))>0);if(!l)return 0;let u=e(t),h=c.startState.values[r];return(i?A(u,h,n):n(u,h))?0:(t.values[r]=u,1)}}}}function A(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function k(t,e,n){let r=n.map(e=>t[e.id]),i=n.map(t=>t.type),o=r.filter(t=>!(1&t)),s=t[e.id]>>1;return(t,n)=>{let a=n?n.reconfigure?n.startState.config.address[e.id]:s<<1:null,c=null==a;for(let e of o)1&I(t,e)&&(c=!0);if(!c)return 0;let l=[];for(let e=0;e<r.length;e++){let n=j(t,r[e]);if(2==i[e])for(let t of n)l.push(t);else l.push(n)}let u=e.combine(l);return null!=a&&e.compare(u,j(n.startState,a))?0:(t.values[s]=u,1)}}function C(t,e){let n=t.config.address[e];return null==n?null:n>>1}class O{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.facets=i}static define(t){let e=[],n=new O(b++,t.create,t.update,t.compare||((t,e)=>t===e),e);if(t.provide)for(let r of t.provide)r instanceof w?e.push(r.compute([n],t=>t.field(n))):e.push(r(n));return n}slot(t){let e=t[this.id]>>1;return(t,n)=>{if(!n)return t.values[e]=this.createF(t),1;let r,i=0;if(n.reconfigure){let t=C(n.startState,this.id);r=null==t?this.createF(n.startState):n.startState.values[t],i=1}else r=n.startState.values[e];let o=this.updateF(r,n);return i||this.compareF(r,o)||(i=1),i&&(t.values[e]=o),i}}}const M={fallback:3,default:2,extend:1,override:0};function E(t,e){if(!M.hasOwnProperty(e))throw new RangeError("Invalid precedence: "+e);return new _(t,M[e])}function T(t,e){return t?E(e,t):e}class _{constructor(t,e){this.e=t,this.prec=e}}class N{constructor(t,e){this.tag=t,this.extension=e}}class R{constructor(t,e,n,r,i){this.source=t,this.replacements=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.statusTemplate=[];while(this.statusTemplate.length<i.length)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e=Object.create(null),n){let r=[],i=Object.create(null);for(let c of P(t,e))c instanceof O?r.push(c):(i[c.facet.id]||(i[c.facet.id]=[])).push(c);let o=Object.create(null),s=[],a=[];for(let c of r)o[c.id]=a.length<<1,a.push(t=>c.slot(t));for(let c in i){let t=i[c],e=t[0].facet;if(t.every(t=>0==t.type)){o[e.id]=s.length<<1|1;let r=e.combine(t.map(t=>t.value)),i=n?n.config.address[e.id]:null;if(null!=i){let t=j(n,i);e.compare(r,t)&&(r=t)}s.push(r)}else{for(let e of t)0==e.type?(o[e.id]=s.length<<1|1,s.push(e.value)):(o[e.id]=a.length<<1,a.push(t=>e.dynamicSlot(t)));o[e.id]=a.length<<1,a.push(n=>k(n,e,t))}}return new R(t,e,a.map(t=>t(o)),o,s)}}function D(t){return(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]).concat(Object.keys(t))}function P(t,e){let n=[[],[],[],[]],r=new Map,i=Object.create(null);function o(t,s){let a=r.get(t);if(null!=a){if(a>=s)return;let e=n[a].indexOf(t);e>-1&&n[a].splice(e,1)}if(r.set(t,s),Array.isArray(t))for(let e of t)o(e,s);else if(t instanceof N){if(t.tag in i)throw new RangeError(`Duplicate use of tag '${String(t.tag)}' in extensions`);i[t.tag]=!0,o(e[t.tag]||t.extension,s)}else t.extension?o(t.extension,s):t instanceof _?o(t.e,t.prec):(n[s].push(t),t instanceof O&&o(t.facets,s))}o(t,M.default);for(let s of D(e))!(s in i)&&"full"!=s&&e[s]&&(i[s]=!0,o(e[s],M.default));return n.reduce((t,e)=>t.concat(e))}function I(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.config.dynamicSlots[n](t,t.applying);return t.status[n]=2|i}function j(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const $=w.define({combine:t=>t.some(t=>t),static:!0}),L=w.define({combine:t=>t.length?t[0]:void 0,static:!0}),B=w.define(),F=w.define(),V=(new i["a"],w.define());class z{constructor(t,e={}){this.state=t,this.options=e}get unit(){return this.state.indentUnit}textAfterPos(t){var e,n;let r=null===(e=this.options)||void 0===e?void 0:e.simulateBreak;return t==r&&(null===(n=this.options)||void 0===n?void 0:n.simulateDoubleBreak)?"":this.state.sliceDoc(t,Math.min(t+100,null!=r&&r>t?r:1e9,this.state.doc.lineAt(t).to))}countColumn(t,e){return Object(r["d"])(e<0?t:t.slice(0,e),0,this.state.tabSize)}lineIndent(t){var e;let n=null===(e=this.options)||void 0===e?void 0:e.overrideIndentation;if(n){let e=n(t.from);if(e>-1)return e}let r=t.slice(0,Math.min(100,t.length));return this.countColumn(r,r.search(/\S/))}column(t){var e;let n=this.state.doc.lineAt(t),r=n.slice(0,t-n.from),i=this.countColumn(r,t-n.from),o=(null===(e=this.options)||void 0===e?void 0:e.overrideIndentation)?this.options.overrideIndentation(n.from):-1;return o>-1&&(i+=o-this.countColumn(r,r.search(/\S/))),i}}class H{constructor(t,e){this.type=t,this.value=e}static define(){return new U}}class U{of(t){return new H(this,t)}}class W{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new W(this.type,e)}is(t){return this.type==t}static define(t={}){return new q(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}class q{constructor(t){this.map=t}of(t){return new W(this,t)}}class J{constructor(t,e,n,r,i,o,s){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.reconfigure=o,this.scrollIntoView=s,this._doc=null,this._state=null,n&&y(n,e.newLength),i.some(t=>t.type==J.time)||(this.annotations=i.concat(J.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}}function K(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else{if(!(i<e.length))return n;o=e[i++],s=e[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function G(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=c.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:W.mapEffects(t.effects,i).concat(W.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView,reconfigure:e.reconfigure?e.reconfigure.full||!t.reconfigure?e.reconfigure:Object.assign({},t.reconfigure,e.reconfigure):t.reconfigure}}function Y(t,e,n){let r=e.reconfigure;if(r&&r.append){r=Object.assign({},r);let t="undefined"==typeof Symbol?"__append"+Math.floor(4294967295*Math.random()):Symbol("appendConf");r[t]=r.append,r.append=void 0}let i=e.selection;return{changes:e.changes instanceof c?e.changes:c.of(e.changes||[],n,t.facet(L)),selection:i&&(i instanceof g?i:g.single(i.anchor,i.head)),effects:e.effects?Array.isArray(e.effects)?e.effects:[e.effects]:Q,annotations:e.annotations?Array.isArray(e.annotations)?e.annotations:[e.annotations]:Q,scrollIntoView:!!e.scrollIntoView,reconfigure:r}}function X(t,e,n){let r=Y(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let o=1;o<e.length;o++){!1===e[o].filter&&(n=!1);let i=!!e[o].sequential;r=G(r,Y(t,e[o],i?r.changes.newLength:t.doc.length),i)}let i=new J(t,r.changes,r.selection,r.effects,r.annotations,r.reconfigure,r.scrollIntoView);return n?Z(i):i}function Z(t){let e=t.startState,n=!0;for(let i of e.facet(B)){let e=i(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:K(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=c.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.invertedDesc}t=new J(e,r,t.selection&&t.selection.map(i),W.mapEffects(t.effects,i),t.annotations,t.reconfigure,t.scrollIntoView)}let r=e.facet(F);for(let i=r.length-1;i>=0;i--){let n=r[i](t);t=n instanceof J?n:Array.isArray(n)&&1==n.length&&n[0]instanceof J?n[0]:X(e,Array.isArray(n)?n:[n],!1)}return t}J.time=H.define(),J.userEvent=H.define(),J.addToHistory=H.define();const Q=[];var tt;(function(t){t[t["Word"]=0]="Word",t[t["Space"]=1]="Space",t[t["Other"]=2]="Other"})(tt||(tt={}));const et=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let nt;try{nt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(at){}function rt(t){if(nt)return nt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||et.test(n)))return!0}return!1}function it(t){return e=>{if(!/\S/.test(e))return tt.Space;if(rt(e))return tt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return tt.Word;return tt.Other}}class ot{constructor(t,e,n,r=null){if(this.config=t,this.doc=e,this.selection=n,this.applying=null,this.status=t.statusTemplate.slice(),r&&!r.reconfigure)this.values=r.startState.values.slice();else if(this.values=t.dynamicSlots.map(t=>null),r)for(let i in t.address){let e=t.address[i],n=r.startState.config.address[i];null!=n&&0==(1&e)&&(this.values[e>>1]=j(r.startState,n))}this.applying=r,r&&(r._state=this);for(let i=0;i<this.config.dynamicSlots.length;i++)I(this,i<<1);this.applying=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return I(this,n),j(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return X(this,t,!0)}applyTransaction(t){let e=this.config;t.reconfigure&&(e=R.resolve(t.reconfigure.full||e.source,Object.assign(e.replacements,t.reconfigure,{full:void 0}),this)),new ot(e,t.newDoc,t.newSelection,t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:g.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range];for(let o=1;o<e.ranges.length;o++){let n=t(e.ranges[o]),s=this.changes(n.changes),a=s.map(r);for(let t=0;t<o;t++)i[t]=i[t].map(a);i.push(n.range.map(r.mapDesc(s,!0))),r=r.compose(a)}return{changes:r,selection:g.create(i,e.primaryIndex)}}changes(t=[]){return t instanceof c?t:c.of(t,this.doc.length,this.facet(ot.lineSeparator))}toText(t){return r["a"].of(t.split(this.facet(ot.lineSeparator)||o))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(I(this,e),j(this,e))}toJSON(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}}static fromJSON(t,e={}){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");return ot.create({doc:t.doc,selection:g.fromJSON(t.selection),extensions:e.extensions})}static create(t={}){let e=R.resolve(t.extensions||[]),n=t.doc instanceof r["a"]?t.doc:r["a"].of((t.doc||"").split(e.staticFacet(ot.lineSeparator)||o)),i=t.selection?t.selection instanceof g?t.selection:g.single(t.selection.anchor,t.selection.head):g.single(0);return y(i,n.length),e.staticFacet($)||(i=i.asSingle()),new ot(e,n,i)}get tabSize(){return this.facet(ot.tabSize)}get lineBreak(){return this.facet(ot.lineSeparator)||"\n"}get indentUnit(){let t=this.facet(ot.indentUnit);return 9==t.charCodeAt(0)?this.tabSize*t.length:t.length}indentString(t){let e="";if(9==this.facet(ot.indentUnit).charCodeAt(0))while(t>=this.tabSize)e+="\t",t-=this.tabSize;for(let n=0;n<t;n++)e+=" ";return e}phrase(t){for(let e of this.facet(ot.phrases))if(Object.prototype.hasOwnProperty.call(e,t))return e[t];return t}charCategorizer(t){return it(this.languageDataAt("wordChars",t).join(""))}get tree(){let t=this.facet(ot.syntax);return t.length?t[0].getTree(this):i["b"].empty}languageDataAt(t,e){let n=[],r=this.facet(ot.syntax);for(let i=r.length?0:1;i<2;i++){let o=this.facet(i?V:r[0].languageDataFacetAt(this,e));for(let e of o)Object.prototype.hasOwnProperty.call(e,t)&&n.push(e[t])}return n}}function st(t,e,n={}){let r={};for(let i of t)for(let t of Object.keys(i)){let e=i[t],o=r[t];if(void 0===o)r[t]=e;else if(o===e||void 0===e);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](o,e)}}for(let i in e)void 0===r[i]&&(r[i]=e[i]);return r}ot.allowMultipleSelections=$,ot.indentation=w.define(),ot.tabSize=w.define({combine:t=>t.length?t[0]:4}),ot.lineSeparator=L,ot.indentUnit=w.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}}),ot.phrases=w.define(),ot.syntax=w.define(),ot.globalLanguageData=V,ot.foldable=w.define(),ot.changeFilter=B,ot.transactionFilter=F},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),o=n("e538"),s=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a77":function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},"7aac":function(t,e,n){"use strict";var r=n("c532");t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7ae1":function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return p}));let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let N=1;N<r.length;N++)r[N]+=r[N-1];function i(t){for(let e=1;e<r.length;e+=2)if(r[e]>t)return r[e-1]<=t;return!1}function o(t){return t>=127462&&t<=127487}const s=8205;function a(t,e){if(e==t.length)return e;e&&l(t.charCodeAt(e))&&u(t.charCodeAt(e-1))&&e--;let n=h(t,e);e+=f(n);while(e<t.length){let r=h(t,e);if(n==s||r==s||i(r))e+=f(r),n=r;else{if(!o(r))break;{let n=0,r=e-2;while(r>=0&&o(h(t,r)))n++,r-=2;if(n%2==0)break;e+=2}}}return e}function c(t,e){while(e>0){let n=a(t,e-2);if(n<e)return n;e--}return 0}function l(t){return t>=56320&&t<57344}function u(t){return t>=55296&&t<56320}function h(t,e){let n=t.charCodeAt(e);if(!u(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return l(r)?r-56320+(n-55296<<10)+65536:n}function f(t){return t<65536?1:2}function d(t,e,n){for(let r=0;r<t.length;)9==t.charCodeAt(r)?(e+=n-e%n,r++):(e++,r=a(t,r));return e}function p(t,e,n,r){for(let i=0;i<t.length;){if(e>=n)return{offset:i,leftOver:0};e+=9==t.charCodeAt(i)?r-e%r:1,i=a(t,i)}return{offset:t.length,leftOver:n-e}}class m{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);for(let e of g)if(e.doc==this&&e.from<=t&&e.to>=t)return e;return b(this.lineInner(t,!1,1,0).finish(this))}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);for(let e of g)if(e.doc==this&&e.number==t)return e;return b(this.lineInner(t,!0,1,0).finish(this))}replace(t,e,n){let r=[];return this.decompose(0,t,r),r.push(n),this.decompose(e,this.length,r),x.from(r,this.length-(e-t)+n.length)}append(t){return 0==this.length?t:0==t.length?this:x.from([this,t],this.length+t.length)}slice(t,e=this.length){let n=[];return this.decompose(t,e,n),x.from(n,e-t)}eq(t){return this==t||C(this,t)}iter(t=1){return new O(this,t)}iterRange(t,e=this.length){return new M(this,t,e)}iterLines(t=0){return new E(this,t)}toString(){return this.sliceString(0)}toJSON(){let t=[];for(let e=this.iterLines();!e.next().done;)t.push(e.value);return t}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");if(1==t.length&&!t[0]&&m.empty)return m.empty;let e=S(t);return e<1024?new w(t,e):x.from(w.split(t,[]),e)}}"undefined"!=typeof Symbol&&(m.prototype[Symbol.iterator]=function(){return this.iter()});let g=[],v=-1,y=10;function b(t){return g[v=(v+1)%y]=t}class w extends m{constructor(t,e=S(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((e?n:s)>=t)return new T(r,s,n,o);r=s+1,n++}}decompose(t,e,n){n.push(new w(k(this.text,t,e),Math.min(e,this.length)-Math.max(0,t)))}lastLineLength(){return this.text[this.text.length-1].length}firstLineLength(){return this.text[0].length}replace(t,e,n){let r=this.length+n.length-(e-t);return r>=1024||!(n instanceof w)?super.replace(t,e,n):new w(A(this.text,A(n.text,k(this.text,0,t)),e),r)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,o=0;i<=e&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>t&&o&&(r+=n),t<a&&e>i&&(r+=s.slice(Math.max(0,t-i),e-i)),i=a+1}return r}flatten(t){t[t.length-1]+=this.text[0];for(let e=1;e<this.text.length;e++)t.push(this.text[e])}static split(t,e){let n=[],r=-1;for(let i of t)for(;;){let t=r+i.length+1;if(t<512){r=t,n.push(i);break}let o=512-r-1,s=i.charCodeAt(o);s>=56320&&s<57344&&o++,n.push(i.slice(0,o)),e.push(new w(n,512)),i=i.slice(o),r=-1,n=[]}return-1!=r&&e.push(new w(n,r)),e}}class x extends m{constructor(t,e){super(),this.children=t,this.length=e,this.lines=1;for(let n of t)this.lines+=n.lines-1}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,a=n+o.lines-1;if((e?a:s)>=t){let a,c=o.lineInner(t,e,n,r);return c.from==r&&(a=this.lineLengthTo(i))&&(c.from-=a,c.content=null),c.to==s&&(a=this.lineLengthFrom(i+1))&&(c.to+=a,c.content=null),c}r=s,n=a}}decompose(t,e,n){for(let r=0,i=0;i<e&&r<this.children.length;r++){let o=this.children[r],s=i+o.length;t<s&&e>i&&(i>=t&&s<=e?n.push(o):o.decompose(t-i,e-i,n)),i=s}}lineLengthTo(t){let e=0;for(let n=t-1;n>=0;n--){let t=this.children[n];if(t.lines>1)return e+t.lastLineLength();e+=t.length}return e}lastLineLength(){return this.lineLengthTo(this.children.length)}lineLengthFrom(t){let e=0;for(let n=t;n<this.children.length;n++){let t=this.children[n];if(t.lines>1)return e+t.firstLineLength();e+=t.length}return e}firstLineLength(){return this.lineLengthFrom(0)}replace(t,e,n){if(n.length<512&&e-t<512){let r=n.length-(e-t);for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t>=o&&e<=a&&s.length+r<this.length+r>>2&&s.length+r>0){let a=this.children.slice();return a[i]=s.replace(t-o,e-o,n),new x(a,this.length+r)}o=a}}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,o=0;o<e&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t<a&&e>o){let i=s.sliceString(t-o,e-o,n);if(t>=o&&e<=a)return i;r+=i}o=a}return r}flatten(t){for(let e of this.children)e.flatten(t)}static from(t,e){if(!t.every(t=>t instanceof m))throw new Error("NOP");if(e<1024){let n=[""];for(let e of t)e.flatten(n);return new w(n,e)}let n=Math.max(512,e>>3),r=n<<1,i=n>>1,o=[],s=0,a=[];function c(t){let e,u=t.length;if(u)if(u>r&&t instanceof x)for(let n of t.children)c(n);else u>i&&(s>i||0==s)?(l(),o.push(t)):t instanceof w&&s>0&&(e=a[a.length-1])instanceof w&&t.length+e.length<=512?(s+=u,a[a.length-1]=new w(A(t.text,e.text.slice()),t.length+e.length)):(s+u>n&&l(),s+=u,a.push(t))}function l(){0!=s&&(o.push(1==a.length?a[0]:x.from(a,s)),s=0,a.length=0)}for(let u of t)c(u);return l(),1==o.length?o[0]:new x(o,e)}}function S(t){let e=-1;for(let n of t)e+=n.length+1;return e}function A(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],c=i+a.length;c>=n&&(c>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=c+1}return e}function k(t,e,n){return A(t,[""],e,n)}function C(t,e){if(t.length!=e.length||t.lines!=e.lines)return!1;let n=new O(t),r=new O(e);for(let i=0,o=0;;){if(n.lineBreak!=r.lineBreak||n.done!=r.done)return!1;if(n.done)return!0;if(n.lineBreak)n.next(),r.next(),i=o=0;else{let t=n.value.slice(i),e=r.value.slice(o);if(t.length==e.length){if(t!=e)return!1;n.next(),r.next(),i=o=0}else if(t.length>e.length){if(t.slice(0,e.length)!=e)return!1;i+=e.length,r.next(),o=0}else{if(e.slice(0,t.length)!=t)return!1;o+=t.length,n.next(),i=0}}}}m.empty=m.of([""]);class O{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?0:t instanceof w?t.text.length:t.children.length]}next(t=0){for(;;){let e=this.nodes.length-1;if(e<0)return this.done=!0,this.value="",this.lineBreak=!1,this;let n=this.nodes[e],r=this.offsets[e];if(n instanceof w){if(r!=(this.dir>0?0:n.text.length)&&!this.lineBreak){if(this.lineBreak=!0,0==t)return this.value="\n",this;t--;continue}let i=n.text[r-(this.dir<0?1:0)];if(this.offsets[e]=r+=this.dir,r==(this.dir>0?n.text.length:0)&&(this.nodes.pop(),this.offsets.pop()),this.lineBreak=!1,i.length>Math.max(0,t))return this.value=0==t?i:this.dir>0?i.slice(t):i.slice(0,i.length-t),this;t-=i.length}else if(r==(this.dir>0?n.children.length:0))this.nodes.pop(),this.offsets.pop();else{let i=n.children[this.dir>0?r:r-1],o=i.length;this.offsets[e]=r+this.dir,t>o?t-=o:(this.nodes.push(i),this.offsets.push(this.dir>0?0:i instanceof w?i.text.length:i.children.length))}}}}class M{constructor(t,e,n){this.value="",this.cursor=new O(t,e>n?-1:1),e>n?(this.skip=t.length-e,this.limit=e-n):(this.skip=e,this.limit=n-e)}next(){if(this.limit<=0)this.limit=-1;else{let{value:t,lineBreak:e,done:n}=this.cursor.next(this.skip);this.skip=0,this.value=t;let r=e?1:t.length;r>this.limit&&(this.value=this.cursor.dir>0?t.slice(0,this.limit):t.slice(r-this.limit)),n||0==this.value.length?this.limit=-1:this.limit-=this.value.length}return this}get lineBreak(){return this.cursor.lineBreak}get done(){return this.limit<0}}class E{constructor(t,e=0){this.value="",this.done=!1,this.cursor=t.iter(),this.skip=e}next(){if(this.cursor.done)return this.done=!0,this.value="",this;for(this.value="";;){let{value:t,lineBreak:e,done:n}=this.cursor.next(this.skip);if(this.skip=0,n||e)return this;this.value+=t}}get lineBreak(){return!1}}class T{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.content=r}get length(){return this.to-this.from}slice(t=0,e=this.length){if(t==e)return"";if("string"==typeof this.content)return this.content.slice(t,e);this.content||(this.content=new _(this.doc,this.from));let n=this.content.slice(t,e);return 0==t&&e==this.length&&(this.content=n),n}finish(t){return this.doc=t,this}findClusterBreak(t,e){if(t<0||t>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");let n,r;return"string"==this.content?(n=this.from,r=this.content):(n=Math.max(0,t-256),r=this.slice(n,Math.min(this.length,n+512))),(e?a:c)(r,t-n)+n}}class _{constructor(t,e){this.doc=t,this.start=e,this.cursor=null,this.strings=null}slice(t,e){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(let n="",r=0,i=0;;i++){if(i==this.strings.length){let t=this.cursor.next().value;if(!t)return n;this.strings.push(t)}let o=this.strings[i],s=r;if(r+=o.length,!(r<=t)&&(n+=o.slice(Math.max(0,t-s),Math.min(o.length,e-s)),r>=e))return n}}}},"7b0b":function(t,e,n){var r=n("1d80");t.exports=function(t){return Object(r(t))}},"7c73":function(t,e,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),l=n("cc12"),u=n("f772"),h=">",f="<",d="prototype",p="script",m=u("IE_PROTO"),g=function(){},v=function(t){return f+p+h+t+f+"/"+p+h},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=l("iframe"),n="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},w=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}w=r?y(r):b();var t=s.length;while(t--)delete w[d][s[t]];return w()};a[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[d]=i(t),n=new g,g[d]=null,n[m]=t):n=w(),void 0===e?n:o(n,e)}},"7dd0":function(t,e,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),c=n("9112"),l=n("6eeb"),u=n("b622"),h=n("c430"),f=n("3f8c"),d=n("ae93"),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v="keys",y="values",b="entries",w=function(){return this};t.exports=function(t,e,n,u,d,x,S){i(n,e,u);var A,k,C,O=function(t){if(t===d&&N)return N;if(!m&&t in T)return T[t];switch(t){case v:return function(){return new n(this,t)};case y:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this)}},M=e+" Iterator",E=!1,T=t.prototype,_=T[g]||T["@@iterator"]||d&&T[d],N=!m&&_||O(d),R="Array"==e&&T.entries||_;if(R&&(A=o(R.call(new t)),p!==Object.prototype&&A.next&&(h||o(A)===p||(s?s(A,p):"function"!=typeof A[g]&&c(A,g,w)),a(A,M,!0,!0),h&&(f[M]=w))),d==y&&_&&_.name!==y&&(E=!0,N=function(){return _.call(this)}),h&&!S||T[g]===N||c(T,g,N),f[e]=N,d)if(k={values:O(y),keys:x?N:O(v),entries:O(b)},S)for(C in k)(m||E||!(C in T))&&l(T,C,k[C]);else r({target:e,proto:!0,forced:m||E},k);return k}},"7f06":function(t,e,n){"use strict";n.r(e),n.d(e,"keydownHandler",(function(){return u})),n.d(e,"keymap",(function(){return l}));var r=n("9ea7"),i=n("5313"),o="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function s(t){var e,n,r,i,s=t.split(/-(?!$)/),a=s[s.length-1];"Space"==a&&(a=" ");for(var c=0;c<s.length-1;c++){var l=s[c];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);o?i=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),i&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function a(t){var e=Object.create(null);for(var n in t)e[s(n)]=t[n];return e}function c(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function l(t){return new i["Plugin"]({props:{handleKeyDown:u(t)}})}function u(t){var e=a(t);return function(t,n){var i,o=Object(r["b"])(n),s=1==o.length&&" "!=o,a=e[c(o,n,!s)];if(a&&a(t.state,t.dispatch,t))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=r["a"][n.keyCode])&&i!=o){var l=e[c(i,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}else if(s&&n.shiftKey){var u=e[c(o,n,!0)];if(u&&u(t.state,t.dispatch,t))return!0}return!1}}},"7f9a":function(t,e,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(t,e,n){"use strict";var r=n("d925"),i=n("e683");t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},8418:function(t,e,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8726:function(t,e,n){"use strict";n.r(e),n.d(e,"HistoryState",(function(){return m})),n.d(e,"closeHistory",(function(){return C})),n.d(e,"history",(function(){return E})),n.d(e,"redo",(function(){return _})),n.d(e,"redoDepth",(function(){return R})),n.d(e,"undo",(function(){return T})),n.d(e,"undoDepth",(function(){return N}));var r=200,i=function(){};i.prototype.append=function(t){return t.length?(t=i.from(t),!this.length&&t||t.length<r&&this.leafAppend(t)||this.length<r&&t.leafPrepend(this)||this.appendInner(t)):this},i.prototype.prepend=function(t){return t.length?i.from(t).append(this):this},i.prototype.appendInner=function(t){return new s(this,t)},i.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?i.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},i.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},i.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},i.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},i.from=function(t){return t instanceof i?t:t&&t.length?new o(t):i.empty};var o=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=r)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=r)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(i);i.empty=new o([]);var s=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(i),a=i,c=a,l=n("0ac0"),u=n("5313"),h=500,f=function(t,e){this.items=t,this.eventCount=e};function d(t,e){var n;return t.forEach((function(t,r){if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}f.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,i,o=this.items.length;;o--){var s=this.items.get(o-1);if(s.selection){--o;break}}e&&(r=this.remapping(o,this.items.length),i=r.maps.length);var a,c,l=t.tr,u=[],h=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(o,e+1),i=r.maps.length),i--,void h.push(t);if(r){h.push(new p(t.map));var s,d=t.step.map(r.slice(i));d&&l.maybeStep(d).doc&&(s=l.mapping.maps[l.mapping.maps.length-1],u.push(new p(s,null,null,u.length+h.length))),i--,s&&r.appendMap(s,i)}else l.maybeStep(t.step);return t.selection?(a=r?t.selection.map(r.slice(i)):t.selection,c=new f(n.items.slice(0,o).append(h.reverse().concat(u)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:c,transform:l,selection:a}},f.prototype.addTransform=function(t,e,n,r){for(var i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,c=0;c<t.steps.length;c++){var l=t.steps[c].invert(t.docs[c]),u=new p(t.mapping.maps[c],l,e),h=void 0;(h=a&&a.merge(u))&&(u=h,c?i.pop():s=s.slice(0,s.length-1)),i.push(u),e&&(o++,e=null),r||(a=u)}var m=o-n.depth;return m>g&&(s=d(s,m),o-=m),new f(s.append(i),o)},f.prototype.remapping=function(t,e){var n=new l["Mapping"];return this.items.forEach((function(e,r){var i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,i)}),t,e),n},f.prototype.addMaps=function(t){return 0==this.eventCount?this:new f(this.items.append(t.map((function(t){return new p(t)}))),this.eventCount)},f.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=i.getMirror(--a);if(null!=r){o=Math.min(o,r);var c=i.maps[r];if(e.step){var l=t.steps[r].invert(t.docs[r]),u=e.selection&&e.selection.map(i.slice(a+1,r));u&&s++,n.push(new p(c,l,u))}else n.push(new p(c))}}),r);for(var c=[],l=e;l<o;l++)c.push(new p(i.maps[l]));var u=this.items.slice(0,r).append(c).append(n),d=new f(u,s);return d.emptyItemCount()>h&&(d=d.compress(this.items.length-n.length)),d},f.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},f.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach((function(o,s){if(s>=t)r.push(o),o.selection&&i++;else if(o.step){var a=o.step.map(e.slice(n)),c=a&&a.getMap();if(n--,c&&e.appendMap(c,n),a){var l=o.selection&&o.selection.map(e.slice(n));l&&i++;var u,h=new p(c.invert(),a,l),f=r.length-1;(u=r.length&&r[f].merge(h))?r[f]=u:r.push(h)}}else o.map&&n--}),this.items.length,0),new f(c.from(r.reverse()),i)},f.empty=new f(c.empty,0);var p=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};p.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new p(e.getMap().invert(),e,this.selection)}};var m=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},g=20;function v(t,e,n,r){var i,o=n.getMeta(O);if(o)return o.historyState;n.getMeta(M)&&(t=new m(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(O))return s.getMeta(O).redo?new m(t.done.addTransform(n,null,r,k(e)),t.undone,b(n.mapping.maps[n.steps.length-1]),t.prevTime):new m(t.done,t.undone.addTransform(n,null,r,k(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new m(t.done.rebased(n,i),t.undone.rebased(n,i),w(t.prevRanges,n.mapping),t.prevTime):new m(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),w(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!y(n,t.prevRanges)),c=s?w(t.prevRanges,n.mapping):b(n.mapping.maps[n.steps.length-1]);return new m(t.done.addTransform(n,a?e.selection.getBookmark():null,r,k(e)),f.empty,c,n.time)}function y(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}function b(t){var e=[];return t.forEach((function(t,n,r,i){return e.push(r,i)})),e}function w(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function x(t,e,n,r){var i=k(e),o=O.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(s){var a=s.selection.resolve(s.transform.doc),c=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),l=new m(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(O,{redo:r,historyState:l}).scrollIntoView())}}var S=!1,A=null;function k(t){var e=t.plugins;if(A!=e){S=!1,A=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){S=!0;break}}return S}function C(t){return t.setMeta(M,!0)}var O=new u["PluginKey"]("history"),M=new u["PluginKey"]("closeHistory");function E(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new u["Plugin"]({key:O,state:{init:function(){return new m(f.empty,f.empty,null,0)},apply:function(e,n,r){return v(n,r,e,t)}},config:t})}function T(t,e){var n=O.getState(t);return!(!n||0==n.done.eventCount)&&(e&&x(n,t,e,!1),!0)}function _(t,e){var n=O.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&x(n,t,e,!0),!0)}function N(t){var e=O.getState(t);return e?e.done.eventCount:0}function R(t){var e=O.getState(t);return e?e.undone.eventCount:0}},8925:function(t,e,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"8c4f":function(t,e,n){"use strict";
/*!
  * vue-router v3.4.5
  * (c) 2020 Evan You
  * @license MIT
  */function r(t,e){0}function i(t,e){for(var n in e)t[n]=e[n];return t}var o={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,o=e.parent,a=e.data;a.routerView=!0;var c=o.$createElement,l=n.name,u=o.$route,h=o._routerViewCache||(o._routerViewCache={}),f=0,d=!1;while(o&&o._routerRoot!==o){var p=o.$vnode?o.$vnode.data:{};p.routerView&&f++,p.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=f,d){var m=h[l],g=m&&m.component;return g?(m.configProps&&s(g,a,m.route,m.configProps),c(g,a,r)):c()}var v=u.matched[f],y=v&&v.components[l];if(!v||!y)return h[l]=null,c();h[l]={component:y},a.registerRouteInstance=function(t,e){var n=v.instances[l];(e&&n!==t||!e&&n===t)&&(v.instances[l]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){v.instances[l]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==v.instances[l]&&(v.instances[l]=t.componentInstance)};var b=v.props&&v.props[l];return b&&(i(h[l],{route:u,configProps:b}),s(y,a,u,b)),c(y,a,r)}};function s(t,e,n,r){var o=e.props=a(n,r);if(o){o=e.props=i({},o);var s=e.attrs=e.attrs||{};for(var c in o)t.props&&c in t.props||(s[c]=o[c],delete o[c])}}function a(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}var c=/[!'()*]/g,l=function(t){return"%"+t.charCodeAt(0).toString(16)},u=/%2C/g,h=function(t){return encodeURIComponent(t).replace(c,l).replace(u,",")},f=decodeURIComponent;function d(t,e,n){void 0===e&&(e={});var r,i=n||m;try{r=i(t||"")}catch(a){r={}}for(var o in e){var s=e[o];r[o]=Array.isArray(s)?s.map(p):p(s)}return r}var p=function(t){return null==t||"object"===typeof t?t:String(t)};function m(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=f(n.shift()),i=n.length>0?f(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function g(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return h(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(h(e)):r.push(h(e)+"="+h(t)))})),r.join("&")}return h(e)+"="+h(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var v=/\/?$/;function y(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=b(o)}catch(a){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:S(e,i),matched:t?x(t):[]};return n&&(s.redirectedFrom=S(n,i)),Object.freeze(s)}function b(t){if(Array.isArray(t))return t.map(b);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=b(t[n]);return e}return t}var w=y(null,{path:"/"});function x(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function S(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||g;return(n||"/")+o(r)+i}function A(t,e){return e===w?t===e:!!e&&(t.path&&e.path?t.path.replace(v,"")===e.path.replace(v,"")&&t.hash===e.hash&&k(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&k(t.query,e.query)&&k(t.params,e.params)))}function k(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every((function(n){var r=t[n],i=e[n];return null==r||null==i?r===i:"object"===typeof r&&"object"===typeof i?k(r,i):String(r)===String(i)}))}function C(t,e){return 0===t.path.replace(v,"/").indexOf(e.path.replace(v,"/"))&&(!e.hash||t.hash===e.hash)&&O(t.query,e.query)}function O(t,e){for(var n in e)if(!(n in t))return!1;return!0}function M(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?i.pop():"."!==a&&i.push(a)}return""!==i[0]&&i.unshift(""),i.join("/")}function E(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function T(t){return t.replace(/\/\//g,"/")}var _=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},N=Y,R=$,D=L,P=V,I=G,j=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function $(t,e){var n,r=[],i=0,o=0,s="",a=e&&e.delimiter||"/";while(null!=(n=j.exec(t))){var c=n[0],l=n[1],u=n.index;if(s+=t.slice(o,u),o=u+c.length,l)s+=l[1];else{var h=t[o],f=n[2],d=n[3],p=n[4],m=n[5],g=n[6],v=n[7];s&&(r.push(s),s="");var y=null!=f&&null!=h&&h!==f,b="+"===g||"*"===g,w="?"===g||"*"===g,x=n[2]||a,S=p||m;r.push({name:d||i++,prefix:f||"",delimiter:x,optional:w,repeat:b,partial:y,asterisk:!!v,pattern:S?H(S):v?".*":"[^"+z(x)+"]+?"})}}return o<t.length&&(s+=t.substr(o)),s&&r.push(s),r}function L(t,e){return V($(t,e),e)}function B(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function F(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",W(e)));return function(e,r){for(var i="",o=e||{},s=r||{},a=s.pretty?B:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var u,h=o[l.name];if(null==h){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(_(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(u=a(h[f]),!n[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===f?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?F(h):a(h),!n[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');i+=l.prefix+u}}else i+=l}return i}}function z(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function U(t,e){return t.keys=e,t}function W(t){return t&&t.sensitive?"":"i"}function q(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return U(t,e)}function J(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Y(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",W(n));return U(o,e)}function K(t,e,n){return G($(t,n),e,n)}function G(t,e,n){_(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",s=0;s<t.length;s++){var a=t[s];if("string"===typeof a)o+=z(a);else{var c=z(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",o+=l}}var u=z(n.delimiter||"/"),h=o.slice(-u.length)===u;return r||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+u+"|$)",U(new RegExp("^"+o,W(n)),e)}function Y(t,e,n){return _(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?q(t,e):_(t)?J(t,e,n):K(t,e,n)}N.parse=R,N.compile=D,N.tokensToFunction=P,N.tokensToRegExp=I;var X=Object.create(null);function Z(t,e,n){e=e||{};try{var r=X[t]||(X[t]=N.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function Q(t,e,n,r){var o="string"===typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){o=i({},t);var s=o.params;return s&&"object"===typeof s&&(o.params=i({},s)),o}if(!o.path&&o.params&&e){o=i({},o),o._normalized=!0;var a=i(i({},e.params),o.params);if(e.name)o.name=e.name,o.params=a;else if(e.matched.length){var c=e.matched[e.matched.length-1].path;o.path=Z(c,a,"path "+e.path)}else 0;return o}var l=E(o.path||""),u=e&&e.path||"/",h=l.path?M(l.path,u,n||o.append):u,f=d(l.query,o.query,r&&r.options.parseQuery),p=o.hash||l.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:h,query:f,hash:p}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},it={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,o=n.resolve(this.to,r,this.append),s=o.location,a=o.route,c=o.href,l={},u=n.options.linkActiveClass,h=n.options.linkExactActiveClass,f=null==u?"router-link-active":u,d=null==h?"router-link-exact-active":h,p=null==this.activeClass?f:this.activeClass,m=null==this.exactActiveClass?d:this.exactActiveClass,g=a.redirectedFrom?y(null,Q(a.redirectedFrom),null,n):a;l[m]=A(r,g),l[p]=this.exact?l[m]:C(r,g);var v=l[m]?this.ariaCurrentValue:null,b=function(t){ot(t)&&(e.replace?n.replace(s,rt):n.push(s,rt))},w={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){w[t]=b})):w[this.event]=b;var x={class:l},S=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:b,isActive:l[p],isExactActive:l[m]});if(S){if(1===S.length)return S[0];if(S.length>1||!S.length)return 0===S.length?t():t("span",{},S)}if("a"===this.tag)x.on=w,x.attrs={href:c,"aria-current":v};else{var k=st(this.$slots.default);if(k){k.isStatic=!1;var O=k.data=i({},k.data);for(var M in O.on=O.on||{},O.on){var E=O.on[M];M in w&&(O.on[M]=Array.isArray(E)?E:[E])}for(var T in w)T in O.on?O.on[T].push(w[T]):O.on[T]=b;var _=k.data.attrs=i({},k.data.attrs);_.href=c,_["aria-current"]=v}else x.on=w}return t(this.tag,x,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function st(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=st(e.children)))return e}}function at(t){if(!at.installed||tt!==t){at.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",o),t.component("RouterLink",it);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ct="undefined"!==typeof window;function lt(t,e,n,r){var i=e||[],o=n||Object.create(null),s=r||Object.create(null);t.forEach((function(t){ut(i,o,s,t)}));for(var a=0,c=i.length;a<c;a++)"*"===i[a]&&(i.push(i.splice(a,1)[0]),c--,a--);return{pathList:i,pathMap:o,nameMap:s}}function ut(t,e,n,r,i,o){var s=r.path,a=r.name;var c=r.pathToRegexpOptions||{},l=ft(s,i,c.strict);"boolean"===typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var u={path:l,regex:ht(l,c),components:r.components||{default:r.component},instances:{},name:a,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?T(o+"/"+r.path):void 0;ut(t,e,n,r,u,i)})),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==r.alias)for(var h=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<h.length;++f){var d=h[f];0;var p={path:d,children:r.children};ut(t,e,n,p,i,u.path||"/")}a&&(n[a]||(n[a]=u))}function ht(t,e){var n=N(t,[],e);return n}function ft(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:T(e.path+"/"+t)}function dt(t,e){var n=lt(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(t){lt(t,r,i,o)}function a(t,n,s){var a=Q(t,n,!1,e),c=a.name;if(c){var l=o[c];if(!l)return u(null,a);var h=l.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof a.params&&(a.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in a.params)&&h.indexOf(f)>-1&&(a.params[f]=n.params[f]);return a.path=Z(l.path,a.params,'named route "'+c+'"'),u(l,a,s)}if(a.path){a.params={};for(var d=0;d<r.length;d++){var p=r[d],m=i[p];if(pt(m.regex,a.path,a.params))return u(m,a,s)}}return u(null,a)}function c(t,n){var r=t.redirect,i="function"===typeof r?r(y(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return u(null,n);var s=i,c=s.name,l=s.path,h=n.query,f=n.hash,d=n.params;if(h=s.hasOwnProperty("query")?s.query:h,f=s.hasOwnProperty("hash")?s.hash:f,d=s.hasOwnProperty("params")?s.params:d,c){o[c];return a({_normalized:!0,name:c,query:h,hash:f,params:d},void 0,n)}if(l){var p=mt(l,t),m=Z(p,d,'redirect route with path "'+p+'"');return a({_normalized:!0,path:m,query:h,hash:f},void 0,n)}return u(null,n)}function l(t,e,n){var r=Z(n,e.params,'aliased route with path "'+n+'"'),i=a({_normalized:!0,path:r});if(i){var o=i.matched,s=o[o.length-1];return e.params=i.params,u(s,e)}return u(null,e)}function u(t,n,r){return t&&t.redirect?c(t,r||n):t&&t.matchAs?l(t,n,t.matchAs):y(t,n,r,e)}return{match:a,addRoutes:s}}function pt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=t.keys[i-1],a="string"===typeof r[i]?decodeURIComponent(r[i]):r[i];s&&(n[s.name||"pathMatch"]=a)}return!0}function mt(t,e){return M(t,e.parent?e.parent.path:"/",!0)}var gt=ct&&window.performance&&window.performance.now?window.performance:Date;function vt(){return gt.now().toFixed(3)}var yt=vt();function bt(){return yt}function wt(t){return yt=t}var xt=Object.create(null);function St(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=i({},window.history.state);return n.key=bt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",Ct),function(){window.removeEventListener("popstate",Ct)}}function At(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=Ot(),s=i.call(t,e,n,r?o:null);s&&("function"===typeof s.then?s.then((function(t){Dt(t,o)})).catch((function(t){0})):Dt(s,o))}))}}function kt(){var t=bt();t&&(xt[t]={x:window.pageXOffset,y:window.pageYOffset})}function Ct(t){kt(),t.state&&t.state.key&&wt(t.state.key)}function Ot(){var t=bt();if(t)return xt[t]}function Mt(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function Et(t){return Nt(t.x)||Nt(t.y)}function Tt(t){return{x:Nt(t.x)?t.x:window.pageXOffset,y:Nt(t.y)?t.y:window.pageYOffset}}function _t(t){return{x:Nt(t.x)?t.x:0,y:Nt(t.y)?t.y:0}}function Nt(t){return"number"===typeof t}var Rt=/^#\d/;function Dt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=Rt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=_t(i),e=Mt(r,i)}else Et(t)&&(e=Tt(t))}else n&&Et(t)&&(e=Tt(t));e&&window.scrollTo(e.x,e.y)}var Pt=ct&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function It(t,e){kt();var n=window.history;try{if(e){var r=i({},n.state);r.key=bt(),n.replaceState(r,"",t)}else n.pushState({key:wt(vt())},"",t)}catch(o){window.location[e?"replace":"assign"](t)}}function jt(t){It(t,!0)}function $t(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}var Lt={redirected:2,aborted:4,cancelled:8,duplicated:16};function Bt(t,e){return Ht(t,e,Lt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Wt(e)+'" via a navigation guard.')}function Ft(t,e){var n=Ht(t,e,Lt.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function Vt(t,e){return Ht(t,e,Lt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function zt(t,e){return Ht(t,e,Lt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ht(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var Ut=["params","query","hash"];function Wt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return Ut.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}function qt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Jt(t,e){return qt(t)&&t._isRouter&&(null==e||t.type===e)}function Kt(t){return function(e,n,r){var i=!1,o=0,s=null;Gt(t,(function(t,e,n,a){if("function"===typeof t&&void 0===t.cid){i=!0,o++;var c,l=Qt((function(e){Zt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[a]=e,o--,o<=0&&r()})),u=Qt((function(t){var e="Failed to resolve async component "+a+": "+t;s||(s=qt(t)?t:new Error(e),r(s))}));try{c=t(l,u)}catch(f){u(f)}if(c)if("function"===typeof c.then)c.then(l,u);else{var h=c.component;h&&"function"===typeof h.then&&h.then(l,u)}}})),i||r()}}function Gt(t,e){return Yt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Yt(t){return Array.prototype.concat.apply([],t)}var Xt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Zt(t){return t.__esModule||Xt&&"Module"===t[Symbol.toStringTag]}function Qt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var te=function(t,e){this.router=t,this.base=ee(e),this.current=w,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ee(t){if(!t)if(ct){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ne(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function re(t,e,n,r){var i=Gt(t,(function(t,r,i,o){var s=ie(t,e);if(s)return Array.isArray(s)?s.map((function(t){return n(t,r,i,o)})):n(s,r,i,o)}));return Yt(r?i.reverse():i)}function ie(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function oe(t){return re(t,"beforeRouteLeave",ae,!0)}function se(t){return re(t,"beforeRouteUpdate",ae)}function ae(t,e){if(e)return function(){return t.apply(e,arguments)}}function ce(t,e,n){return re(t,"beforeRouteEnter",(function(t,r,i,o){return le(t,i,o,e,n)}))}function le(t,e,n,r,i){return function(o,s,a){return t(o,s,(function(t){"function"===typeof t&&r.push((function(){ue(t,e.instances,n,i)})),a(t)}))}}function ue(t,e,n,r){e[n]&&!e[n]._isBeingDestroyed?t(e[n]):r()&&setTimeout((function(){ue(t,e,n,r)}),16)}te.prototype.listen=function(t){this.cb=t},te.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},te.prototype.onError=function(t){this.errorCbs.push(t)},te.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(s){throw this.errorCbs.forEach((function(t){t(s)})),s}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(Jt(t,Lt.redirected)&&o===w||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},te.prototype.confirmTransition=function(t,e,n){var i=this,o=this.current;this.pending=t;var s=function(t){!Jt(t)&&qt(t)&&(i.errorCbs.length?i.errorCbs.forEach((function(e){e(t)})):(r(!1,"uncaught error during route navigation:"),console.error(t))),n&&n(t)},a=t.matched.length-1,c=o.matched.length-1;if(A(t,o)&&a===c&&t.matched[a]===o.matched[c])return this.ensureURL(),s(Ft(o,t));var l=ne(this.current.matched,t.matched),u=l.updated,h=l.deactivated,f=l.activated,d=[].concat(oe(h),this.router.beforeHooks,se(u),f.map((function(t){return t.beforeEnter})),Kt(f)),p=function(e,n){if(i.pending!==t)return s(Vt(o,t));try{e(t,o,(function(e){!1===e?(i.ensureURL(!0),s(zt(o,t))):qt(e)?(i.ensureURL(!0),s(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(s(Bt(o,t)),"object"===typeof e&&e.replace?i.replace(e):i.push(e)):n(e)}))}catch(r){s(r)}};$t(d,p,(function(){var n=[],r=function(){return i.current===t},a=ce(f,n,r),c=a.concat(i.router.resolveHooks);$t(c,p,(function(){if(i.pending!==t)return s(Vt(o,t));i.pending=null,e(t),i.router.app&&i.router.app.$nextTick((function(){n.forEach((function(t){t()}))}))}))}))},te.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},te.prototype.setupListeners=function(){},te.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=w,this.pending=null};var he=function(t){function e(e,n){t.call(this,e,n),this._startLocation=fe(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Pt&&n;r&&this.listeners.push(St());var i=function(){var n=t.current,i=fe(t.base);t.current===w&&i===t._startLocation||t.transitionTo(i,(function(t){r&&At(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){It(T(r.base+t.fullPath)),At(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){jt(T(r.base+t.fullPath)),At(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(fe(this.base)!==this.current.fullPath){var e=T(this.base+this.current.fullPath);t?It(e):jt(e)}},e.prototype.getCurrentLocation=function(){return fe(this.base)},e}(te);function fe(t){var e=decodeURI(window.location.pathname);return t&&0===e.toLowerCase().indexOf(t.toLowerCase())&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var de=function(t){function e(e,n,r){t.call(this,e,n),r&&pe(this.base)||me()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Pt&&n;r&&this.listeners.push(St());var i=function(){var e=t.current;me()&&t.transitionTo(ge(),(function(n){r&&At(t.router,n,e,!0),Pt||be(n.fullPath)}))},o=Pt?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ye(t.fullPath),At(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){be(t.fullPath),At(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ge()!==e&&(t?ye(e):be(e))},e.prototype.getCurrentLocation=function(){return ge()},e}(te);function pe(t){var e=fe(t);if(!/^\/#/.test(e))return window.location.replace(T(t+"/#"+e)),!0}function me(){var t=ge();return"/"===t.charAt(0)||(be("/"+t),!1)}function ge(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";t=t.slice(e+1);var n=t.indexOf("?");if(n<0){var r=t.indexOf("#");t=r>-1?decodeURI(t.slice(0,r))+t.slice(r):decodeURI(t)}else t=decodeURI(t.slice(0,n))+t.slice(n);return t}function ve(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ye(t){Pt?It(ve(t)):window.location.hash=t}function be(t){Pt?jt(ve(t)):window.location.replace(ve(t))}var we=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){Jt(t,Lt.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(te),xe=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=dt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Pt&&!1!==t.fallback,this.fallback&&(e="hash"),ct||(e="abstract"),this.mode=e,e){case"history":this.history=new he(this,t.base);break;case"hash":this.history=new de(this,t.base,this.fallback);break;case"abstract":this.history=new we(this,t.base);break;default:0}},Se={currentRoute:{configurable:!0}};function Ae(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function ke(t,e,n){var r="hash"===n?"#"+e:e;return t?T(t+"/"+r):r}xe.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Se.currentRoute.get=function(){return this.history&&this.history.current},xe.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof he||n instanceof de){var r=function(t){var r=n.current,i=e.options.scrollBehavior,o=Pt&&i;o&&"fullPath"in t&&At(e,t,r,!1)},i=function(t){n.setupListeners(),r(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},xe.prototype.beforeEach=function(t){return Ae(this.beforeHooks,t)},xe.prototype.beforeResolve=function(t){return Ae(this.resolveHooks,t)},xe.prototype.afterEach=function(t){return Ae(this.afterHooks,t)},xe.prototype.onReady=function(t,e){this.history.onReady(t,e)},xe.prototype.onError=function(t){this.history.onError(t)},xe.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},xe.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},xe.prototype.go=function(t){this.history.go(t)},xe.prototype.back=function(){this.go(-1)},xe.prototype.forward=function(){this.go(1)},xe.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},xe.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=Q(t,e,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,s=this.history.base,a=ke(s,o,this.mode);return{location:r,route:i,href:a,normalizedTo:r,resolved:i}},xe.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==w&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xe.prototype,Se),xe.install=at,xe.version="3.4.5",xe.isNavigationFailure=Jt,xe.NavigationFailureType=Lt,ct&&window.Vue&&window.Vue.use(xe),e["a"]=xe},"8df4":function(t,e,n){"use strict";var r=n("7a77");function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t,e=new i((function(e){t=e}));return{token:e,cancel:t}},t.exports=i},"90e3":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},9112:function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9152:function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=l}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+h>=1?f/c:f*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*m}},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,a=o,c=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],h=c||u||l;h&&(a=function(t){var e,n,i,a,h=this,f=l&&h.sticky,d=r.call(h),p=h.source,m=0,g=t;return f&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),g=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",d)),u&&(n=new RegExp("^"+p+"$(?!\\s)",d)),c&&(e=h.lastIndex),i=o.call(f?n:h,g),f?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:c&&i&&(h.lastIndex=h.global?i.index+i[0].length:e),u&&i&&i.length>1&&s.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),t.exports=a},"94ca":function(t,e,n){var r=n("d039"),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==l||n!=c&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},"96cf":function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(R){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new T(r||[]);return o._invoke=C(t,n,s),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(_([])));x&&x!==n&&r.call(x,o)&&(b=x);var S=y.prototype=g.prototype=Object.create(b);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,s,a){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var i;function o(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function C(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return N()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){while(++i<t.length)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:N}}function N(){return{value:e,done:!0}}return v.prototype=S.constructor=y,y.constructor=v,v.displayName=c(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,a,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},A(k.prototype),k.prototype[s]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new k(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},A(S),c(S,a,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"986d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("5313"),i=n("304a"),o=n("55be"),s=function(t){return function(e){var n=V(t)(e.selection);return n?A(n.pos)(e):e}},a=function(t,e){return function(n){Array.isArray(t)||(t=[t]);for(var r=0,i=t.length;r<i;r++){var o=V(t[r])(n.selection);if(o){var s=x(o.pos,e)(n);if(s!==n)return s}}return n}},c=function(t){if(y(t.selection)){var e=t.selection.$from.pos,n=t.selection.$to.pos;return w(t.delete(e,n))}return t},l=function(t){return function(e){if(y(e.selection)){var n=e.selection,o=n.$from,s=n.$to;if(t instanceof i.Fragment&&o.parent.canReplace(o.index(),o.indexAfter(),t)||o.parent.canReplaceWith(o.index(),o.indexAfter(),t.type))return w(e.replaceWith(o.pos,s.pos,t).setSelection(new r.NodeSelection(e.doc.resolve(o.pos))))}return e}},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var i=r.Selection.findFrom(n.doc.resolve(t),e,!0);return i?n.setSelection(i):n}},h=function(t){return t.type&&t.type.spec.selectable},f=function(t){return h(t)&&t.type.isLeaf},d=function(t,e,n){return f(t)?n.setSelection(new r.NodeSelection(n.doc.resolve(e))):u(e)(n)},p=function(t,e,n){return function(r){var i="number"===typeof e,o=r.selection.$from,s=i?r.doc.resolve(e):y(r.selection)?r.doc.resolve(o.pos+1):o,c=s.parent;if(y(r.selection)&&n){var u=r;if(r=l(t)(r),u!==r)return r}if(O(c)){var f=r;if(r=a(c.type,t)(r),f!==r){var p=h(t)?s.before(s.depth):s.pos;return d(t,p,r)}}if(C(s,t)){r.insert(s.pos,t);var m=i?s.pos:h(t)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return w(d(t,m,r))}for(var g=s.depth;g>0;g--){var v=s.after(g),b=r.doc.resolve(v);if(C(b,t))return r.insert(v,t),w(d(t,v,r))}return r}},m=function(t,e,n,r){return function(i){var o=V(t)(i.selection);return o?w(i.setNodeMarkup(o.pos,e,Object.assign({},o.node.attrs,n),r)):i}},g=function(t){return function(e){if(!y(e.selection)){var n=V(t)(e.selection);if(n)return w(e.setSelection(r.NodeSelection.create(e.doc,n.pos)))}return e}},v=function(t){var e=q(t.selection);return"number"===typeof e?A(e)(t):t},y=function(t){return t instanceof r.NodeSelection},b=function(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t},w=function(t){return Object.assign(Object.create(t),t).setTime(Date.now())},x=function(t,e){return function(n){var r=n.doc.nodeAt(t),i=n.doc.resolve(t);if(S(i,e)){n=n.replaceWith(t,t+r.nodeSize,e);var o=n.selection.$from.pos-1;return n=u(Math.max(o,0),-1)(n),n=u(n.selection.$from.start())(n),w(n)}return n}},S=function(t,e){var n=t.node(t.depth);return n&&n.type.validContent(e instanceof i.Fragment?e:i.Fragment.from(e))},A=function(t){return function(e){var n=e.doc.nodeAt(t);return w(e.delete(t,t+n.nodeSize))}},k=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;var e={};return Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)})),t.cached.tableNodeTypes=e,e},C=function(t,e){var n=t.index();return e instanceof i.Fragment?t.parent.canReplace(n,n,e):e instanceof i.Node&&t.parent.canReplaceWith(n,n,e.type)},O=function(t){return!t||"paragraph"===t.type.name&&2===t.nodeSize},M=function(t){var e=function(t){return t.type.spec.tableRole&&/table/i.test(t.type.spec.tableRole)};return L(t,e)},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t.createChecked(null,e):t.createAndFill()},T=function(t){return function(e){for(var n=o.TableMap.get(e.$anchorCell.node(-1)),r=e.$anchorCell.start(-1),i=n.cellsInRect(t),s=n.cellsInRect(n.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r)),a=0,c=i.length;a<c;a++)if(-1===s.indexOf(i[a]))return!1;return!0}},_=function(t){return t[0].map((function(e,n){return t.map((function(t){return t[n]}))}))},N=function(t){for(var e=o.TableMap.get(t),n=[],r=0;r<e.height;r++){for(var i=[],s={},a=0;a<e.width;a++){var c=e.map[r*e.width+a],l=t.nodeAt(c),u=e.findCell(c);s[c]||u.top!==r?i.push(null):(s[c]=!0,i.push(l))}n.push(i)}return n},R=function(t,e){for(var n=[],r=o.TableMap.get(t),i=0;i<r.height;i++){for(var s=t.child(i),a=[],c=0;c<r.width;c++)if(e[i][c]){var l=r.map[i*r.width+c],u=e[i][c],h=t.nodeAt(l),f=h.type.createChecked(Object.assign({},u.attrs),u.content,u.marks);a.push(f)}n.push(s.type.createChecked(s.attrs,a,s.marks))}var d=t.type.createChecked(t.attrs,n,t.marks);return d},D=function(t,e,n,r){var i=_(N(t.node));return i=I(i,e,n,r),i=_(i),R(t.node,i)},P=function(t,e,n,r){var i=N(t.node);return i=I(i,e,n,r),R(t.node,i)},I=function(t,e,n,r){var i=e[0]>n[0]?-1:1,o=t.splice(e[0],e.length),s=o.length%2===0?1:0,a=void 0;return a=-1===r&&1===i?n[0]-1:1===r&&-1===i?n[n.length-1]-s+1:-1===i?n[0]:n[n.length-1]-s,t.splice.apply(t,[a,0].concat(o)),t},j=function(t,e,n,r){var i=t>e?-1:1,o="Target position is invalid, you can't move the "+r+" "+t+" to "+e+", the target can't be split. You could use tryToFit option.";if(1===i){if(-1!==n.slice(0,n.length-1).indexOf(e))throw new Error(o)}else if(-1!==n.slice(1).indexOf(e))throw new Error(o);return!0},$=function(t){return function(e){var n=e.$from;return L(n,t)}},L=function(t,e){for(var n=t.depth;n>0;n--){var r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}},B=function(t,e){return function(n){var r=$(t)(n);if(r)return J(r.pos,e)}},F=function(t){return function(e){return!!$(t)(e)}},V=function(t){return function(e){return $((function(e){return b(t,e)}))(e)}},z=function(t,e){return L(t,(function(t){return b(e,t)}))},H=function(t){return function(e){return F((function(e){return b(t,e)}))(e)}},U=function(t,e){return function(n){return B((function(e){return b(t,e)}),e)(n)}},W=function(t){return function(e){if(y(e)){var n=e.node,r=e.$from;if(b(t,n))return{node:n,pos:r.pos,depth:r.depth}}}},q=function(t){var e=t.$from.nodeBefore,n=r.Selection.findFrom(t.$from,-1);if(n&&e){var i=V(e.type)(n);return i?i.pos:n.$from.pos}},J=function(t,e){var n=e(t),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},K=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error('Invalid "node" parameter');var n=[];return t.descendants((function(t,r){if(n.push({node:t,pos:r}),!e)return!1})),n},G=function(t,e,n){if(!t)throw new Error('Invalid "node" parameter');if(!e)throw new Error('Invalid "predicate" parameter');return K(t,n).filter((function(t){return e(t.node)}))},Y=function(t,e){return G(t,(function(t){return t.isText}),e)},X=function(t,e){return G(t,(function(t){return t.isInline}),e)},Z=function(t,e){return G(t,(function(t){return t.isBlock}),e)},Q=function(t,e,n){return G(t,(function(t){return!!e(t.attrs)}),n)},tt=function(t,e,n){return G(t,(function(t){return t.type===e}),n)},et=function(t,e,n){return G(t,(function(t){return e.isInSet(t.marks)}),n)},nt=function(t,e){return!!tt(t,e).length};function rt(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var it=function(t){return $((function(t){return t.type.spec.tableRole&&"table"===t.type.spec.tableRole}))(t)},ot=function(t){return t instanceof o.CellSelection},st=function(t){if(ot(t)){var e=t.$anchorCell.start(-1),n=o.TableMap.get(t.$anchorCell.node(-1));return n.rectBetween(t.$anchorCell.pos-e,t.$headCell.pos-e)}},at=function(t){return function(e){if(ot(e)){var n=o.TableMap.get(e.$anchorCell.node(-1));return T({left:t,right:t+1,top:0,bottom:n.height})(e)}return!1}},ct=function(t){return function(e){if(ot(e)){var n=o.TableMap.get(e.$anchorCell.node(-1));return T({left:0,right:n.width,top:t,bottom:t+1})(e)}return!1}},lt=function(t){if(ot(t)){var e=o.TableMap.get(t.$anchorCell.node(-1));return T({left:0,right:e.width,top:0,bottom:e.height})(t)}return!1},ut=function(t){return function(e){var n=it(e);if(n){var r=o.TableMap.get(n.node),i=Array.isArray(t)?t:Array.from([t]);return i.reduce((function(t,e){if(e>=0&&e<=r.width-1){var i=r.cellsInRect({left:e,right:e+1,top:0,bottom:r.height});return t.concat(i.map((function(t){var e=n.node.nodeAt(t),r=t+n.start;return{pos:r,start:r+1,node:e}})))}}),[])}}},ht=function(t){return function(e){var n=it(e);if(n){var r=o.TableMap.get(n.node),i=Array.isArray(t)?t:Array.from([t]);return i.reduce((function(t,e){if(e>=0&&e<=r.height-1){var i=r.cellsInRect({left:0,right:r.width,top:e,bottom:e+1});return t.concat(i.map((function(t){var e=n.node.nodeAt(t),r=t+n.start;return{pos:r,start:r+1,node:e}})))}}),[])}}},ft=function(t){var e=it(t);if(e){var n=o.TableMap.get(e.node),r=n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height});return r.map((function(t){var n=e.node.nodeAt(t),r=t+e.start;return{pos:r,start:r+1,node:n}}))}},dt=function(t){return function(e,n){return function(r){var i=it(r.selection),s="row"===t;if(i){var a=o.TableMap.get(i.node);if(e>=0&&e<(s?a.height:a.width)){var c=s?0:e,l=s?e:0,u=s?a.width:e+1,h=s?e+1:a.height;if(n){var f=Pt(r.selection.$from);if(!f)return r;var d=a.findCell(f.pos-i.start);s?(l=Math.min(l,d.top),h=Math.max(h,d.bottom)):(c=Math.min(c,d.left),u=Math.max(u,d.right))}var p=a.cellsInRect({left:c,top:l,right:s?u:c+1,bottom:s?l+1:h}),m=h-l===1?p:a.cellsInRect({left:s?c:u-1,top:s?h-1:l,right:u,bottom:h}),g=i.start+p[0],v=i.start+m[m.length-1],y=r.doc.resolve(g),b=r.doc.resolve(v);return w(r.setSelection(new o.CellSelection(b,y)))}}return r}}},pt=dt("column"),mt=dt("row"),gt=function(t){var e=it(t.selection);if(e){var n=o.TableMap.get(e.node),r=n.map;if(r&&r.length){var i=e.start+r[0],s=e.start+r[r.length-1],a=t.doc.resolve(i),c=t.doc.resolve(s);return w(t.setSelection(new o.CellSelection(c,a)))}}return t},vt=function(t,e){return function(n){if(t){var r=k(e).cell.createAndFill(),i=r.content;if(!t.node.content.eq(i))return n.replaceWith(t.pos+1,t.pos+t.node.nodeSize,i),w(n)}return n}},yt=function(t){return function(e){var n=it(e.selection);if(n){var r=o.TableMap.get(n.node);if(t>=0&&t<=r.width)return w(o.addColumn(e,{map:r,tableStart:n.start,table:n.node},t))}return e}},bt=function(t,e,n){return function(r){var i={tryToFit:!1,direction:0},o=Object.assign(i,n),s=it(r.selection);if(!s)return r;var a=Lt(t)(r),c=a.indexes,l=Lt(e)(r),u=l.indexes;if(c.indexOf(e)>-1)return r;!o.tryToFit&&u.length>1&&j(t,e,u,"row");var h=P(s,c,u,o.direction);return w(r).replaceWith(s.pos,s.pos+s.node.nodeSize,h)}},wt=function(t,e,n){return function(r){var i={tryToFit:!1,direction:0},o=Object.assign(i,n),s=it(r.selection);if(!s)return r;var a=$t(t)(r),c=a.indexes,l=$t(e)(r),u=l.indexes;if(c.indexOf(e)>-1)return r;!o.tryToFit&&u.length>1&&j(t,e,u,"column");var h=D(s,c,u,o.direction);return w(r).replaceWith(s.pos,s.pos+s.node.nodeSize,h)}},xt=function(t,e){return function(n){var r=it(n.selection);if(r){var i=o.TableMap.get(r.node),s=t-1;if(e&&s>=0)return w(St(s)(n));if(t>=0&&t<=i.height)return w(o.addRow(n,{map:i,tableStart:r.start,table:r.node},t))}return n}},St=function(t){return function(e){var n=it(e.selection);if(n){var r=o.TableMap.get(n.node);if(t>=0&&t<=r.height){for(var i=n.node,s=k(i.type.schema),a=n.start,c=0;c<t+1;c++)a+=i.child(c).nodeSize;var l=i.child(t),u=[],h=0;if(l.forEach((function(t){1===t.attrs.rowspan&&(h+=t.attrs.colspan,u.push(s[t.type.spec.tableRole].createAndFill(t.attrs,t.marks)))})),h<r.width){for(var f=[],d=function(n){var r=jt(n,(function(e,r){var i=e.node.attrs.rowspan,o=n+i;return i>1&&o>t}))(e);f.push.apply(f,rt(r))},m=t;m>=0;m--)d(m);f.length&&f.forEach((function(t){e=Rt(t,{rowspan:t.node.attrs.rowspan+1})(e)}))}return p(s.row.create(l.attrs,u),a)(e)}}return e}},At=function(t){return function(e){var n=it(e.selection);if(n){var r=o.TableMap.get(n.node);if(0===t&&1===r.width)return Ct(e);if(t>=0&&t<=r.width)return o.removeColumn(e,{map:r,tableStart:n.start,table:n.node},t),w(e)}return e}},kt=function(t){return function(e){var n=it(e.selection);if(n){var r=o.TableMap.get(n.node);if(0===t&&1===r.height)return Ct(e);if(t>=0&&t<=r.height)return o.removeRow(e,{map:r,tableStart:n.start,table:n.node},t),w(e)}return e}},Ct=function(t){for(var e=t.selection.$from,n=e.depth;n>0;n--){var r=e.node(n);if("table"===r.type.spec.tableRole)return w(t.delete(e.before(n),e.after(n)))}return t},Ot=function(t){var e=t.selection;if(lt(e))return Ct(t);if(ot(e)){var n=it(e);if(n){var r=o.TableMap.get(n.node),i=r.rectBetween(e.$anchorCell.pos-n.start,e.$headCell.pos-n.start);if(0==i.left&&i.right==r.width)return!1;for(var s=Object.assign({},i,{map:r,table:n.node,tableStart:n.start}),a=s.right-1;;a--){if(o.removeColumn(t,s,a),a===s.left)break;s.table=s.tableStart?t.doc.nodeAt(s.tableStart-1):t.doc,s.map=o.TableMap.get(s.table)}return w(t)}}return t},Mt=function(t){var e=t.selection;if(lt(e))return Ct(t);if(ot(e)){var n=it(e);if(n){var r=o.TableMap.get(n.node),i=r.rectBetween(e.$anchorCell.pos-n.start,e.$headCell.pos-n.start);if(0==i.top&&i.bottom==r.height)return!1;for(var s=Object.assign({},i,{map:r,table:n.node,tableStart:n.start}),a=s.bottom-1;;a--){if(o.removeRow(t,s,a),a===s.top)break;s.table=s.tableStart?t.doc.nodeAt(s.tableStart-1):t.doc,s.map=o.TableMap.get(s.table)}return w(t)}}return t},Et=function(t){return function(e){var n=It(t);return n?At(n.left)(u(t.pos)(e)):e}},Tt=function(t){return function(e){var n=It(t);return n?kt(n.top)(u(t.pos)(e)):e}},_t=function(t,e,n){return function(i){var o=ut(t)(i.selection);if(o){for(var s=o.length-1;s>=0;s--)i=e(o[s],i);if(n){var a=i.doc.resolve(i.mapping.map(o[o.length-1].pos));i.setSelection(r.Selection.near(a))}return w(i)}return i}},Nt=function(t,e,n){return function(i){var o=ht(t)(i.selection);if(o){for(var s=o.length-1;s>=0;s--)i=e(o[s],i);if(n){var a=i.doc.resolve(i.mapping.map(o[o.length-1].pos));i.setSelection(r.Selection.near(a))}}return i}},Rt=function(t,e){return function(n){return t?(n.setNodeMarkup(t.pos,null,Object.assign({},t.node.attrs,e)),w(n)):n}},Dt=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=k(t),s=o.cell,a=o.header_cell,c=o.row,l=o.table,u=[],h=[],f=0;f<n;f++)u.push(E(s,i)),r&&h.push(E(a,i));for(var d=[],p=0;p<e;p++)d.push(c.createChecked(null,r&&0===p?h:u));return l.createChecked(null,d)},Pt=function(t){var e=function(t){return t.type.spec.tableRole&&/cell/i.test(t.type.spec.tableRole)};return L(t,e)},It=function(t){var e=Pt(t);if(e){var n=M(t),r=o.TableMap.get(n.node),i=e.pos-n.start;return r.rectBetween(i,i)}},jt=function(t,e){return function(n){var r=[],i=ht(t)(n.selection);if(i)for(var o=i.length-1;o>=0;o--)e(i[o],n)&&r.push(i[o]);return r}},$t=function(t){return function(e){for(var n=t,r=t,i=function(t){var i=ut(t)(e.selection);i&&i.forEach((function(e){var i=e.node.attrs.colspan+t-1;i>=n&&(n=t),i>r&&(r=i)}))},o=t;o>=0;o--)i(o);var s=function(t){var n=ut(t)(e.selection);n&&n.forEach((function(e){var n=e.node.attrs.colspan+t-1;e.node.attrs.colspan>1&&n>r&&(r=n)}))};for(o=t;o<=r;o++)s(o);var a=[];for(o=n;o<=r;o++){var c=ut(o)(e.selection);c&&c.length&&a.push(o)}n=a[0],r=a[a.length-1];for(var l=ut(n)(e.selection),u=ht(0)(e.selection),h=e.doc.resolve(l[l.length-1].pos),f=void 0,d=r;d>=n;d--){var p=ut(d)(e.selection);if(p&&p.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===p[0].pos){f=p[0];break}if(f)break}}var g=e.doc.resolve(f.pos);return{$anchor:h,$head:g,indexes:a}}},Lt=function(t){return function(e){for(var n=t,r=t,i=function(t){var i=ht(t)(e.selection);i.forEach((function(e){var i=e.node.attrs.rowspan+t-1;i>=n&&(n=t),i>r&&(r=i)}))},o=t;o>=0;o--)i(o);var s=function(t){var n=ht(t)(e.selection);n.forEach((function(e){var n=e.node.attrs.rowspan+t-1;e.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(o=t;o<=r;o++)s(o);var a=[];for(o=n;o<=r;o++){var c=ht(o)(e.selection);c&&c.length&&a.push(o)}n=a[0],r=a[a.length-1];for(var l=ht(n)(e.selection),u=ut(0)(e.selection),h=e.doc.resolve(l[l.length-1].pos),f=void 0,d=r;d>=n;d--){var p=ht(d)(e.selection);if(p&&p.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===p[0].pos){f=p[0];break}if(f)break}}var g=e.doc.resolve(f.pos);return{$anchor:h,$head:g,indexes:a}}};e.isNodeSelection=y,e.canInsert=C,e.convertTableNodeToArrayOfRows=N,e.convertArrayOfRowsToTableNode=R,e.findParentNode=$,e.findParentNodeClosestToPos=L,e.findParentDomRef=B,e.hasParentNode=F,e.findParentNodeOfType=V,e.findParentNodeOfTypeClosestToPos=z,e.hasParentNodeOfType=H,e.findParentDomRefOfType=U,e.findSelectedNodeOfType=W,e.findPositionOfNodeBefore=q,e.findDomRefAtPos=J,e.flatten=K,e.findChildren=G,e.findTextNodes=Y,e.findInlineNodes=X,e.findBlockNodes=Z,e.findChildrenByAttr=Q,e.findChildrenByType=tt,e.findChildrenByMark=et,e.contains=nt,e.findTable=it,e.isCellSelection=ot,e.getSelectionRect=st,e.isColumnSelected=at,e.isRowSelected=ct,e.isTableSelected=lt,e.getCellsInColumn=ut,e.getCellsInRow=ht,e.getCellsInTable=ft,e.selectColumn=pt,e.selectRow=mt,e.selectTable=gt,e.emptyCell=vt,e.addColumnAt=yt,e.moveRow=bt,e.moveColumn=wt,e.addRowAt=xt,e.cloneRowAt=St,e.removeColumnAt=At,e.removeRowAt=kt,e.removeTable=Ct,e.removeSelectedColumns=Ot,e.removeSelectedRows=Mt,e.removeColumnClosestToPos=Et,e.removeRowClosestToPos=Tt,e.forEachCellInColumn=_t,e.forEachCellInRow=Nt,e.setCellAttrs=Rt,e.createTable=Dt,e.findCellClosestToPos=Pt,e.findCellRectClosestToPos=It,e.getSelectionRangeInColumn=$t,e.getSelectionRangeInRow=Lt,e.removeParentNodeOfType=s,e.replaceParentNodeOfType=a,e.removeSelectedNode=c,e.replaceSelectedNode=l,e.setTextSelection=u,e.safeInsert=p,e.setParentNodeMarkup=m,e.selectParentNodeOfType=g,e.removeNodeBefore=v},"9ab4":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));function r(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}},"9bdd":function(t,e,n){var r=n("825a");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(s){var o=t["return"];throw void 0!==o&&r(o.call(t)),s}}},"9bf2":function(t,e,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9ea7":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return d}));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=o&&(c||+o[1]<57)||a&&c,h=0;h<10;h++)r[48+h]=r[96+h]=String(h);for(h=1;h<=24;h++)r[h+111]="F"+h;for(h=65;h<=90;h++)r[h]=String.fromCharCode(h+32),i[h]=String.fromCharCode(h);for(var f in r)i.hasOwnProperty(f)||(i[f]=r[f]);function d(t){var e=u&&(t.ctrlKey||t.altKey||t.metaKey)||(s||l)&&t.shiftKey&&t.key&&1==t.key.length,n=!e&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}},"9ed3":function(t,e,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,l,!1,!0),a[l]=c,t}},"9f7f":function(t,e,n){"use strict";var r=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),s=n("a640"),a=[].join,c=i!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},a434:function(t,e,n){"use strict";var r=n("23e7"),i=n("23cb"),o=n("a691"),s=n("50c4"),a=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),h=n("ae40"),f=u("splice"),d=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var n,r,u,h,f,d,y=a(this),b=s(y.length),w=i(t,b),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=b-w):(n=x-2,r=m(p(o(e),0),b-w)),b+n-r>g)throw TypeError(v);for(u=c(y,r),h=0;h<r;h++)f=w+h,f in y&&l(u,h,y[f]);if(u.length=r,n<r){for(h=w;h<b-r;h++)f=h+r,d=h+n,f in y?y[d]=y[f]:delete y[d];for(h=b;h>b-r+n;h--)delete y[h-1]}else if(n>r)for(h=b-r;h>w;h--)f=h+r-1,d=h+n-1,f in y?y[d]=y[f]:delete y[d];for(h=0;h<n;h++)y[h+w]=arguments[h+2];return y.length=b-r+n,u}})},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),s=n("c430"),a=n("83ab"),c=n("4930"),l=n("fdbf"),u=n("d039"),h=n("5135"),f=n("e8b5"),d=n("861d"),p=n("825a"),m=n("7b0b"),g=n("fc6a"),v=n("c04e"),y=n("5c6c"),b=n("7c73"),w=n("df75"),x=n("241c"),S=n("057f"),A=n("7418"),k=n("06cf"),C=n("9bf2"),O=n("d1e7"),M=n("9112"),E=n("6eeb"),T=n("5692"),_=n("f772"),N=n("d012"),R=n("90e3"),D=n("b622"),P=n("e538"),I=n("746f"),j=n("d44e"),$=n("69f3"),L=n("b727").forEach,B=_("hidden"),F="Symbol",V="prototype",z=D("toPrimitive"),H=$.set,U=$.getterFor(F),W=Object[V],q=i.Symbol,J=o("JSON","stringify"),K=k.f,G=C.f,Y=S.f,X=O.f,Z=T("symbols"),Q=T("op-symbols"),tt=T("string-to-symbol-registry"),et=T("symbol-to-string-registry"),nt=T("wks"),rt=i.QObject,it=!rt||!rt[V]||!rt[V].findChild,ot=a&&u((function(){return 7!=b(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(W,e);r&&delete W[e],G(t,e,n),r&&t!==W&&G(W,e,r)}:G,st=function(t,e){var n=Z[t]=b(q[V]);return H(n,{type:F,tag:t,description:e}),a||(n.description=e),n},at=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},ct=function(t,e,n){t===W&&ct(Q,e,n),p(t);var r=v(e,!0);return p(n),h(Z,r)?(n.enumerable?(h(t,B)&&t[B][r]&&(t[B][r]=!1),n=b(n,{enumerable:y(0,!1)})):(h(t,B)||G(t,B,y(1,{})),t[B][r]=!0),ot(t,r,n)):G(t,r,n)},lt=function(t,e){p(t);var n=g(e),r=w(n).concat(pt(n));return L(r,(function(e){a&&!ht.call(n,e)||ct(t,e,n[e])})),t},ut=function(t,e){return void 0===e?b(t):lt(b(t),e)},ht=function(t){var e=v(t,!0),n=X.call(this,e);return!(this===W&&h(Z,e)&&!h(Q,e))&&(!(n||!h(this,e)||!h(Z,e)||h(this,B)&&this[B][e])||n)},ft=function(t,e){var n=g(t),r=v(e,!0);if(n!==W||!h(Z,r)||h(Q,r)){var i=K(n,r);return!i||!h(Z,r)||h(n,B)&&n[B][r]||(i.enumerable=!0),i}},dt=function(t){var e=Y(g(t)),n=[];return L(e,(function(t){h(Z,t)||h(N,t)||n.push(t)})),n},pt=function(t){var e=t===W,n=Y(e?Q:g(t)),r=[];return L(n,(function(t){!h(Z,t)||e&&!h(W,t)||r.push(Z[t])})),r};if(c||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=R(t),n=function(t){this===W&&n.call(Q,t),h(this,B)&&h(this[B],e)&&(this[B][e]=!1),ot(this,e,y(1,t))};return a&&it&&ot(W,e,{configurable:!0,set:n}),st(e,t)},E(q[V],"toString",(function(){return U(this).tag})),E(q,"withoutSetter",(function(t){return st(R(t),t)})),O.f=ht,C.f=ct,k.f=ft,x.f=S.f=dt,A.f=pt,P.f=function(t){return st(D(t),t)},a&&(G(q[V],"description",{configurable:!0,get:function(){return U(this).description}}),s||E(W,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),L(w(nt),(function(t){I(t)})),r({target:F,stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var n=q(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!a},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:u((function(){A.f(1)}))},{getOwnPropertySymbols:function(t){return A.f(m(t))}}),J){var mt=!c||u((function(){var t=q();return"[null]"!=J([t])||"{}"!=J({a:t})||"{}"!=J(Object(t))}));r({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,n){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=e,(d(e)||void 0!==t)&&!at(t))return f(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),i[1]=e,J.apply(null,i)}})}q[V][z]||M(q[V],z,q[V].valueOf),j(q,F),N[B]=!0},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},a79d:function(t,e,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),a=n("d066"),c=n("4840"),l=n("cdf9"),u=n("6eeb"),h=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(t){var e=c(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof o||o.prototype["finally"]||u(o.prototype,"finally",a("Promise").prototype["finally"])},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ade3:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},ae40:function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("5135"),s=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var n=[][t],l=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:c,h=o(e,1)?e[1]:void 0;return a[t]=!!n&&!i((function(){if(l&&!r)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,u,h)}))}},ae49:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));const r="",i="undefined"==typeof Symbol?"__"+r:Symbol.for(r),o="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),s="undefined"==typeof t?window:t;class a{constructor(t,e){this.rules=[];let{process:n,extend:r}=e||{};function i(t){if(/^@/.test(t))return[t];let e=t.split(",");return n?e.map(n):e}function o(t,e,n){let s=[],a=/^@(\w+)\b/.exec(t[0]);if(a&&null==e)return n.push(t[0]+";");for(let c in e)if(/&/.test(c))o(t.map(t=>r?r(c,t):c.replace(/&/,t)),e[c],n);else if("object"==typeof e[c]){if(!a)throw new RangeError("The value of a property ("+c+") should be a primitive value.");o("keyframes"==a[1]?[c]:i(c),e[c],s)}else s.push(c.replace(/_.*/,"").replace(/[A-Z]/g,t=>"-"+t.toLowerCase())+": "+e[c]+";");(s.length||a&&"keyframes"==a[1])&&n.push(t.join(",")+" {"+s.join(" ")+"}")}for(let s in t)o(i(s),t[s],this.rules)}static newName(){let t=s[i]||1;return s[i]=t+1,r+t.toString(36)}static mount(t,e){(t[o]||new l(t)).mount(Array.isArray(e)?e:[e])}}let c=null;class l{constructor(t){if(t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(c)return t.adoptedStyleSheets=[c.sheet].concat(t.adoptedStyleSheets),t[o]=c;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),c=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild)}this.modules=[],t[o]=this}mount(t){let e=this.sheet,n=0,r=0;for(let i=0;i<t.length;i++){let o=t[i],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),e)for(let t=0;t<o.rules.length;t++)e.insertRule(o.rules[t],n++)}else{while(r<s)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].rules.join("\n")+"\n";this.styleTag.textContent=t}}}}).call(this,n("c8ba"))},ae93:function(t,e,n){"use strict";var r,i,o,s=n("e163"),a=n("9112"),c=n("5135"),l=n("b622"),u=n("c430"),h=l("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=s(s(o)),i!==Object.prototype&&(r=i)):f=!0),void 0==r&&(r={}),u||c(r,h)||a(r,h,d),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},b041:function(t,e,n){"use strict";var r=n("00ee"),i=n("f5df");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},b50d:function(t,e,n){"use strict";var r=n("c532"),i=n("467f"),o=n("7aac"),s=n("30b5"),a=n("83b9"),c=n("c345"),l=n("3934"),u=n("2d83");t.exports=function(t){return new Promise((function(e,n){var h=t.data,f=t.headers;r.isFormData(h)&&delete f["Content-Type"],(r.isBlob(h)||r.isFile(h))&&h.type&&delete f["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=unescape(encodeURIComponent(t.auth.password))||"";f.Authorization="Basic "+btoa(p+":"+m)}var g=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),s(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,o=t.responseType&&"text"!==t.responseType?d.response:d.responseText,s={data:o,status:d.status,statusText:d.statusText,headers:r,config:t,request:d};i(e,n,s),d=null}},d.onabort=function(){d&&(n(u("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=(t.withCredentials||l(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;v&&(f[t.xsrfHeaderName]=v)}if("setRequestHeader"in d&&r.forEach(f,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(y){if("json"!==t.responseType)throw y}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),n(t),d=null)})),h||(h=null),d.send(h)}))}},b575:function(t,e,n){var r,i,o,s,a,c,l,u,h=n("da84"),f=n("06cf").f,d=n("c6b6"),p=n("2cf4").set,m=n("1cdc"),g=h.MutationObserver||h.WebKitMutationObserver,v=h.process,y=h.Promise,b="process"==d(v),w=f(h,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;b&&(t=v.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(n){throw i?s():o=void 0,n}}o=void 0,t&&t.enter()},b?s=function(){v.nextTick(r)}:g&&!m?(a=!0,c=document.createTextNode(""),new g(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):y&&y.resolve?(l=y.resolve(void 0),u=l.then,s=function(){u.call(l,r)}):s=function(){p.call(h,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},b622:function(t,e,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),c=n("fdbf"),l=i("wks"),u=r.Symbol,h=c?u:u&&u.withoutSetter||s;t.exports=function(t){return o(l,t)||(a&&o(u,t)?l[t]=u[t]:l[t]=h("Symbol."+t)),l[t]}},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function s(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,r):"string"===typeof e?p(t,e,n):v(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e,n,r){return h(e),e<=0?c(t,e):void 0!==n?"string"===typeof r?c(t,e).fill(n,r):c(t,e).fill(n):c(t,e)}function d(t,e){if(h(e),t=c(t,e<0?0:0|y(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(e,n);t=c(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function m(t,e){var n=e.length<0?0:0|y(e.length);t=c(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function g(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=m(t,e),t}function v(t,e){if(l.isBuffer(e)){var n=0|y(e.length);return t=c(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?c(t,0):m(t,e);if("Buffer"===e.type&&o(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),l.alloc(+t)}function w(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return Y(t).length;e=(""+e).toLowerCase(),r=!0}}function x(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return $(this,e,n);case"utf8":case"utf-8":return R(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return j(this,e,n);case"base64":return N(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function S(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function A(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:k(t,e,n,r,i);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):k(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function k(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function C(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function O(t,e,n,r){return tt(Y(e,t.length-n),t,n,r)}function M(t,e,n,r){return tt(X(e),t,n,r)}function E(t,e,n,r){return M(t,e,n,r)}function T(t,e,n,r){return tt(Q(e),t,n,r)}function _(t,e,n,r){return tt(Z(e,t.length-n),t,n,r)}function N(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function R(t,e,n){n=Math.min(t.length,n);var r=[],i=e;while(i<n){var o,s,a,c,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:o=t[i+1],128===(192&o)&&(c=(31&l)<<6|63&o,c>127&&(u=c));break;case 3:o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s,c>2047&&(c<55296||c>57343)&&(u=c));break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a,c>65535&&c<1114112&&(u=c))}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return P(r)}e.Buffer=l,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return f(null,t,e,n)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},l.byteLength=w,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):x.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),c=this.slice(r,i),u=t.slice(e,n),h=0;h<a;++h)if(c[h]!==u[h]){o=c[h],s=u[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return A(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return A(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return C(this,t,e,n);case"utf8":case"utf-8":return O(this,t,e,n);case"ascii":return M(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function P(t){var e=t.length;if(e<=D)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=D));return n}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function $(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=G(t[o]);return i}function L(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function V(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function z(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function H(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return o||H(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function W(t,e,n,r,o){return o||H(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=l.prototype;else{var i=e-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t+--e],i=1;while(e>0&&(i*=256))r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=e,i=1,o=this[t+--r];while(r>0&&(i*=256))o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;F(this,t,e,n,i,0)}var o=1,s=0;this[e]=255&t;while(++s<n&&(o*=256))this[e+s]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;F(this,t,e,n,i,0)}var o=n-1,s=1;this[e+o]=255&t;while(--o>=0&&(s*=256))this[e+o]=t/s&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;this[e]=255&t;while(++o<n&&(s*=256))t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;this[e+o]=255&t;while(--o>=0&&(s*=256))t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return W(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return W(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=l.isBuffer(t)?t:Y(new l(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function J(t){if(t=K(t).replace(q,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function K(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function X(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,r,i,o=[],s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Q(t){return r.toByteArray(J(t))}function tt(t,e,n,r){for(var i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function et(t){return t!==t}}).call(this,n("c8ba"))},b727:function(t,e,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,h=6==t,f=5==t||h;return function(d,p,m,g){for(var v,y,b=o(d),w=i(b),x=r(p,m,3),S=s(w.length),A=0,k=g||a,C=e?k(d,S):n?k(d,0):void 0;S>A;A++)if((f||A in w)&&(v=w[A],y=x(v,A,b),t))if(e)C[A]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return A;case 2:c.call(C,v)}else if(u)return!1;return h?-1:l||u?u:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("b0c0"),n("25f0");function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,s=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(c)throw s}}}}},bc3a:function(t,e,n){t.exports=n("cee4")},bee2:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},c04e:function(t,e,n){var r=n("861d");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c154:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("32ff"),i=n("304a"),o=n("5313"),s=n("576a"),a=n("0010"),c=n("8726"),l=n("7f06"),u=n("986d"),h=n("0ac0");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function f(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}let d=class extends r.Vue{render(){if(this.$scopedSlots.default)return this.$scopedSlots.default({keyboardNav:this.keyboardNavigation,mouseClickNav:this.mouseClickNavigation})}keyboardNavigation(t){let e=t.target;if(e)if(39===t.keyCode){let t=this.findNextMenuitem(this.getParentMenubar(e),e,"next");t&&t.focus()}else if(37===t.keyCode){let t=this.findNextMenuitem(this.getParentMenubar(e),e,"previous");t&&t.focus()}else if(38===t.keyCode||40===t.keyCode){for(const n of e.parentElement.children)if("menu"===n.getAttribute("role")){n.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true");let t=this.findNextMenuitem(n,null,"next");t&&t.focus()}}else if(13===t.keyCode||32==t.keyCode){for(const t of e.parentElement.children)if("menu"===t.getAttribute("role"))if("false"===t.getAttribute("aria-hidden"))t.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false");else{t.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true");let n=this.findNextMenuitem(t,null,"next");if(n)return void n.focus()}e.click()}}mouseClickNavigation(t){let e=t.target;if(e)for(const n of e.parentElement.children)if("menu"===n.getAttribute("role"))if("false"===n.getAttribute("aria-hidden"))n.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false");else{n.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true");let t=this.findNextMenuitem(n,null,"next");if(t)return void t.focus()}}getParentMenubar(t){return t?"menubar"===t.getAttribute("role")?t:this.getParentMenubar(t.parentElement):null}findNextMenuitem(t,e,n){if(!t)return null;let r=[];if("next"===n)for(let o=t.children.length-1;o>=0;o--)r.push(t.children[o]);else for(let o=0;o<t.children.length;o++)r.push(t.children[o]);let i=0;e||(i=1);while(r.length>0){let t=r.pop();if(0===i&&t===e)i=1;else if(1===i&&"menuitem"===t.getAttribute("role")&&"true"!==t.getAttribute("aria-disabled"))return t;if("menu"!==t.getAttribute("role"))if("next"===n)for(let e=t.children.length-1;e>=0;e--)r.push(t.children[e]);else for(let e=0;e<t.children.length;e++)r.push(t.children[e])}return null}};d=f([r.Component({})],d);var p=d;function m(t,e,n,r,i,o,s,a,c,l){"boolean"!==typeof s&&(c=a,a=s,s=!1);const u="function"===typeof n?n.options:n;let h;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r),o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=h):e&&(h=s?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(u.functional){const t=u.render;u.render=function(e,n){return h.call(n),t(e,n)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,h):[h]}return n}const g="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function v(t){return(t,e)=>w(t,e)}let y;const b={};function w(t,e){const n=g?e.media||"default":t,r=b[n]||(b[n]={ids:new Set,styles:[]});if(!r.ids.has(t)){r.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),void 0===y&&(y=document.head||document.getElementsByTagName("head")[0]),y.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const t=r.ids.size-1,e=document.createTextNode(n),i=r.element.childNodes;i[t]&&r.element.removeChild(i[t]),i.length?r.element.insertBefore(e,i[t]):r.element.appendChild(e)}}}const x=p,S=function(t){t&&(t("data-v-437bf665_0",{source:"ul[role=menubar] {\n  margin: 0;\n  padding: 0;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n}\nul[role=menubar] li {\n  flex: 0 0 auto;\n  vertical-align: top;\n}\nul[role=menubar] li a {\n  cursor: pointer;\n}\nul[role=menubar] *[aria-hidden=true] {\n  display: none;\n}\nul[role=menubar] ul[role=menu] {\n  margin: 0;\n  padding: 0;\n}\nul[role=menubar] ul[role=menu][aria-hidden=false] {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n}",map:{version:3,sources:["/home/runner/work/tei-editor/tei-editor/src/components/AriaMenubar.vue","AriaMenubar.vue"],names:[],mappings:"AA4IA;EACA,SAAA;EACA,UAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;AC3IA;AD6IA;EACA,cAAA;EACA,mBAAA;AC3IA;AD6IA;EACA,eAAA;AC3IA;AD+IA;EACA,aAAA;AC7IA;ADgJA;EACA,SAAA;EACA,UAAA;AC9IA;ADgJA;EACA,aAAA;EACA,sBAAA;EACA,kBAAA;AC9IA",file:"AriaMenubar.vue",sourcesContent:["<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator';\n\n\n@Component({\n})\nexport default class AriaMenubar extends Vue {\n    public render() {\n        if (this.$scopedSlots.default) {\n            return this.$scopedSlots.default({\n                keyboardNav: this.keyboardNavigation,\n                mouseClickNav: this.mouseClickNavigation,\n            });\n        }\n    }\n\n    public keyboardNavigation(ev: KeyboardEvent) {\n        let target = ev.target as HTMLElement;\n        if (target) {\n            if (ev.keyCode === 39) {\n                let next = this.findNextMenuitem(this.getParentMenubar(target), target, 'next');\n                if (next) {\n                    next.focus();\n                }\n            } else if (ev.keyCode === 37) {\n                let next = this.findNextMenuitem(this.getParentMenubar(target), target, 'previous');\n                if (next) {\n                    next.focus();\n                }\n            } else if (ev.keyCode === 38 || ev.keyCode === 40) {\n                // @ts-ignore\n                for (const element of target.parentElement.children) {\n                    if (element.getAttribute('role') === 'menu') {\n                        element.setAttribute('aria-hidden', 'false');\n                        target.setAttribute('aria-expanded', 'true');\n                        let next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                        if (next) {\n                            next.focus();\n                        }\n                    }\n                }\n            } else if (ev.keyCode === 13 || ev.keyCode == 32) {\n                // @ts-ignore\n                for (const element of target.parentElement.children) {\n                    if (element.getAttribute('role') === 'menu') {\n                        if (element.getAttribute('aria-hidden') === 'false') {\n                            element.setAttribute('aria-hidden', 'true');\n                            target.setAttribute('aria-expanded', 'false');\n                        } else {\n                            element.setAttribute('aria-hidden', 'false');\n                            target.setAttribute('aria-expanded', 'true');\n                            let next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                            if (next) {\n                                next.focus();\n                                return;\n                            }\n                        }\n                    }\n                }\n                target.click();\n            }\n        }\n    }\n\n    public mouseClickNavigation(ev: MouseEvent) {\n        let target = ev.target as HTMLElement;\n        if (target) {\n            // @ts-ignore\n            for (const element of target.parentElement.children) {\n                if (element.getAttribute('role') === 'menu') {\n                    if (element.getAttribute('aria-hidden') === 'false') {\n                        element.setAttribute('aria-hidden', 'true');\n                        target.setAttribute('aria-expanded', 'false');\n                    } else {\n                        element.setAttribute('aria-hidden', 'false');\n                        target.setAttribute('aria-expanded', 'true');\n                        let next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                        if (next) {\n                            next.focus();\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected getParentMenubar(element: HTMLElement): HTMLElement | null {\n        if (!element) {\n            return null;\n        } else if (element.getAttribute('role') === 'menubar') {\n            return element;\n        } else {\n            return this.getParentMenubar(element.parentElement as HTMLElement);\n        }\n    }\n\n    protected findNextMenuitem(root: HTMLElement | null, start: HTMLElement | null, direction: string) {\n        if (!root) {\n            return null;\n        }\n        let stack = [] as HTMLElement[];\n        if (direction === 'next') {\n            for (let idx = root.children.length - 1; idx >= 0; idx--) {\n                stack.push(root.children[idx] as HTMLElement);\n            }\n        } else {\n            for (let idx = 0; idx < root.children.length; idx++) {\n                stack.push(root.children[idx] as HTMLElement);\n            }\n        }\n        let mode = 0;\n        if (!start) {\n            mode = 1;\n        }\n        while (stack.length > 0) {\n            let current = stack.pop() as HTMLElement;\n            if (mode === 0 && current === start) {\n                mode = 1;\n            } else if (mode === 1 && current.getAttribute('role') === 'menuitem' && current.getAttribute('aria-disabled') !== 'true') {\n                return current;\n            }\n            if (current.getAttribute('role') !== 'menu') {\n                if (direction === 'next') {\n                    for (let idx = current.children.length - 1; idx >= 0; idx--) {\n                        stack.push(current.children[idx] as HTMLElement);\n                    }\n                } else {\n                    for (let idx = 0; idx < current.children.length; idx++) {\n                        stack.push(current.children[idx] as HTMLElement);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n<\/script>\n\n<style module lang=\"scss\">\n  ul[role='menubar'] {\n    margin: 0;\n    padding: 0;\n    position: relative;\n    display: flex;\n    flex-direction: row;\n\n    li {\n      flex: 0 0 auto;\n      vertical-align: top;\n\n      a {\n        cursor: pointer;\n      }\n    }\n\n    *[aria-hidden='true'] {\n      display: none;\n    }\n\n    ul[role='menu'] {\n        margin: 0;\n        padding: 0;\n\n        &[aria-hidden='false'] {\n          display: flex;\n          flex-direction: column;\n          position: absolute;\n        }\n    }\n  }\n</style>\n","ul[role=menubar] {\n  margin: 0;\n  padding: 0;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n}\nul[role=menubar] li {\n  flex: 0 0 auto;\n  vertical-align: top;\n}\nul[role=menubar] li a {\n  cursor: pointer;\n}\nul[role=menubar] *[aria-hidden=true] {\n  display: none;\n}\nul[role=menubar] ul[role=menu] {\n  margin: 0;\n  padding: 0;\n}\nul[role=menubar] ul[role=menu][aria-hidden=false] {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n}\n\n/*# sourceMappingURL=AriaMenubar.vue.map */"]},media:void 0}),Object.defineProperty(this,"$style",{value:{}}))},A=void 0,k=void 0,C=void 0,O=m({},S,x,A,C,k,!1,v,void 0,void 0);function M(t,e){let n=e.split(".");while(t&&n.length>0){if("["===n[0][0]&&"]"===n[0][n[0].length-1]){let e=Number.parseInt(n[0].substring(1,n[0].length-1));e>=0&&e<t.length&&(t=t[e])}else t=t[n[0]];n=n.slice(1)}return t}let E=class extends r.Vue{constructor(){super(...arguments),this.addMenuItems=[{label:'<svg viewBox="0 0 24 24" aria-label="Add"><path d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" /></svg>',action:"add"}]}get localValue(){let t=M(this.value,this.config.path);if(!t){const e=this.config.path.split(".");"multi-row"===this.config.type&&(r.Vue.set(M(this.value,e.slice(0,e.length-1).join(".")),e[e.length-1],[]),t=M(this.value,this.config.path))}return t}set localValue(t){const e=this.config.path.split(".");1===e.length?r.Vue.set(this.value,e[0],t):r.Vue.set(M(this.value,e.slice(0,e.length-1).join(".")),e[e.length-1],t)}modifyMenuItems(t){return[{label:'<svg viewBox="0 0 24 24" aria-label="Move up"><path d="M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M16.59,15.71L12,11.12L7.41,15.71L6,14.29L12,8.29L18,14.29L16.59,15.71Z" /></svg>',action:"move-up:"+t,disabled:0===t},{label:'<svg viewBox="0 0 24 24" aria-label="Move down"><path d="M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M12,15.71L6,9.71L7.41,8.29L12,12.88L16.59,8.29L18,9.71L12,15.71Z" /></svg>',action:"move-down:"+t,disabled:t===this.localValue.length-1},{label:'<svg viewBox="0 0 24 24" aria-label="Delete"><path d="M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" /></svg>',action:"delete:"+t}]}menuAction(t){if("add"===t){let t={};this.config.entries&&this.config.entries.forEach(e=>{let n=e.path;"single-text"===e.type?t[n]="":"multi-row"===e.type?t[n]=[]:"multi-field"===e.type&&e.entries.forEach(e=>{let n=e.path;if("single-text"===e.type){const e=n.split(".");let r=t;for(let t=0;t<e.length;t++)t<e.length-1?(r[e[t]]={},r=r[e[t]]):r[e[t]]=""}else"multi-row"===e.type&&(t[n]=[])})}),this.localValue.push(t)}else if(0===t.indexOf("move-up:")){const e=Number.parseInt(t.substring(8)),n=this.localValue.splice(e,1);this.localValue.splice(e-1,0,n[0])}else if(0===t.indexOf("move-down:")){const e=Number.parseInt(t.substring(10)),n=this.localValue.splice(e+1,1);this.localValue.splice(e,0,n[0])}else 0===t.indexOf("delete:")&&this.localValue.splice(Number.parseInt(t.substring(7)),1)}};f([r.Prop()],E.prototype,"config",void 0),f([r.Prop()],E.prototype,"value",void 0),E=f([r.Component({components:{AriaMenubar:O},name:"metadata-field"})],E);var T=E;const _=T;var N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["single-text"==t.config.type?[n("label",[n("span",{staticClass:"label-text"},[t._v(t._s(t.config.label))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.localValue,expression:"localValue"}],attrs:{type:"text"},domProps:{value:t.localValue},on:{input:function(e){e.target.composing||(t.localValue=e.target.value)}}})])]:"multi-row"==t.config.type?[n("ol",{staticClass:"multi-row"},t._l(t.localValue,(function(e,r){return n("li",{key:r},[t._l(t.config.entries,(function(t,r){return n("metadata-field",{key:r,attrs:{config:t,value:e}})})),t._v(" "),n("aria-menubar",{attrs:{items:t.modifyMenuItems(r)},on:{action:t.menuAction}}),t._v(" "),n("aria-menubar",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.keyboardNav;return[n("ul",{attrs:{role:"menubar"}},[n("li",{attrs:{role:"presentation"}},[n("a",0===r?{attrs:{role:"menuitem","aria-disabled":!0}}:{attrs:{role:"menuitem",tabindex:1===t.value.length?null:0},on:{click:function(e){return t.menuAction("move-up:"+r)},keyup:i}},[n("svg",{attrs:{viewBox:"0 0 24 24","aria-label":"Move up"}},[n("path",{attrs:{d:"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M16.59,15.71L12,11.12L7.41,15.71L6,14.29L12,8.29L18,14.29L16.59,15.71Z"}})])])]),t._v(" "),n("li",{attrs:{role:"presentation"}},[r===t.localValue.length-1?n("a",{attrs:{role:"menuitem","aria-disabled":!0}},[n("svg",{attrs:{viewBox:"0 0 24 24","aria-label":"Move down"}},[n("path",{attrs:{d:"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M12,15.71L6,9.71L7.41,8.29L12,12.88L16.59,8.29L18,9.71L12,15.71Z"}})])]):n("a",{attrs:{role:"menuitem",tabindex:1===t.value.length?null:0},on:{click:function(e){return t.menuAction("move-down:"+r)},keyup:i}},[n("svg",{attrs:{viewBox:"0 0 24 24","aria-label":"Move down"}},[n("path",{attrs:{d:"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M12,15.71L6,9.71L7.41,8.29L12,12.88L16.59,8.29L18,9.71L12,15.71Z"}})])])]),t._v(" "),n("li",{attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:1===t.value.length?0:-1},on:{click:function(e){return t.menuAction("delete:"+r)},keyup:i}},[n("svg",{attrs:{viewBox:"0 0 24 24","aria-label":"Delete"}},[n("path",{attrs:{d:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"}})])])])])]}}],null,!0)})],2)})),0),t._v(" "),n("aria-menubar",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.keyboardNav;return[n("ul",{attrs:{role:"menubar"}},[n("li",{attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"0"},on:{click:function(e){return t.menuAction("add")},keyup:r}},[n("svg",{attrs:{viewBox:"0 0 24 24","aria-label":"Add"}},[n("path",{attrs:{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"}})])])])])]}}])})]:t._e(),t._v(" "),"multi-field"==t.config.type?[n("ol",{staticClass:"multi-field"},t._l(t.config.entries,(function(e,r){return n("li",{key:r},[n("metadata-field",{attrs:{config:e,value:t.value}})],1)})),0)]:t._e()],2)},R=[];N._withStripped=!0;const D=void 0,P=void 0,I=void 0,j=!1,$=m({render:N,staticRenderFns:R},D,_,P,j,I,!1,void 0,void 0,void 0);let L=class extends r.Vue{};f([r.Prop()],L.prototype,"config",void 0),f([r.Prop()],L.prototype,"value",void 0),L=f([r.Component({components:{MetadataField:$}})],L);var B=L;const F=B;var V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"metadata-editor"},t._l(t.config.ui,(function(e,r){return n("section",{key:r},[n("h2",[t._v(t._s(e.label))]),t._v(" "),t._l(e.entries,(function(e,r){return n("div",{key:r},[n("metadata-field",{attrs:{config:e,value:t.value}})],1)}))],2)})),0)},z=[];V._withStripped=!0;const H=void 0,U=void 0,W=void 0,q=!1,J=m({render:V,staticRenderFns:z},H,F,U,q,W,!1,void 0,void 0,void 0);function K(t){if(void 0!==t){if(null===t)return null;if(Array.isArray(t))return t.map(t=>K(t));if("object"===typeof t){let e={};return Object.keys(t).forEach((function(n){e[n]=K(t[n])})),e}return t}}function G(t){const e={doc:{content:"block+"}};return t.forEach(t=>{"block"===t.type?e[t.name]={content:"inline*",group:"block",attrs:t.attrs,parseDOM:[{tag:"div.node-"+t.name,node:t.name,getAttrs:e=>{let n={};return t.attrs&&Object.keys(t.attrs).forEach(t=>{let r=e.getAttribute("data-"+t);r&&(n[t]=r)}),n}}],toDOM:e=>{let n={class:"node-"+t.name};return Object.entries(e.attrs).forEach(([t,e])=>{n["data-"+t]=e}),["div",n,0]}}:"wrapping"===t.type?e[t.name]={content:t.content+"+",group:"block",attrs:t.attrs,parseDOM:[{tag:"div.node-"+t.name,getAttrs:e=>{let n={};return t.attrs&&Object.keys(t.attrs).forEach(t=>{let r=e.getAttribute("data-"+t);r&&(n[t]=r)}),n}}],toDOM:e=>{let n={class:"node-"+t.name};return Object.entries(e.attrs).forEach(([t,e])=>{n["data-"+t]=e}),["div",n,0]}}:"inline"===t.type&&"text"===t.name?e.text={group:"inline"}:"inline"===t.type&&"text"!==t.name&&(e[t.name]={content:"inline*",group:"inline",inline:!0,attrs:t.attrs,parseDOM:[{tag:"span.node-"+t.name,getAttrs:e=>{let n={};return t.attrs&&Object.keys(t.attrs).forEach(t=>{let r=e.getAttribute("data-"+t);r&&(n[t]=r)}),n}}],toDOM:e=>{let n={class:"node-"+t.name};return Object.entries(e.attrs).forEach(([t,e])=>{n["data-"+t]=e}),["span",n,0]}})}),e}function Y(t){const e={};return t.forEach(t=>{"mark"===t.type&&(e[t.name]={attrs:t.attrs,parseDOM:[{tag:"span.mark-"+t.name,getAttrs:e=>{let n={};return t.attrs&&Object.keys(t.attrs).forEach(t=>{let r=e.getAttribute("data-"+t);r&&(n[t]=r)}),n}}],toDOM:e=>{let n={class:"mark-"+t.name};return Object.entries(e.attrs).forEach(([t,e])=>{e&&(n["data-"+t]=e)}),["span",n,0]}})}),e}function X(t,e){if(!t||!e)return!1;const n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;const r=n.node.marks.find(t=>t.type===e);if(!r)return!1;let i=t.index(),o=t.start()+n.offset,s=i+1,a=o+n.node.nodeSize;while(i>0&&r.isInSet(t.parent.child(i-1).marks))i-=1,o-=t.parent.child(i).nodeSize;while(s<t.parent.childCount&&r.isInSet(t.parent.child(s).marks))a+=t.parent.child(s).nodeSize,s+=1;return{from:o,to:a}}function Z(t,e){return(n,r)=>{const{tr:i,selection:o,doc:s}=n;let{from:a,to:c}=o;const{$from:l,empty:u}=o;if(u){const e=X(l,t);e&&(a=e.from,c=e.to)}const h=s.rangeHasMark(a,c,t);return h&&i.removeMark(a,c,t),i.addMark(a,c,t.create(e)),r(i)}}function Q(t){return(e,n)=>{const{tr:r,selection:i,doc:o}=e;let{from:s,to:a}=i;const{$from:c,empty:l}=i;if(l){const e=X(c,t);e&&(s=e.from,a=e.to)}const u=o.rangeHasMark(s,a,t);if(u)return r.removeMark(s,a,t),n(r)}}function tt(t,e){return(n,r)=>{const i=u.findSelectedNodeOfType(t)(n.selection)||u.findParentNodeOfType(t)(n.selection);if(i){const o=n.tr.replaceRangeWith(i.pos,i.pos+i.node.nodeSize,t.create(e,i.node.content));r(o)}}}function et(t,e){return(n,r)=>{const{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;{let i=n.tr.setBlockType(s.$from.pos,s.$to.pos,e);i=i.wrap(s,[{type:t}]),r(i)}}}function nt(t){return(e,n)=>{const{$from:r,$to:i}=e.selection,o=r.blockRange(i),s=o&&h.liftTarget(o);if(!o||null===s||void 0===s)return!1;{let r=e.tr.lift(o,s);r=r.setBlockType(o.$from.pos,o.$to.pos,t),n(r)}}}function rt(t,e,n){for(let r=0;r<e.length;r++)if("wrapping"===e[r].type&&u.findParentNodeOfType(n.nodes[e[r].name])(t.selection))return!0;return!1}let it=class extends r.Vue{constructor(){super(...arguments),this.editor=null,this.nestedDoc=null,this.nestedSettings=null,this.stateDebounce=null,this.internalUpdate=!1,this.active={}}get editorSchema(){return new i.Schema({nodes:G(this.config.schema),marks:Y(this.config.schema)})}get editorPlugins(){return[c.history(),l.keymap({"Mod-z":c.undo,"Mod-y":c.redo}),l.keymap(a.baseKeymap)]}get doc(){return this.value?this.value.doc:null}get ui(){return this.nested?this.config.ui[this.nested.type]:this.config.ui.doc}get sidebar(){return this.ui.map(t=>({label:t.label,active:!t.condition||this.active[t.condition.activeType],entities:t.entities?t.entities.map(t=>({type:t.type,entities:t.entities.map((t,e)=>{const n={type:t.type,label:t.label,nodeType:t.nodeType||t.markType,attr:t.attr,value:t.value?t.value:"",values:[],checked:"false",tabindex:0===e?0:-1,ariaLabel:t.ariaLabel,targetNodeType:t.targetNodeType,min:void 0,max:void 0,step:void 0};return"setNodeType"===t.type?n.checked=t.nodeType&&this.active[t.nodeType]?"true":"false":"setNodeAttrValue"===t.type||"toggleNodeAttrValue"===t.type?n.checked=t.nodeType&&t.attr&&this.active[t.nodeType]&&this.active[t.nodeType][t.attr]===t.value?"true":"false":"selectNodeAttr"===t.type?n.values=t.values.map(e=>({value:e.value,label:e.label,checked:t.nodeType&&t.attr&&this.active[t.nodeType]&&this.active[t.nodeType][t.attr]===e.value?"selected":null})):"toggleMark"===t.type?n.checked=t.markType&&this.active[t.markType]?"true":"false":"selectMarkAttr"===t.type?n.values=t.values.map(e=>({value:e.value,label:e.label,checked:t.markType&&t.attr&&this.active[t.markType]&&this.active[t.markType][t.attr]===e.value?"selected":null})):"linkNestedDoc"===t.type?t.targetNodeType&&this.nestedDocIds[t.targetNodeType]&&(n.values=this.nestedDocIds[t.targetNodeType].map(e=>({value:e.value,label:e.label,checked:t.nodeType&&t.attr&&this.active[t.nodeType]&&this.active[t.nodeType][t.attr]===e.value?"selected":null}))):"setNodeAttrString"===t.type?n.value=t.nodeType&&this.active[t.nodeType]&&this.active[t.nodeType][t.attr]?this.active[t.nodeType][t.attr]:"":"setNodeAttrNumber"===t.type&&(n.value=t.nodeType&&this.active[t.nodeType]&&this.active[t.nodeType][t.attr]?this.active[t.nodeType][t.attr]:"",n.min=t.min,n.max=t.max,n.step=t.step),n})})):[]}))}get nestedDocIds(){let t={};return Object.entries(this.value.nested).forEach(([e,n])=>{t[e]=Object.keys(n).map(t=>({label:t,value:t})),t[e].splice(0,0,{label:"New",value:""})}),t}mounted(){this.editor=new s.EditorView(this.$el.querySelector(".editor"),{state:o.EditorState.create({schema:this.editorSchema,doc:this.doc?this.editorSchema.nodeFromJSON(this.doc):null,plugins:this.editorPlugins}),dispatchTransaction:t=>{if(this.editor){let e=this.editor.state.apply(t);this.stateChanged(e,t),this.editor.updateState(e)}}})}beforeDestroy(){this.editor&&this.editor.destroy()}updatedDoc(){!this.internalUpdate&&this.editor&&this.editor.updateState(o.EditorState.create({schema:this.editorSchema,doc:this.editorSchema.nodeFromJSON(this.doc),plugins:this.editorPlugins})),this.internalUpdate=!1}stateChanged(t,e){null!==this.stateDebounce&&clearTimeout(this.stateDebounce),this.stateDebounce=window.setTimeout(()=>{const{from:e,to:n,empty:r,$from:i}=t.selection,o={};if(t.doc.nodesBetween(e,n,t=>{o[t.type.name]=t.attrs,t.marks&&t.marks.forEach(t=>{t.attrs?o[t.type.name]=t.attrs:o[t.type.name]={}})}),r){o[i.parent.type.name]=i.parent.attrs;const e=t.selection;e&&e.$cursor&&e.$cursor.marks()&&e.$cursor.marks().forEach(t=>{t.attrs?o[t.type.name]=t.attrs:o[t.type.name]={}})}this.active=o,this.internalUpdate=!0,this.$emit("input",{doc:t.doc.toJSON(),nested:{...this.value.nested}})},e.steps.length>0?500:50)}menuAction(t,e){if(this.editor){if("setNodeType"===t.type&&t.nodeType)if(this.editorSchema.nodes[t.nodeType].isInline){const e=this.editor.state.selection.content();if(this.active[t.nodeType]){const n=e=>e.type.isBlock?this.editorSchema.nodes[e.type.name].create({},this.walkFragment(e.content,n)):e.type.isInline&&e.type.name===t.nodeType?this.editorSchema.text(e.textContent):e,r=this.walkFragment(e.content,n);this.editor.dispatch(this.editor.state.tr.replaceSelection(new i.Slice(r,e.openStart,e.openEnd)))}else{const n=e=>e.type.isBlock?this.editorSchema.nodes[e.type.name].create(e.attrs,this.walkFragment(e.content,n)):e.type.isText&&t.nodeType?this.editorSchema.nodes[t.nodeType].create({},e):e.type.isInline&&t.nodeType?this.editorSchema.nodes[t.nodeType].create(e.attrs,e.content):e,r=this.walkFragment(e.content,n);this.editor.dispatch(this.editor.state.tr.replaceSelection(new i.Slice(r,e.openStart,e.openEnd)))}}else if(this.isWrappingType(t.nodeType)){let e="";for(let n=0;n<this.config.schema.length;n++)this.config.schema[n].name===t.nodeType&&"wrapping"===this.config.schema[n].type&&(e=this.config.schema[n].content);et(this.editorSchema.nodes[t.nodeType],this.editorSchema.nodes[e])(this.editor.state,this.editor.dispatch)}else rt(this.editor.state,this.config.schema,this.editorSchema)?nt(this.editorSchema.nodes[t.nodeType])(this.editor.state,this.editor.dispatch):a.setBlockType(this.editorSchema.nodes[t.nodeType],{})(this.editor.state,this.editor.dispatch);else if("setNodeAttrValue"!==t.type&&"selectNodeAttr"!==t.type&&"setNodeAttrString"!==t.type&&"setNodeAttrNumber"!==t.type||!t.nodeType){if("toggleNodeAttrValue"===t.type&&t.nodeType){let e={};this.active[t.nodeType]&&(e=K(this.active[t.nodeType])),t.attr&&e[t.attr]===t.value?e[t.attr]="":t.value&&(e[t.attr]=t.value),this.editorSchema.nodes[t.nodeType].isInline?tt(this.editorSchema.nodes[t.nodeType],e)(this.editor.state,this.editor.dispatch):a.setBlockType(this.editorSchema.nodes[t.nodeType],e)(this.editor.state,this.editor.dispatch)}else if("toggleMark"===t.type&&t.nodeType)a.toggleMark(this.editorSchema.marks[t.nodeType])(this.editor.state,this.editor.dispatch);else if("selectMarkAttr"===t.type&&t.nodeType){let n={};this.active[t.nodeType]&&(n=K(this.active[t.nodeType])),t.attr&&(e&&e.target?n[t.attr]=e.target.value:t.value&&(n[t.attr]=t.value)),""===n[t.attr]?Q(this.editorSchema.marks[t.nodeType])(this.editor.state,this.editor.dispatch):Z(this.editorSchema.marks[t.nodeType],n)(this.editor.state,this.editor.dispatch)}else if("linkNestedDoc"===t.type&&t.nodeType){let n={};this.active[t.nodeType]&&(n=K(this.active[t.nodeType])),t.attr&&(e&&e.target?n[t.attr]=e.target.value:t.value&&(n[t.attr]=t.value)),tt(this.editorSchema.nodes[t.nodeType],n)(this.editor.state,this.editor.dispatch)}else if("editNestedDoc"===t.type&&t.nodeType&&t.attr&&t.targetNodeType&&this.active[t.nodeType]){let e=this.active[t.nodeType][t.attr];if(!e){this.value.nested[t.targetNodeType]||r.Vue.set(this.value.nested,t.targetNodeType,{});const n=this.value.nested[t.targetNodeType];e=t.targetNodeType+"-1";let i=1;while(n&&n[e])i+=1,e=t.targetNodeType+"-"+i;let o={};this.active[t.nodeType]&&(o=K(this.active[t.nodeType])),t.attr&&(o[t.attr]=e),tt(this.editorSchema.nodes[t.nodeType],o)(this.editor.state,this.editor.dispatch),r.Vue.set(this.value.nested[t.targetNodeType],e,{type:t.targetNodeType,attrs:{id:e},content:[{type:"doc",content:[{type:"paragraph",content:[]}]}],nestedDoc:!0})}this.nestedDoc={doc:this.value.nested[t.targetNodeType][e].content[0],nested:this.value.nested},this.nestedSettings={type:t.targetNodeType,id:e}}}else{let n={};this.active[t.nodeType]&&(n=K(this.active[t.nodeType])),t.attr&&(e&&e.target?n[t.attr]=e.target.value:t.value&&(n[t.attr]=t.value)),this.editorSchema.nodes[t.nodeType].isInline?tt(this.editorSchema.nodes[t.nodeType],n)(this.editor.state,this.editor.dispatch):a.setBlockType(this.editorSchema.nodes[t.nodeType],n)(this.editor.state,this.editor.dispatch)}this.editor.focus()}}closeNestedEditor(){if(this.editor&&this.nestedDoc){const t={doc:this.editor.state.doc.toJSON(),nested:{...this.value.nested}};t.nested[this.nestedSettings.type][this.nestedSettings.id].content[0]=this.nestedDoc.doc,this.$emit("input",t),this.nestedDoc=null,this.nestedSettings=null}}walkFragment(t,e){for(let n=0;n<t.childCount;n++)t=t.replaceChild(n,e(t.child(n)));return t}isWrappingType(t){for(let e=0;e<this.config.schema.length;e++)if(this.config.schema[e].name===t&&"wrapping"===this.config.schema[e].type)return!0;return!1}};f([r.Prop()],it.prototype,"config",void 0),f([r.Prop()],it.prototype,"value",void 0),f([r.Prop()],it.prototype,"nested",void 0),f([r.Watch("value")],it.prototype,"updatedDoc",null),it=f([r.Component({components:{AriaMenubar:O},name:"text-editor"})],it);var ot=it;const st=ot;var at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-editor"},[n("div",{staticClass:"editor"}),t._v(" "),n("aria-menubar",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.keyboardNav;return[n("div",{staticClass:"sidebar"},t._l(t.sidebar,(function(e,i){return n("div",{key:i,class:{"is-active":e.active}},[n("h2",[t._v(t._s(e.label))]),t._v(" "),t._l(e.entities,(function(e,i){return["list"===e.type?n("ul",{key:i},t._l(e.entities,(function(e,r){return n("li",{key:r,attrs:{role:"presentation"}},[n("label",[n("span",{domProps:{innerHTML:t._s(e.label)}}),t._v(" "),"setNodeAttrString"===e.type?n("input",{domProps:{value:e.value},on:{change:function(n){return t.menuAction(e,n)}}}):t._e()])])})),0):"menubar"===e.type?n("ul",{key:i,attrs:{role:"menubar"}},t._l(e.entities,(function(e,i){return n("li",{key:i,class:"separator"===e.type?"separator":null,attrs:{role:"presentation"}},["setNodeType"===e.type||"setNodeAttrValue"===e.type?n("a",{attrs:{role:"menuitem",tabindex:e.tabindex,"aria-label":e.ariaLabel,title:e.ariaLabel,"aria-checked":e.checked},domProps:{innerHTML:t._s(e.label)},on:{keyup:r,click:function(n){return t.menuAction(e)}}}):"selectNodeAttr"===e.type?n("select",{attrs:{role:"menuitem",tabindex:e.tabindex},on:{keyup:r,change:function(n){return t.menuAction(e,n)}}},t._l(e.values,(function(e){return n("option",{key:e.value,domProps:{value:e.value,selected:e.checked,innerHTML:t._s(e.label)}})})),0):"toggleNodeAttrValue"===e.type||"toggleMark"===e.type?n("a",{attrs:{role:"menuitem",tabindex:e.tabindex,"aria-label":e.ariaLabel,title:e.ariaLabel,"aria-checked":e.checked},domProps:{innerHTML:t._s(e.label)},on:{keyup:r,click:function(n){return t.menuAction(e)}}}):"selectMarkAttr"===e.type?n("select",{attrs:{role:"menuitem",tabindex:e.tabindex},on:{keyup:r,change:function(n){return t.menuAction(e,n)}}},t._l(e.values,(function(e){return n("option",{key:e.value,domProps:{value:e.value,selected:e.checked,innerHTML:t._s(e.label)}})})),0):"editNestedDoc"===e.type?n("a",{attrs:{role:"menuitem",tabindex:e.tabindex,"aria-label":e.ariaLabel,title:e.ariaLabel},domProps:{innerHTML:t._s(e.label)},on:{keyup:r,click:function(n){return t.menuAction(e)}}}):"closeNested"===e.type?n("a",{attrs:{role:"menuitem",tabindex:e.tabindex,"aria-label":e.ariaLabel,title:e.ariaLabel},domProps:{innerHTML:t._s(e.label)},on:{keyup:r,click:function(e){return t.$emit("close")}}}):"linkNestedDoc"===e.type?n("select",{attrs:{role:"menuitem",tabindex:e.tabindex},on:{keyup:r,change:function(n){return t.menuAction(e,n)}}},t._l(e.values,(function(e){return n("option",{key:e.value,domProps:{value:e.value,selected:e.checked,innerHTML:t._s(e.label)}})})),0):"setNodeAttrString"===e.type?n("label",[t._v(t._s(e.label)+"\n                                "),n("input",{attrs:{type:"text"},domProps:{value:e.value},on:{change:function(n){return t.menuAction(e,n)}}})]):"setNodeAttrNumber"===e.type?n("label",[t._v(t._s(e.label)+"\n                                "),n("input",{attrs:{type:"number",min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{change:function(n){return t.menuAction(e,n)}}})]):t._e()])})),0):t._e()]}))],2)})),0)]}}])}),t._v(" "),t.nestedDoc?n("div",{staticClass:"nested"},[n("text-editor",{attrs:{config:t.config,nested:t.nestedSettings},on:{close:t.closeNestedEditor},model:{value:t.nestedDoc,callback:function(e){t.nestedDoc=e},expression:"nestedDoc"}})],1):t._e()],1)},ct=[];at._withStripped=!0;const lt=void 0,ut=void 0,ht=void 0,ft=!1,dt=m({render:at,staticRenderFns:ct},lt,st,ut,ft,ht,!1,void 0,void 0,void 0);function pt(t){return"tei"===t?"http://www.tei-c.org/ns/1.0":"xml"===t?"http://www.w3.org/XML/1998/namespace":"http://www.tei-c.org/ns/1.0"}class mt{constructor(t){this.dom=t}evaluate(t,e,n){return this.dom.evaluate(e,t,pt,n,null)}firstNode(t,e){return this.evaluate(t,e,XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue}nodeIterator(t,e){return this.evaluate(t,e,XPathResult.ORDERED_NODE_ITERATOR_TYPE)}stringValue(t,e){return this.evaluate(t,e,XPathResult.STRING_TYPE).stringValue}booleanValue(t,e){return this.evaluate(t,e,XPathResult.BOOLEAN_TYPE).booleanValue}numberValue(t,e){return this.evaluate(t,e,XPathResult.NUMBER_TYPE).numberValue}}class gt{constructor(t,e){this.dom=t,this.xpath=new mt(this.dom),this.config=e}get(){if(!this.data){let t=this.xpath.firstNode(this.dom.documentElement,"/tei:TEI/tei:teiHeader");this.data={};for(let e=0;e<this.config.schema.length;e++){let n=this.parseHeaderNode(t,this.config.schema[e]);n&&(this.data[this.config.schema[e].tag.substring(4)]=n)}}return this.data}parseHeaderNode(t,e){let n=this.xpath.nodeIterator(t,e.tag),r=[],i=n.iterateNext();while(i){let t={_attrs:{},_text:0===i.children.length?this.xpath.stringValue(i,"text()"):null};for(let e=0;e<i.attributes.length;e++)t._attrs[i.attributes[e].name]=i.attributes[e].value;if(e.children)for(let n=0;n<e.children.length;n++){let r=this.parseHeaderNode(i,e.children[n]);r&&(t[e.children[n].tag.substring(e.children[n].tag.indexOf(":")+1)]=r)}r.push(t),i=n.iterateNext()}return 0===r.length?null:e.multiple?r:r[0]}}class vt{constructor(t,e){this.dom=t,this.xpath=new mt(this.dom),this.config=e}get(){if(!this.doc&&(this.doc={type:"doc",content:[]},this.nestedDocs={},this.config.parser&&this.config.parser.selector)){let t=this.xpath.firstNode(this.dom.documentElement,this.config.parser.selector);if(t)for(let e=0;e<t.children.length;e++){let n=this.parseContentNode(t.children[e],this.config);n&&!n.nestedDoc?this.doc.content.push(n):n&&n.nestedDoc&&this.addNestedDoc(n)}}return 0===this.doc.content.length?[null,{}]:[this.doc,this.nestedDocs]}parseContentAttributes(t,e){let n={};return Object.entries(e).forEach(([e,r])=>{let i=[];r.parser?i.push(r.parser):r.parsers&&(i=r.parsers);for(let s=0;s<i.length;s++){let r=i[s];if("boolean"===r.type)n[e]=this.xpath.booleanValue(t,r.selector);else if("number"===r.type)try{n[e]=this.xpath.numberValue(t,r.selector)}catch(o){console.log(o)}else if("static"===r.type)this.xpath.booleanValue(t,r.selector)&&(n[e]=r.value);else try{let i=this.xpath.stringValue(t,r.selector);i&&(n[e]=i)}catch(o){console.log(o)}}}),n}parseContentMarks(t,e){let n=[];return e.forEach(e=>{if("mark"===e.type){let r=[];e.parser?r.push(e.parser):e.parsers&&(r=e.parsers);for(let i=0;i<r.length;i++)if(this.xpath.booleanValue(t,r[i].selector)){let r={type:e.name};e.attrs&&(r.attrs=this.parseContentAttributes(t,e.attrs)),n.push(r)}}}),n}parseContentNode(t,e){let n=Object.entries(e.schema);for(let r=0;r<n.length;r++){let i=n[r][1],o=[];i.parser?o.push(i.parser):i.parsers&&(o=o.concat(i.parsers));for(let n=0;n<o.length;n++){let r=o[n];if(null!==this.xpath.firstNode(t,"self::"+r.selector)){let n={type:i.name};if(i.attrs&&(n.attrs=this.parseContentAttributes(t,i.attrs)),"nested"===i.type&&(n.nestedDoc=!0),"inline"===i.type)if("text"===i.name){if(n.text=this.xpath.stringValue(t,r.text),n.marks=this.parseContentMarks(t,e.schema),1===t.children.length){let r=this.parseContentNode(t.children[0],e);r.text&&""!==r.text&&(n.text=r.text),n.marks=n.marks.concat(r.marks)}}else if(0===t.children.length)this.xpath.stringValue(t,r.text)&&(n.content=[{type:"text",text:this.xpath.stringValue(t,r.text),marks:this.parseContentMarks(t,e.schema)}]);else{let r=[];for(let n=0;n<t.children.length;n++){let i=this.parseContentNode(t.children[n],e);i&&r.push(i)}n.content=r}else{let r=[];for(let n=0;n<t.children.length;n++){let i=this.parseContentNode(t.children[n],e);i&&!i.nestedDoc?r.push(i):i&&i.nestedDoc&&this.addNestedDoc(i)}n.content=r}return n}}}return null}addNestedDoc(t){if(t.attrs&&t.attrs.id){this.nestedDocs[t.type]||(this.nestedDocs[t.type]={}),this.nestedDocs[t.type][t.attrs.id]=t;let e={type:"doc",content:t.content};t.content=[e]}}}class yt{serialise(t,e){let n={node:"tei:TEI",attrs:{"xmlns:tei":["http://www.tei-c.org/ns/1.0"]},children:[]};Object.entries(e).forEach(([e,r])=>{"MetadataEditor"===r.type&&this.mergeTrees(n,this.serialiseHeader(t[e],r))}),Object.entries(e).forEach(([e,r])=>{"TextEditor"===r.type&&this.mergeTrees(n,this.serialiseSingleText(t[e],r))});let r=this.toString(n,"");return r.splice(0,0,'<?xml version="1.0" encoding="UTF-8"?>'),r.push(""),r.join("\n")}mergeTrees(t,e){if(t&&e)for(let n=0;n<e.children.length;n++){let r=!1;for(let i=0;i<t.children.length;i++)t.children[i].node===e.children[n].node&&this.objectsMatch(t.children[i].attrs,e.children[n].attrs)&&(this.mergeTrees(t.children[i],e.children[n]),r=!0);r||t.children.push(e.children[n])}}objectsMatch(t,e){if(t&&e){if(typeof t!==typeof e)return!1;if("string"===typeof t||"number"===typeof t||"boolean"===typeof t)return t===e;let n=Object.keys(t),r=Object.keys(e);return n.forEach(n=>!(r.indexOf(n)<0)&&(!!this.objectsMatch(t[n],e[n])&&void r.splice(r.indexOf(n),1))),!(r.length>0)}return!t&&!e}serialiseSingleText(t,e){if(t&&t.doc){let n=e.serialiser.tag.split("/");this.nested={};let r={node:n[n.length-1],children:t.doc.content.map(t=>this.serialiseTextNode(t,e.schema)),attrs:{}};e.serialiser.attrs&&Object.entries(e.serialiser.attrs).forEach(([t,e])=>{r.attrs[t]?r.attrs[t].push(e):r.attrs[t]=[e]}),Object.entries(this.nested).forEach(([n,i])=>{new Set(i).forEach(i=>{t.nested[n]&&t.nested[n][i]&&r.children.push(this.serialiseTextNode(t.nested[n][i],e.schema))})});for(let t=n.length-2;t>=0;t--)r={node:n[t],children:[r]};return{node:"tei:TEI",children:[r]}}return null}serialiseTextNode(t,e){let n=e.filter(e=>e.name===t.type&&e.serialiser);if(1===n.length){n=n[0];let r={node:n.serialiser.tag,attrs:{},children:[],text:null};if(n.serialiser.attrs&&Object.entries(n.serialiser.attrs).forEach(t=>{r.attrs[t[0]]=[t[1]]}),t.attrs&&Object.entries(t.attrs).forEach(t=>{let e=n.attrs[t[0]].serialiser;if(e){let n=void 0;e.values?e.values[t[1]]&&(n=e.values[t[1]]):n=e.value?e.value.replace("{value}",t[1]):t[1],void 0!==n&&("text()"===e.attr?r.text=n:r.attrs[e.attr]?r.attrs[e.attr].push(n):r.attrs[e.attr]=[n])}}),"inline"===n.type){if(t.content)if(t.content.length>1||t.content[0].marks&&t.content[0].marks.length>0)t.content.forEach(t=>{r.children.push(this.serialiseTextNode(t,e))});else{let i=this.serialiseTextNode(t.content[0],e);n.serialiser.text?r.attrs[n.serialiser.text.attr]?r.attrs[n.serialiser.text.attr].push(i.text):r.attrs[n.serialiser.text.attr]=[i.text]:r.text=i.text}else t.text&&(n.serialiser.text?r.attrs[n.serialiser.text.attr]?r.attrs[n.serialiser.text.attr].push(t.text):r.attrs[n.serialiser.text.attr]=[t.text]:r.text=t.text);if(t.marks){let n=t.marks.map(t=>{let n=e.filter(e=>e.name===t.type&&e.serialiser);if(1===n.length){n=n[0];let e={node:r.node,attrs:{}},i=n.serialiser;return i.tag&&(e.node=i.tag),i.attrs&&Object.entries(i.attrs).forEach(t=>{t[1].value&&(e.attrs[t[0]]?e.attrs[t[0]].push(t[1].value):e.attrs[t[0]]=[t[1].value])}),t.attrs&&Object.entries(t.attrs).forEach(t=>{let r=void 0;n.attrs[t[0]].serialiser.value?r=n.attrs[t[0]].serialiser.value.replace("{value}",t[1]):n.attrs[t[0]].serialiser.values&&n.attrs[t[0]].serialiser.values[t[1]]&&(r=n.attrs[t[0]].serialiser.values[t[1]]),void 0!==r&&(e.attrs[n.attrs[t[0]].serialiser.attr]?e.attrs[n.attrs[t[0]].serialiser.attr].push(r):e.attrs[n.attrs[t[0]].serialiser.attr]=[r])}),e}return null}).filter(t=>t);if(new Set(n.map(t=>t.node)).size>1){n.sort((t,e)=>t.node<e.node?-1:t.node>e.node?1:t.node===e.node?0:void 0);let t=r;t.node=null,n.forEach(e=>{if(null===t.node||t.node===e.node)t.node=e.node,Object.entries(e.attrs).forEach(e=>{t.attrs[e[0]]?t.attrs[e[0]]=t.attrs[e[0]].concat(e[1]):t.attrs[e[0]]=e[1]});else{let n={node:e.node,attrs:e.attrs,children:[],text:t.text};t.text=null,t.children.push(n),t=n}})}else n.forEach(t=>{t&&(t.node&&(r.node=t.node),t.attrs&&Object.entries(t.attrs).forEach(t=>{r.attrs[t[0]]?r.attrs[t[0]]=r.attrs[t[0]].concat(t[1]):r.attrs[t[0]]=t[1]}))})}}else t.content&&t.content.forEach(t=>{"doc"===t.type?t.content&&t.content.forEach(t=>{r.children.push(this.serialiseTextNode(t,e))}):r.children.push(this.serialiseTextNode(t,e))});return n.reference&&(this.nested[n.reference.type]||(this.nested[n.reference.type]=[]),this.nested[n.reference.type].push(t.attrs[n.reference.attr])),r.children.length>0||r.text||Object.keys(r.attrs).length>0?r:null}return null}serialiseHeader(t,e){return{node:"tei:TEI",children:[{node:"tei:teiHeader",children:e.schema.map(e=>this.serialiseMetadataNode(t[e.tag.substring(4)],e))}]}}serialiseMetadataNode(t,e){if(e.multiple){let n=t.map(t=>{let n={node:e.tag};if(t._text&&(n.text=t._text),t._attrs&&(n.attrs={},Object.entries(t._attrs).forEach(t=>{n.attrs[t[0]]=[t[1]]})),e.children){n.children=[];for(let r=0;r<e.children.length;r++)if(t[e.children[r].tag.substring(4)]){let i=this.serialiseMetadataNode(t[e.children[r].tag.substring(4)],e.children[r]);Array.isArray(i)?n.children=n.children.concat(i):n.children.push(i)}}return n});return n}{let n={node:e.tag};if(t&&(t._text&&(n.text=t._text),t._attrs&&(n.attrs={},Object.entries(t._attrs).forEach(t=>{n.attrs[t[0]]=[t[1]]})),e.children)){n.children=[];for(let r=0;r<e.children.length;r++)if(t[e.children[r].tag.substring(4)]){let i=this.serialiseMetadataNode(t[e.children[r].tag.substring(4)],e.children[r]);Array.isArray(i)?n.children=n.children.concat(i):n.children.push(i)}}return n}}toString(t,e){function n(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}let r=[];if(t){let i=[e,"<",t.node];t.attrs&&Object.entries(t.attrs).forEach(t=>{t[1].length>0&&(t[1].sort(),i.push(" "+t[0]+'="'+n(t[1].join(" "))+'"'))}),t.children&&t.children.length>0?(i.push(">"),r.push(i.join("")),t.children.forEach(t=>{r=r.concat(this.toString(t,e+"  "))}),r.push(e+"</"+t.node+">")):(t.text?(i.push(">"),i.push(n(t.text)),i.push("</"+t.node+">")):i.push("/>"),r.push(i.join("")))}return r}}let bt=class extends r.Vue{constructor(){super(...arguments),this.currentSection=null,this.textData={},this.metadata={}}mounted(){this.currentSection=Object.keys(this.config.sections)[0],this.autoLoadCallback&&this.autoLoadCallback(this.loadData)}setCurrentSection(t){this.currentSection=t}save(){const t=new yt,e={metadata:this.metadata,...this.textData};this.$emit("save",t.serialise(e,this.config.sections))}load(){this.loadCallback&&this.loadCallback(this.loadData)}loadData(t){const e=new DOMParser,n=e.parseFromString(t,"application/xml");this.metadata={},this.textData={},Object.entries(this.config.sections).forEach(([t,e])=>{if("MetadataEditor"===e.type)this.metadata=new gt(n,e).get();else if("TextEditor"===e.type){const[i,o]=new vt(n,e).get();r.Vue.set(this.textData,t,{doc:i,nested:o})}})}};f([r.Prop()],bt.prototype,"config",void 0),f([r.Prop()],bt.prototype,"autoLoadCallback",void 0),f([r.Prop()],bt.prototype,"loadCallback",void 0),bt=f([r.Component({components:{AriaMenubar:O,TextEditor:dt,MetadataEditor:J}})],bt);var wt=bt;const xt=wt;var St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tei-editor"}},[n("nav",[n("aria-menubar",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.keyboardNav,i=e.mouseClickNav;return[n("ul",{attrs:{role:"menubar"}},[t.loadCallback?n("li",{attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1"},on:{click:function(e){i(e),t.load()},keyup:r}},[t._v("Load")])]):t._e(),t._v(" "),n("li",{attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1"},on:{click:function(e){i(e),t.save()},keyup:r}},[t._v("Save")])]),t._v(" "),t._l(t.config.sections,(function(e,o,s){return n("li",{key:s,attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1","aria-checked":o===t.currentSection?"true":"false"},on:{click:function(e){i(e),t.setCurrentSection(o)},keyup:r}},[t._v(t._s(e.label))])])}))],2)]}}])})],1),t._v(" "),n("div",[t._l(t.config.sections,(function(e,r,i){return[r===t.currentSection?["MetadataEditor"===e.type?n("metadata-editor",{key:i,attrs:{config:e,value:t.metadata}}):t._e(),t._v(" "),"TextEditor"===e.type?n("text-editor",{key:i,attrs:{config:e},model:{value:t.textData[r],callback:function(e){t.$set(t.textData,r,e)},expression:"textData[key]"}}):t._e()]:t._e()]}))],2)])},At=[];St._withStripped=!0;const kt=function(t){t&&t("data-v-a64ffc68_0",{source:"#tei-editor {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-height: 100%;\n}\n#tei-editor > nav {\n  flex: 0 0 auto;\n}\n#tei-editor > div {\n  flex: 1 1 auto;\n  overflow: auto;\n}\n#tei-editor svg {\n  width: 24px;\n  height: 24px;\n}\n#tei-editor ol, #tei-editor ul {\n  margin: 0;\n  padding: 0;\n}\n#tei-editor ol.multi-row > li, #tei-editor ul.multi-row > li {\n  display: flex;\n  flex-direction: row;\n}\n#tei-editor ol.multi-row > li > div, #tei-editor ul.multi-row > li > div {\n  flex: 1 1 auto;\n}\n#tei-editor ol.multi-row > li > ul, #tei-editor ul.multi-row > li > ul {\n  flex: 0 0 auto;\n}\n#tei-editor ol.multi-field, #tei-editor ul.multi-field {\n  display: flex;\n  flex-direction: row;\n}\n#tei-editor ol.multi-field > li, #tei-editor ul.multi-field > li {\n  flex: 1 1 auto;\n}\n#tei-editor ol li, #tei-editor ul li {\n  list-style-type: none;\n}\n#tei-editor .text-editor {\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  width: 100%;\n  position: relative;\n}\n#tei-editor .text-editor > div:nth-child(1) {\n  flex: 1 1 auto;\n  overflow-y: auto;\n}\n#tei-editor .text-editor > div.sidebar {\n  flex: 0 0 auto;\n  overflow-y: auto;\n}\n#tei-editor .text-editor > div.sidebar > div {\n  display: none;\n}\n#tei-editor .text-editor > div.sidebar > div.is-active {\n  display: block;\n}\n#tei-editor .text-editor > div.nested {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n/*# sourceMappingURL=TeiEditor.vue.map */",map:{version:3,sources:["/home/runner/work/tei-editor/tei-editor/src/components/TeiEditor.vue","TeiEditor.vue"],names:[],mappings:"AA+HA;EACA,aAAA;EACA,sBAAA;EACA,YAAA;EACA,gBAAA;AC9HA;ADgIA;EACA,cAAA;AC9HA;ADiIA;EACA,cAAA;EACA,cAAA;AC/HA;ADkIA;EACA,WAAA;EACA,YAAA;AChIA;ADmIA;EACA,SAAA;EACA,UAAA;ACjIA;ADoIA;EACA,aAAA;EACA,mBAAA;AClIA;ADoIA;EACA,cAAA;AClIA;ADqIA;EACA,cAAA;ACnIA;ADwIA;EACA,aAAA;EACA,mBAAA;ACtIA;ADwIA;EACA,cAAA;ACtIA;AD0IA;EACA,qBAAA;ACxIA;AD4IA;EACA,aAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;AC1IA;AD4IA;EACA,cAAA;EACA,gBAAA;AC1IA;AD6IA;EACA,cAAA;EACA,gBAAA;AC3IA;AD6IA;EACA,aAAA;AC3IA;AD6IA;EACA,cAAA;AC3IA;ADgJA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;AC9IA;;AAEA,wCAAwC",file:"TeiEditor.vue",sourcesContent:['<template>\n    <div id="tei-editor">\n        <nav>\n            <aria-menubar v-slot="{ keyboardNav, mouseClickNav }">\n                <ul role="menubar">\n                    <li v-if="loadCallback" role="presentation">\n                        <a role="menuitem" tabindex="-1" @click="mouseClickNav($event); load()" @keyup="keyboardNav">Load</a>\n                    </li>\n                    <li role="presentation">\n                        <a role="menuitem" tabindex="-1" @click="mouseClickNav($event); save()" @keyup="keyboardNav">Save</a>\n                    </li>\n                    <li v-for="(section, key, idx) in config.sections" :key="idx" role="presentation">\n                        <a role="menuitem" tabindex="-1" :aria-checked="(key === currentSection) ? \'true\' : \'false\'" @click="mouseClickNav($event); setCurrentSection(key)" @keyup="keyboardNav">{{ section.label }}</a>\n                    </li>\n                </ul>\n            </aria-menubar>\n        </nav>\n        <div>\n            <template v-for="(section, key, index) in config.sections">\n                <template v-if="key === currentSection">\n                    <metadata-editor v-if="section.type === \'MetadataEditor\'" :key="index" :config="section" :value="metadata"></metadata-editor>\n                    <text-editor v-if="section.type === \'TextEditor\'" :key="index" :config="section" v-model="textData[key]"></text-editor>\n                </template>\n            </template>\n        </div>\n    </div>\n</template>\n\n<script lang="ts">\nimport { Component, Vue, Prop, Watch } from \'vue-property-decorator\';\n\nimport AriaMenubar from \'./AriaMenubar.vue\';\nimport MetadataEditor from \'./MetadataEditor.vue\';\nimport TextEditor from \'./TextEditor.vue\';\n\nimport TEIMetadataParser from \'../util/TEIMetadataParser\';\nimport TEITextParser from \'../util/TEITextParser\';\nimport TEISeraliser from \'../util/TEISerialiser\';\n\nimport { Config, TextDocsStore, TextSection, MetadataSection } from \'../interfaces\';\n\n/**\n * The TeiEditor component provides the full editor interface, for both text and metadata editing.\n */\n@Component({\n    components: {\n        AriaMenubar,\n        TextEditor,\n        MetadataEditor,\n    },\n})\nexport default class TeiEditor extends Vue {\n    @Prop() public config!: Config;\n    @Prop() public autoLoadCallback!: (callback: (data: string) => void) => void;\n    @Prop() public loadCallback!: (callback: (data: string) => void) => void;\n    public currentSection: string | null = null;\n    public textData = {} as TextDocsStore;\n    public metadata = {};\n\n    // ================\n    // Lifecycle events\n    // ================\n\n    /**\n     * Mount the component, initialising the current section and automatically loading any content.\n     */\n    public mounted() {\n        this.currentSection = Object.keys(this.config.sections)[0];\n        if (this.autoLoadCallback) {\n            this.autoLoadCallback(this.loadData);\n        }\n    }\n\n    // ==============\n    // Event handlers\n    // ==============\n\n    /**\n     * Set the currently selected section.\n     */\n    public setCurrentSection(section: string) {\n        this.currentSection = section;\n    }\n\n    /**\n     * Save the current state of the various sections and emit the serialised data via the "save" event.\n     */\n    public save() {\n        const serialiser = new TEISeraliser();\n        const data = { metadata: this.metadata, ... this.textData};\n        this.$emit(\'save\', serialiser.serialise(data, this.config.sections));\n    }\n\n    /**\n     * Load the editor state via the configured loadCallback.\n     */\n    public load() {\n        if (this.loadCallback) {\n            this.loadCallback(this.loadData);\n        }\n    }\n\n    /**\n     * Handler to load the actual data.\n     */\n    public loadData(data: string) {\n        const domParser = new DOMParser();\n        const dom = domParser.parseFromString(data, \'application/xml\');\n        this.metadata = {};\n        this.textData = {};\n        Object.entries(this.config.sections).forEach(([key, config]: [string, TextSection | MetadataSection]) => {\n            if (config.type === \'MetadataEditor\') {\n                this.metadata = (new TEIMetadataParser(dom, config)).get();\n            } else if (config.type === \'TextEditor\') {\n                const [doc, nestedDocs] = (new TEITextParser(dom, config)).get();\n                Vue.set(this.textData, key, {\n                    doc: doc,\n                    nested: nestedDocs,\n                });\n            }\n        });\n    }\n\n}\n<\/script>\n\n<style lang="scss">\n#tei-editor {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-height: 100%;\n\n  > nav {\n      flex: 0 0 auto;\n  }\n\n  > div {\n      flex: 1 1 auto;\n      overflow: auto;\n  }\n\n  svg {\n      width: 24px;\n      height: 24px;\n  }\n\n  ol, ul {\n      margin: 0;\n      padding: 0;\n\n      &.multi-row {\n          > li {\n              display: flex;\n              flex-direction: row;\n\n              > div {\n                  flex: 1 1 auto;\n              }\n\n              > ul {\n                  flex: 0 0 auto;\n              }\n          }\n      }\n\n      &.multi-field {\n          display: flex;\n          flex-direction: row;\n\n          > li {\n              flex: 1 1 auto;\n          }\n      }\n\n      li {\n          list-style-type: none;\n      }\n  }\n\n  .text-editor {\n      display: flex;\n      flex-direction: row;\n      height: 100%;\n      width: 100%;\n      position: relative;\n\n      > div:nth-child(1) {\n          flex: 1 1 auto;\n          overflow-y: auto;\n      }\n\n      > div.sidebar {\n          flex: 0 0 auto;\n          overflow-y: auto;\n\n          > div {\n              display: none;\n\n              &.is-active {\n                  display: block;\n              }\n          }\n      }\n\n      > div.nested {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n      }\n  }\n}\n</style>\n',"#tei-editor {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-height: 100%;\n}\n#tei-editor > nav {\n  flex: 0 0 auto;\n}\n#tei-editor > div {\n  flex: 1 1 auto;\n  overflow: auto;\n}\n#tei-editor svg {\n  width: 24px;\n  height: 24px;\n}\n#tei-editor ol, #tei-editor ul {\n  margin: 0;\n  padding: 0;\n}\n#tei-editor ol.multi-row > li, #tei-editor ul.multi-row > li {\n  display: flex;\n  flex-direction: row;\n}\n#tei-editor ol.multi-row > li > div, #tei-editor ul.multi-row > li > div {\n  flex: 1 1 auto;\n}\n#tei-editor ol.multi-row > li > ul, #tei-editor ul.multi-row > li > ul {\n  flex: 0 0 auto;\n}\n#tei-editor ol.multi-field, #tei-editor ul.multi-field {\n  display: flex;\n  flex-direction: row;\n}\n#tei-editor ol.multi-field > li, #tei-editor ul.multi-field > li {\n  flex: 1 1 auto;\n}\n#tei-editor ol li, #tei-editor ul li {\n  list-style-type: none;\n}\n#tei-editor .text-editor {\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  width: 100%;\n  position: relative;\n}\n#tei-editor .text-editor > div:nth-child(1) {\n  flex: 1 1 auto;\n  overflow-y: auto;\n}\n#tei-editor .text-editor > div.sidebar {\n  flex: 0 0 auto;\n  overflow-y: auto;\n}\n#tei-editor .text-editor > div.sidebar > div {\n  display: none;\n}\n#tei-editor .text-editor > div.sidebar > div.is-active {\n  display: block;\n}\n#tei-editor .text-editor > div.nested {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n/*# sourceMappingURL=TeiEditor.vue.map */"]},media:void 0})},Ct=void 0,Ot=void 0,Mt=!1,Et=m({render:St,staticRenderFns:At},kt,xt,Ct,Mt,Ot,!1,v,void 0,void 0);e.TeiEditor=Et},c345:function(t,e,n){"use strict";var r=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},c401:function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},c430:function(t,e){t.exports=!1},c532:function(t,e,n){"use strict";var r=n("1d2b"),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return"undefined"===typeof t}function a(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function c(t){return"[object ArrayBuffer]"===i.call(t)}function l(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function h(t){return"string"===typeof t}function f(t){return"number"===typeof t}function d(t){return null!==t&&"object"===typeof t}function p(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function m(t){return"[object Date]"===i.call(t)}function g(t){return"[object File]"===i.call(t)}function v(t){return"[object Blob]"===i.call(t)}function y(t){return"[object Function]"===i.call(t)}function b(t){return d(t)&&y(t.pipe)}function w(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function x(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function S(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function A(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function k(){var t={};function e(e,n){p(t[n])&&p(e)?t[n]=k(t[n],e):p(e)?t[n]=k({},e):o(e)?t[n]=e.slice():t[n]=e}for(var n=0,r=arguments.length;n<r;n++)A(arguments[n],e);return t}function C(t,e,n){return A(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t}function O(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}t.exports={isArray:o,isArrayBuffer:c,isBuffer:a,isFormData:l,isArrayBufferView:u,isString:h,isNumber:f,isObject:d,isPlainObject:p,isUndefined:s,isDate:m,isFile:g,isBlob:v,isFunction:y,isStream:b,isURLSearchParams:w,isStandardBrowserEnv:S,forEach:A,merge:k,extend:C,trim:x,stripBOM:O}},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},c8af:function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},c975:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,o=n("a640"),s=n("ae40"),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?a.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},ca84:function(t,e,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)!r(s,n)&&r(a,n)&&l.push(n);while(e.length>c)r(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},cc12:function(t,e,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},cca6:function(t,e,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(t,e,n){var r=n("825a"),i=n("861d"),o=n("f069");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),s=n.resolve;return s(e),n.promise}},ce4e:function(t,e,n){var r=n("da84"),i=n("9112");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},cee4:function(t,e,n){"use strict";var r=n("c532"),i=n("1d2b"),o=n("0a06"),s=n("4a7b"),a=n("2444");function c(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var l=c(a);l.Axios=o,l.create=function(t){return c(s(l.defaults,t))},l.Cancel=n("7a77"),l.CancelToken=n("8df4"),l.isCancel=n("2e67"),l.all=function(t){return Promise.all(t)},l.spread=n("0df6"),t.exports=l,t.exports.default=l},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("428f"),i=n("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},d28b:function(t,e,n){var r=n("746f");r("iterator")},d2bb:function(t,e,n){var r=n("825a"),i=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(t,e,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(t,e,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},d4ec:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},d58f:function(t,e,n){var r=n("1c0b"),i=n("7b0b"),o=n("44ad"),s=n("50c4"),a=function(t){return function(e,n,a,c){r(n);var l=i(e),u=o(l),h=s(l.length),f=t?h-1:0,d=t?-1:1;if(a<2)while(1){if(f in u){c=u[f],f+=d;break}if(f+=d,t?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=d)f in u&&(c=n(c,u[f],f,l));return c}};t.exports={left:a(!1),right:a(!0)}},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),s=n("9263"),a=n("9112"),c=o("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),f=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var p=o(t),m=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=m&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!m||!g||"replace"===t&&(!l||!u||f)||"split"===t&&!d){var v=/./[p],y=n(p,""[t],(function(t,e,n,r,i){return e.exec===s?m&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],w=y[1];r(String.prototype,t,b),r(RegExp.prototype,p,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}h&&a(RegExp.prototype[p],"sham",!0)}},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=n("ae40"),a=o("map"),c=s("map");r({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d925:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},dd8b:function(t,e,n){"use strict";n.d(e,"a",(function(){return At})),n.d(e,"b",(function(){return Ut})),n.d(e,"c",(function(){return sr})),n.d(e,"d",(function(){return br})),n.d(e,"e",(function(){return jt}));var r=n("742d"),i=n("ae49");class o{eq(t){return this==t}range(t,e=t){return new s(t,e,this)}}o.prototype.startSide=o.prototype.endSide=0,o.prototype.point=!1,o.prototype.mapMode=r["g"].TrackDel;class s{constructor(t,e,n){this.from=t,this.to=e,this.value=n}}function a(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}const c=250,l=500,u=1e9;class h{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n=e*u,r=0){if(t<=0)return r;let i=e<0?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,a=i[r]-t||(e<0?this.value[r].startSide:this.value[r].endSide)-n;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1),o=this.findIndex(n,1,void 0,i);i<o;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let c,l,u=this.value[a],h=this.from[a]+t,f=this.to[a]+t;if(h==f){let t=e.mapPos(h,u.startSide,u.mapMode);if(t<0)continue;c=l=t}else if(c=e.mapPos(h,u.startSide),l=e.mapPos(f,u.endSide),c>l||c==l&&u.startSide>0&&u.endSide<=0)continue;(l-c||u.endSide-u.startSide)<0||(o<0&&(o=c),u.point&&(s=Math.max(s,l-c)),n.push(u),r.push(c-o),i.push(l-o))}return{mapped:n.length?new h(r,i,n,s):null,pos:o}}}class f{constructor(t,e,n=f.empty,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this==f.empty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filter:r,filterFrom:i=0,filterTo:o=this.length}=t;if(0==e.length&&!r)return this;if(n&&e.slice().sort(a),this==f.empty)return e.length?f.of(e):this;let c=new m(this,null,-1).goto(0),l=0,u=[],h=new d;while(c.value||l<e.length)if(l<e.length&&(c.from-e[l].from||c.startSide-e[l].value.startSide)>=0){let t=e[l++];h.addInner(t.from,t.to,t.value)||u.push(t)}else 1==c.rangeIndex&&c.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(c.chunkIndex)<e[l].from)&&(!r||i>this.chunkEnd(c.chunkIndex)||o<this.chunkPos[c.chunkIndex])&&h.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!r||i>c.to||o<c.from||r(c.from,c.to,c.value))&&(h.addInner(c.from,c.to,c.value)||u.push(new s(c.from,c.to,c.value))),c.next());return h.finishInner(this.nextLayer!=f.empty||u.length?this.nextLayer.update({add:u,filter:r,filterFrom:i,filterTo:o}):f.empty)}map(t){if(0==t.length||this==f.empty)return this;let e=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],s=this.chunk[o],a=t.touchesRange(i,i+s.length);if(!1===a)r=Math.max(r,s.maxPoint),e.push(s),n.push(t.mapPos(i));else if(!0===a){let{mapped:o,pos:a}=s.map(i,t);o&&(r=Math.max(r,o.maxPoint),e.push(o),n.push(a))}}let i=this.nextLayer.map(t);return 0==e.length?i:new f(n,e,i,r)}between(t,e,n){if(this!=f.empty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(e>=i&&t<=i+o.length&&!1===o.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return g.from([this]).goto(t)}static iter(t,e=0){return g.from(t).goto(e)}static compare(t,e,n,r){var i;let o=null!==(i=r.minPointSize)&&void 0!==i?i:-1,s=t.filter(t=>t.maxPoint>=l||t!=f.empty&&e.indexOf(t)<0&&t.maxPoint>=o),a=e.filter(e=>e.maxPoint>=l||e!=f.empty&&t.indexOf(e)<0&&e.maxPoint>=o),c=p(s,a),u=new y(s,c,o),h=new y(a,c,o);n.iterGaps((t,e,n)=>b(u,t,h,e,n,r)),n.empty&&0==n.length&&b(u,0,h,0,0,r)}static spans(t,e,n,r){var i;let o=new y(t,null,null!==(i=r.minPointSize)&&void 0!==i?i:-1).goto(e),s=e,a=o.openStart;for(;;){let t=Math.min(o.to,n);if(o.point?(r.point(s,t,o.point,o.activeForPoint(o.to),a),a=o.openEnd(t)+(o.to>t?1:0)):t>s&&(r.span(s,t,o.active,a),a=o.openEnd(t)),o.to>n)break;s=o.to,o.next()}return a}static of(t,e=!1){let n=new d;for(let r of t instanceof s?[t]:e?t.slice().sort(a):t)n.add(r.from,r.to,r.value);return n.finish()}}f.empty=new f([],[],null,-1),f.empty.nextLayer=f.empty;class d{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-u,this.lastTo=-u,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new h(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new d)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(this.from.length==c&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(f.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=new f(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function p(t,e){let n=new Map;for(let i of t)for(let t=0;t<i.chunk.length;t++)i.chunk[t].maxPoint<l&&n.set(i.chunk[t],i.chunkPos[t]);let r=new Set;for(let i of e)for(let t=0;t<i.chunk.length;t++)n.get(i.chunk[t])==i.chunkPos[t]&&r.add(i.chunk[t]);return r}class m{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-u){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){while(this.chunkIndex<this.layer.chunk.length){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}let r=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],-1,e);(!n||this.rangeIndex<r)&&(this.rangeIndex=r),this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=u,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],++this.rangeIndex==e.value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||this.endSide-t.endSide}}class g{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let o=t[i];o!=f.empty;o=o.nextLayer)o.maxPoint>=n&&r.push(new m(o,e,n,i));return 1==r.length?r[0]:new g(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-u){for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)v(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)v(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=u,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),v(this.heap,0)}}}function v(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class y{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-u,this.endSide=0,this.openStart=-1,this.cursor=g.from(t,e,n)}goto(t,e=-u){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){while(this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){x(this.active,t),x(this.activeTo,t),x(this.activeRank,t),this.minActive=A(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;while(e<this.activeRank.length&&this.activeRank[e]<=i)e++;S(this.active,e,n),S(this.activeTo,e,r),S(this.activeRank,e,i),t&&S(t,e,this.cursor.from),this.minActive=A(this.active,this.activeTo)}next(){let t=this.to;this.point=null;let e=this.openStart<0?[]:null,n=0;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),e&&x(e,r)}else{if(!this.cursor.value){this.to=this.endSide=u;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let r=this.cursor.value;if(r.point){this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<t&&(n=1),this.cursor.next(),this.to>t&&this.forward(this.to,this.endSide);break}this.addActive(e),this.cursor.next()}}}if(e){let r=0;while(r<e.length&&e[r]<t)r++;this.openStart=r+n}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=0;n<this.active.length;n++){if(this.activeRank[n]>this.pointRank)break;(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>this.point.endSide)&&e.push(this.active[n])}return e}openEnd(t){let e=0;while(e<this.activeTo.length&&this.activeTo[e]>t)e++;return e}}function b(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,c=r-e;for(;;){let e=t.to+c-n.to||t.endSide-n.endSide,r=e<0?t.to+c:n.to,i=Math.min(r,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))||o.comparePoint(a,i,t.point,n.point):i>a&&!w(t.active,n.active)&&o.compareRange(a,i,t.active,n.active),r>s)break;a=r,e<=0&&t.next(),e>=0&&n.next()}}function w(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function x(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function S(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function A(t,e){let n=-1,r=u;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}var k=n("7ae1"),C=n("9ea7");let[O,M]="undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}];const E=/Edge\/(\d+)/.exec(O.userAgent),T=/MSIE \d/.test(O.userAgent),_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(O.userAgent),N=!!(T||_||E),R=!N&&/gecko\/(\d+)/i.test(O.userAgent),D=!N&&/Chrome\/(\d+)/.exec(O.userAgent),P="webkitFontSmoothing"in M.documentElement.style;var I={mac:/Mac/.test(O.platform),ie:N,ie_version:T?M.documentMode||6:_?+_[1]:E?+E[1]:0,gecko:R,gecko_version:R?+(/Firefox\/(\d+)/.exec(O.userAgent)||[0,0])[1]:0,chrome:!!D,chrome_version:D?+D[1]:0,ios:!N&&/AppleWebKit/.test(O.userAgent)&&/Mobile\/\w+/.test(O.userAgent),android:/Android\b/.test(O.userAgent),webkit:P,safari:/Apple Computer/.test(O.vendor),webkit_version:P?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=M.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};function j(t){return t.getSelection?t.getSelection():document.getSelection()}function $(t){let e=t.isCollapsed;return e&&I.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e}function L(t,e){if(!e.anchorNode)return!1;try{return t.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)}catch(n){return!1}}function B(t){if(3==t.nodeType){let e=Z();return e.setEnd(t,t.nodeValue.length),e.setStart(t,0),e.getClientRects()}return 1==t.nodeType?t.getClientRects():[]}function F(t,e,n,r){return!!n&&(z(t,e,n,r,-1)||z(t,e,n,r,1))}function V(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function z(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:H(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=V(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;t=t.childNodes[e+(i<0?-1:0)],e=i<0?H(t):0}}}function H(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function U(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function W(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}const q=5;function J(t,e){let n=t.ownerDocument,r=n.defaultView;for(let i=t.parentNode;i;)if(1==i.nodeType){let t,n=i==document.body;if(n)t=W(r);else{if(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth){i=i.parentNode;continue}let e=i.getBoundingClientRect();t={left:e.left,right:e.left+i.clientWidth,top:e.top,bottom:e.top+i.clientHeight}}let o=0,s=0;if(e.top<t.top?s=-(t.top-e.top+q):e.bottom>t.bottom&&(s=e.bottom-t.bottom+q),e.left<t.left?o=-(t.left-e.left+q):e.right>t.right&&(o=e.right-t.right+q),o||s)if(n)r.scrollBy(o,s);else{if(s){let t=i.scrollTop;i.scrollTop+=s,s=i.scrollTop-t}if(o){let t=i.scrollLeft;i.scrollLeft+=o,o=i.scrollLeft-t}e={left:e.left-o,top:e.top-s,right:e.right-o,bottom:e.bottom-s}}if(n)break;i=i.parentNode}else{if(11!=i.nodeType)break;i=i.host}}class K{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}}let G,Y=null;function X(t){if(t.setActive)return t.setActive();if(Y)return t.focus(Y);let e=[];for(let n=t;n;n=n.parentNode)if(e.push(n,n.scrollTop,n.scrollLeft),n==n.ownerDocument)break;if(t.focus(null==Y?{get preventScroll(){return Y={preventScroll:!0},!0}}:void 0),!Y){Y=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function Z(){return G||(G=document.createRange())}class Q{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new Q(t.parentNode,V(t),e)}static after(t,e){return new Q(t.parentNode,V(t)+1,e)}}const tt=[];class et{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){if(2&this.dirty){let e=this.dom,n=null;for(let i of this.children){if(i.dirty){let r=n?n.nextSibling:e.firstChild;!r||i.dom||et.get(r)||i.reuseDOM(r),i.sync(t),i.dirty=0}t&&t.node==e&&n!=i.dom&&(t.written=!0),rt(e,n,i.dom),n=i.dom}let r=n?n.nextSibling:e.firstChild;r&&t&&t.node==e&&(t.written=!0);while(r)r=nt(r)}else if(1&this.dirty)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){return!1}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==H(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;while(n&&!et.get(n))n=n.nextSibling;if(!n)return this.length;for(let r=0,i=0;;r++){let t=this.children[r];if(t.dom==n)return i;i+=t.length+t.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,i=-1,o=-1,s=-1;for(let a=0,c=n;a<this.children.length;a++){let n=this.children[a],l=c+n.length;if(c<t&&l>e)return n.domBoundsAround(t,e,c);if(l>=t&&-1==r&&(r=a,i=c),l>=e&&-1==o){o=a,s=l;break}c=l+n.breakAfter}return{from:i,to:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length-1?this.children[o+1].dom:null}}markDirty(t=!1){2&this.dirty||(this.dirty|=2,this.markParentsDirty(t))}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),1&e.dirty)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=tt){this.markDirty();for(let r=t;r<e;r++)this.children[r].parent=null;this.children.splice(t,e-t,...n);for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new it(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}}function nt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}function rt(t,e,n){let r=e?e.nextSibling:t.firstChild;if(n.parentNode==t)while(r!=n)r=nt(r);else t.insertBefore(n,r)}et.prototype.breakAfter=0;class it{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}const ot=[];class st extends et{become(t){return!1}getSide(){return 0}}st.prototype.children=ot;const at=256;class ct extends st{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){return 3==t.nodeType&&(this.createDOM(t),!0)}merge(t,e,n){return(!n||n instanceof ct&&!(this.length-(e-t)+n.length>at))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}slice(t){return new ct(this.text.slice(t))}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Q(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return ut(this.dom,t,e,this.length)}}class lt extends st{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let r of e)r.setParent(this)}createDOM(){let t=document.createElement(this.mark.tagName);if(this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);this.setDOM(t)}sync(t){this.dom||this.createDOM(),super.sync(t)}merge(t,e,n,r,i){return(!n||!(!(n instanceof lt&&n.mark.eq(this.mark))||t&&r<=0||e<this.length&&i<=0))&&(dt(this,t,e,n?n.children:ot,r-1,i-1),this.markDirty(),!0)}slice(t){return new lt(this.mark,pt(this.children,t),this.length-t)}domAtPos(t){return mt(this.dom,this.children,t)}coordsAt(t,e){return vt(this,t,e)}}function ut(t,e,n,r){let i=e,o=e,s=0;0==e&&n<0||e==r&&n>=0?I.chrome||I.gecko||(e?(i--,s=1):(o++,s=-1)):n<0?i--:o++;let a=Z();a.setEnd(t,o),a.setStart(t,i);let c=a.getBoundingClientRect();return s?U(c,s<0):c}class ht extends st{constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n}static create(t,e,n){return new(t.customView||ht)(t,e,n)}slice(t){return ht.create(this.widget,this.length-t,this.side)}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,n,r,i){return!(n&&(!(n instanceof ht&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&i<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t.length==this.length&&t instanceof ht&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget)||this.markDirty(!0),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return k["a"].empty;let t=this;while(t.parent)t=t.parent;let e=t.editorView,n=e&&e.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):k["a"].empty}domAtPos(t){return 0==t?Q.before(this.dom):Q.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.dom.getClientRects(),r=null;for(let i=t>0?n.length-1:0;;i+=t>0?-1:1)if(r=n[i],t>0?0==i:i==n.length-1||r.top<r.bottom)break;return r}}class ft extends ht{domAtPos(t){return new Q(this.widget.text,t)}sync(){this.dom||this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){return e?3==t.nodeType?Math.min(e,this.length):this.length:0}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){return ut(this.widget.text,t,e,this.length)}}function dt(t,e,n,r,i,o){let s=t.childCursor(),{i:a,off:c}=s.findPos(n,1),{i:l,off:u}=s.findPos(e,-1),h=e-n;for(let d of r)h+=d.length;t.length+=h;let{children:f}=t;if(l==a&&u){let t=f[l];if(1==r.length&&t.merge(u,c,r[0],i,o))return;if(0==r.length)return void t.merge(u,c,null,i,o);let e=t.slice(c);e.merge(0,0,r[r.length-1],0,o)?r[r.length-1]=e:r.push(e),a++,o=c=0}if(c){let t=f[a];r.length&&t.merge(0,c,r[r.length-1],0,o)?(r.pop(),o=0):t.merge(0,c,null,0,0)}else a<f.length&&r.length&&f[a].merge(0,0,r[r.length-1],0,o)&&(r.pop(),o=0);if(u){let t=f[l];r.length&&t.merge(u,t.length,r[0],i,0)?(r.shift(),i=0):t.merge(u,t.length,null,0,0),l++}else if(l&&r.length){let t=f[l-1];t.merge(t.length,t.length,r[0],i,0)&&(r.shift(),i=0)}while(l<a&&r.length&&f[a-1].become(r[r.length-1]))r.pop(),a--,o=0;while(l<a&&r.length&&f[l].become(r[0]))r.shift(),l++,i=0;!r.length&&l&&a<f.length&&i&&o&&f[a].merge(0,0,f[l-1],i,o)&&l--,(r.length||l!=a)&&t.replaceChildren(l,a,r)}function pt(t,e){let n=[],r=0;for(let i of t){let t=r+i.length;t>e&&n.push(r<e?i.slice(e-r):i),r=t}return n}function mt(t,e,n){let r=0;for(let i=0;r<e.length;r++){let o=e[r],s=i+o.length;if(!(s==i&&o.getSide()<=0)){if(n>i&&n<s&&o.dom.parentNode==t)return o.domAtPos(n-i);if(n<=i)break;i=s}}for(;r>0;r--){let n=e[r-1].dom;if(n.parentNode==t)return Q.after(n)}return new Q(t,0)}function gt(t,e,n){let r,{children:i}=t;n>0&&e instanceof lt&&i.length&&(r=i[i.length-1])instanceof lt&&r.mark.eq(e.mark)?gt(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function vt(t,e,n){for(let r=0,i=0;i<t.children.length;i++){let o=t.children[i],s=r+o.length;if(!(s==r&&o.getSide()<=0)){if(n<=0||s==t.length?s>=e:s>e)return o.coordsAt(e-r,n);r=s}}return(t.dom.lastChild||t.dom).getBoundingClientRect()}function yt(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function bt(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(-1==r.indexOf(i)||t[i]!==e[i])return!1;return!0}function wt(t,e,n){if(e)for(let r in e)n&&r in n||t.removeAttribute(r);if(n)for(let r in n)e&&e[r]==n[r]||t.setAttribute(r,n[r])}class xt{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}}var St;(function(t){t[t["Text"]=0]="Text",t[t["WidgetBefore"]=1]="WidgetBefore",t[t["WidgetAfter"]=2]="WidgetAfter",t[t["WidgetRange"]=3]="WidgetRange"})(St||(St={}));class At extends o{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new kt(t)}static widget(t){let e=t.side||0;return t.block&&(e+=200000001*(e>0?1:-1)),new Ot(t,e,e,!!t.block,t.widget||null,!1)}static replace(t){let e=!!t.block,{start:n,end:r}=Mt(t),i=e?-2e8*(n?2:1):1e8*(n?-1:1),o=e?2e8*(r?2:1):1e8*(r?1:-1);return new Ot(t,i,o,e,t.widget||null,!0)}static line(t){return new Ct(t)}static set(t,e=!1){return f.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}At.none=f.empty;class kt extends At{constructor(t){let{start:e,end:n}=Mt(t);super(1e8*(e?-1:1),1e8*(n?1:-1),null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof kt&&this.tagName==t.tagName&&this.class==t.class&&bt(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}kt.prototype.point=!1;class Ct extends At{constructor(t){super(-1e8,-1e8,null,t)}eq(t){return t instanceof Ct&&bt(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Ct.prototype.mapMode=r["g"].TrackBefore,Ct.prototype.point=!0;class Ot extends At{constructor(t,e,n,i,o,s){super(e,n,o,t),this.block=i,this.isReplace=s,this.mapMode=i?e<0?r["g"].TrackBefore:r["g"].TrackAfter:r["g"].TrackDel}get type(){return this.startSide<this.endSide?St.WidgetRange:this.startSide<0?St.WidgetBefore:St.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof Ot&&Et(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function Mt(t){let{inclusiveStart:e,inclusiveEnd:n}=t;return null==e&&(e=t.inclusive),null==n&&(n=t.inclusive),{start:e||!1,end:n||!1}}function Et(t,e){return t==e||!!(t&&e&&t.compare(e))}Ot.prototype.point=!0;const Tt=4;function _t(t,e,n){let r=n.length-1;r>=0&&n[r]+Tt>t?n[r]=Math.max(n[r],e):n.push(t,e)}const Nt=r["e"].define({combine:t=>t.join(" ")}),Rt=r["e"].define({combine:t=>t.indexOf(!0)>-1}),Dt=i["a"].newName();function Pt(t){return t.replace(/\$\w[\w\.]*/g,t=>{let e=t.slice(1).split("."),n="";for(let r=1;r<=e.length;r++)n+=".cm-"+e.slice(0,r).join("-");return n})}function It(t,e){let n="."+t;return new i["a"](e,{process(t){return t=Pt(t),/\$/.test(t)?t.replace(/\$/,n):n+" "+t},extend(t,e){return t=Pt(t),e.slice(0,n.length+1)==n+" "?n+" "+t.replace(/&/,e.slice(n.length+1)):t.replace(/&/,e)}})}function jt(t){if(t.indexOf(".")<0)return"cm-"+t;let e=t.split("."),n="";for(let r=1;r<=e.length;r++)n+=(n?" ":"")+"cm-"+e.slice(0,r).join("-");return n}const $t=It(Dt,{$:{position:"relative !important",boxSizing:"border-box","&$focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},$scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative"},$content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"$$light $content":{caretColor:"black"},"$$dark $content":{caretColor:"white"},$line:{display:"block",padding:"0 2px 0 4px"},$selectionLayer:{zIndex:-1,contain:"size style"},$selectionBackground:{position:"absolute"},"$$light $selectionBackground":{background:"#d9d9d9"},"$$dark $selectionBackground":{background:"#222"},"$$focused$light $selectionBackground":{background:"#d7d4f0"},"$$focused$dark $selectionBackground":{background:"#233"},$cursorLayer:{zIndex:100,contain:"size style",pointerEvents:"none"},"$$focused $cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},$cursor:{position:"absolute",borderLeft:"1.2px solid #aaa",marginLeft:"-0.6px",pointerEvents:"none"},"$$focused $cursor":{borderLeft:"1.2px solid black"},$placeholder:{color:"#888",display:"inline-block"},$button:{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"$$light $button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"$$dark $button":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},$textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"$$light $textfield":{backgroundColor:"white"},"$$dark $textfield":{border:"1px solid #555",backgroundColor:"inherit"}}),Lt=jt("line");class Bt extends et{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,i,o){if(n){if(!(n instanceof Bt))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),dt(this,t,e,n?n.children:Ft,i,o),!0}split(t){let e=new Bt;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].slice(r),0),this.children[n].merge(r,this.children[n].length,null,0,0),n++);for(let i=n;i<this.children.length;i++)e.append(this.children[i],0);while(n>0&&0==this.children[n-1].length)this.children[n-1].parent=null,n--;return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){bt(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){gt(this,t,e)}addLineDeco(t){let e=t.spec.attributes;e&&(this.attrs=yt(e,this.attrs||{}))}domAtPos(t){return mt(this.dom,this.children,t)}sync(t){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=Lt,this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(wt(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(Lt),this.prevAttrs=void 0),super.sync(t);let e=this.dom.lastChild;if(!e||"BR"!=e.nodeName&&et.get(e)instanceof ht){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof ct))return null;let n=B(e.dom);if(1!=n.length)return null;t+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,e){return vt(this,t,e)}match(t){return!1}get type(){return St.Text}static find(t,e){for(let n=0,r=0;;n++){let i=t.children[n],o=r+i.length;if(o>=e){if(i instanceof Bt)return i;if(i.length)return null}r=o+i.breakAfter}}}const Ft=[];class Vt extends et{constructor(t,e,n){super(),this.widget=t,this.length=e,this.type=n,this.breakAfter=0}merge(t,e,n,r,i,o){return!(n&&(!(n instanceof Vt&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&o<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?Q.before(this.dom):Q.after(this.dom,t==this.length)}split(t){let e=this.length-t;return this.length=t,new Vt(this.widget,e,this.type)}get children(){return Ft}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):r["i"].empty}domBoundsAround(){return null}match(t){return t instanceof Vt&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget)||this.markDirty(!0),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}}class zt{constructor(t,e,n){this.doc=t,this.pos=e,this.end=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof Vt&&t.type==St.WidgetBefore)}getLine(){return this.curLine||this.content.push(this.curLine=new Bt),this.curLine}addWidget(t){this.curLine=null,this.content.push(t)}finish(){this.posCovered()||this.getLine()}wrapMarks(t,e){for(let n=e.length-1;n>=0;n--)t=new lt(e[n],[t],t.length);return t}buildText(t,e,n){while(t>0){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.curLine=null,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t);this.getLine().append(this.wrapMarks(new ct(this.text.slice(this.textOff,this.textOff+r)),e),n),t-=r,this.textOff+=r}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,i){let o=e-t;if(n instanceof Ot)if(n.block){let{type:t}=n;t!=St.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new Vt(n.widget||new Ht("div"),o,t))}else{let t=this.wrapMarks(ht.create(n.widget||new Ht("span"),o,n.startSide),r);this.getLine().append(t,i)}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,n,r){let i=new zt(t,e,n);return i.openEnd=f.spans(r,e,n,i),i.openStart<0&&(i.openStart=i.openEnd),i.finish(),i}}class Ht extends xt{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}}var Ut;(function(t){t[t["LTR"]=0]="LTR",t[t["RTL"]=1]="RTL"})(Ut||(Ut={}));const Wt=Ut.LTR,qt=Ut.RTL;function Jt(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Kt=Jt("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Gt=Jt("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333");function Yt(t){return t<=247?Kt[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Gt[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203||8204==t?256:1}const Xt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Zt{constructor(t,e,n){this.from=t,this.to=e,this.level=n}get dir(){return this.level%2?qt:Wt}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,n,r){let i=-1;for(let o=0;o<t.length;o++){let s=t[o];if(s.from<=e&&s.to>=e){if(s.level==n)return o;(i<0||(0!=r?r<0?s.from<e:s.to>e:t[i].level>s.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}const Qt=[];function te(t,e){let n=t.length,r=e==Wt?1:2;if(!t||1==r&&!Xt.test(t))return ee(n);for(let o=0,s=r,a=r;o<n;o++){let e=Yt(t.charCodeAt(o));512==e?e=s:8==e&&4==a&&(e=16),Qt[o]=4==e?2:e,7&e&&(a=e),s=e}for(let o=0,s=r,a=r;o<n;o++){let t=Qt[o];if(128==t)o<n-1&&s==Qt[o+1]&&24&s?t=Qt[o]=s:Qt[o]=256;else if(64==t){let t=o+1;while(t<n&&64==Qt[t])t++;let e=o&&8==s||t<n&&8==Qt[t]?1==a?1:8:256;for(let n=o;n<t;n++)Qt[n]=e;o=t-1}else 8==t&&1==a&&(Qt[o]=1);s=t,7&t&&(a=t)}for(let o=0;o<n;o++)if(256==Qt[o]){let t=o+1;while(t<n&&256==Qt[t])t++;let e=1==(o?Qt[o-1]:r),i=1==(t<n?Qt[t]:r),s=e==i?e?1:2:r;for(let n=o;n<t;n++)Qt[n]=s;o=t-1}let i=[];if(1==r)for(let o=0;o<n;){let t=o,e=1!=Qt[o++];while(o<n&&e==(1!=Qt[o]))o++;if(e)for(let n=o;n>t;){let e=n,r=2!=Qt[--n];while(n>t&&r==(2!=Qt[n-1]))n--;i.push(new Zt(n,e,r?2:1))}else i.push(new Zt(t,o,0))}else for(let o=0;o<n;){let t=o,e=2==Qt[o++];while(o<n&&e==(2==Qt[o]))o++;i.push(new Zt(t,o,e?1:2))}return i}function ee(t){return[new Zt(0,t,0)]}let ne="";function re(t,e,n,i,o){var s;let a=i.head-t.from,c=-1;if(0==a){if(!o||!t.length)return null;e[0].level!=n&&(a=e[0].side(!1,n),c=0)}else if(a==t.length){if(o)return null;let t=e[e.length-1];t.level!=n&&(a=t.side(!0,n),c=e.length-1)}c<0&&(c=Zt.find(e,a,null!==(s=i.bidiLevel)&&void 0!==s?s:-1,i.assoc));let l=e[c];a==l.side(o,n)&&(l=e[c+=o?1:-1],a=l.side(!o,n));let u=o==(l.dir==n),h=t.findClusterBreak(a,u);if(ne=t.slice(Math.min(a,h),Math.max(a,h)),h!=l.side(o,n))return r["c"].cursor(h+t.from,u?-1:1,l.level);let f=c==(o?e.length-1:0)?null:e[c+(o?1:-1)];return f||l.level==n?f&&f.level<l.level?r["c"].cursor(f.side(!o,n)+t.from,0,f.level):r["c"].cursor(h+t.from,0,l.level):r["c"].cursor(o?t.to:t.from,o?-1:1,n)}const ie=["pre-wrap","normal","pre-line"];class oe{constructor(){this.doc=k["a"].empty,this.lineWrapping=!1,this.direction=Ut.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;let e=1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5)));return e*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefresh(t,e,n){let r=!1;for(let i=0;i<t.length;i++){let e=t[i];e<0?i++:this.heightSamples[Math.floor(10*e)]||(r=!0,this.heightSamples[Math.floor(10*e)]=!0)}return r||ie.indexOf(e)>-1!=this.lineWrapping||this.direction!=n}refresh(t,e,n,r,i,o){let s=ie.indexOf(t)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s||this.direction!=e;if(this.lineWrapping=s,this.direction=e,this.lineHeight=n,this.charWidth=r,this.lineLength=i,a){this.heightSamples={};for(let t=0;t<o.length;t++){let e=o[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return a}}class se{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class ae{constructor(t,e,n,r,i){this.from=t,this.length=e,this.top=n,this.height=r,this.type=i}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new ae(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var ce;(function(t){t[t["ByPos"]=0]="ByPos",t[t["ByHeight"]=1]="ByHeight",t[t["ByPosNoHeight"]=2]="ByPosNoHeight"})(ce||(ce={}));const le=1e-4;class ue{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>le&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return ue.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let i=this;for(let o=r.length-1;o>=0;o--){let{fromA:s,toA:a,fromB:c,toB:l}=r[o],u=i.lineAt(s,ce.ByPosNoHeight,e,0,0),h=u.to>=a?u:i.lineAt(a,ce.ByPosNoHeight,e,0,0);l+=h.to-a,a=h.to;while(o>0&&u.from<=r[o-1].toA)s=r[o-1].fromA,c=r[o-1].fromB,o--,s<u.from&&(u=i.lineAt(s,ce.ByPosNoHeight,e,0,0));c+=u.from-s,s=u.from;let f=ve.build(n,t,c,l);i=i.replace(s,a,f)}return i.updateHeight(n,0)}static empty(){return new fe(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,i=0;for(;;)if(e==n)if(r>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,i-=e.size}}else if(r<i){let n=t[e++];n&&(r+=n.size)}else{let e=t[--n];e&&(i+=e.size)}let o=0;return null==t[e-1]?(o=1,e--):null==t[e]&&(o=1,n++),new pe(ue.of(t.slice(0,e)),o,ue.of(t.slice(n)))}}ue.prototype.size=1;class he extends ue{constructor(t,e,n){super(t,e),this.type=n}blockAt(t,e,n,r){return new ae(r,this.length,n,this.height,this.type)}lineAt(t,e,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(t,e,n,r,i,o){o(this.blockAt(0,n,r,i))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class fe extends he{constructor(t,e){super(t,e,St.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof fe||r instanceof de&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof de?r=new fe(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):ue.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class de extends ue{constructor(t){super(t,0)}lines(t,e){let n=t.lineAt(e).number,r=t.lineAt(e+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}blockAt(t,e,n,r){let{firstLine:i,lastLine:o,lineHeight:s}=this.lines(e,r),a=Math.max(0,Math.min(o-i,Math.floor((t-n)/s))),{from:c,length:l}=e.line(i+a);return new ae(c,l,n+s*a,s,St.Text)}lineAt(t,e,n,r,i){if(e==ce.ByHeight)return this.blockAt(t,n,r,i);if(e==ce.ByPosNoHeight){let{from:e,to:r}=n.lineAt(t);return new ae(e,r-e,0,0,St.Text)}let{firstLine:o,lineHeight:s}=this.lines(n,i),{from:a,length:c,number:l}=n.lineAt(t);return new ae(a,c,r+s*(l-o),s,St.Text)}forEachLine(t,e,n,r,i,o){let{firstLine:s,lineHeight:a}=this.lines(n,i);for(let c=t;c<e;){let e=n.lineAt(c);c==t&&(r+=a*(e.number-s)),o(new ae(e.from,e.length,r,r+=a,St.Text)),c=e.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let t=n[n.length-1];t instanceof de?n[n.length-1]=new de(t.length+r):n.push(null,new de(r-1))}if(t>0){let e=n[0];e instanceof de?n[0]=new de(t+e.length):n.unshift(new de(t-1),null)}return ue.of(n)}decomposeLeft(t,e){e.push(new de(t-1),null)}decomposeRight(t,e){e.push(null,new de(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let i=e+this.length;if(r&&r.from<=e+this.length&&r.more){let n=[],o=Math.max(e,r.from);r.from>e&&n.push(new de(r.from-e-1).updateHeight(t,e));while(o<=i&&r.more){let e=t.doc.lineAt(o).length;n.length&&n.push(null);let i=new fe(e,r.heights[r.index++]);i.outdated=!1,n.push(i),o+=e+1}return o<=i&&n.push(null,new de(i-o).updateHeight(t,o)),t.heightChanged=!0,ue.of(n)}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class pe extends ue{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let i=n+this.left.height;return t<i||0==this.right.height?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,i,r+this.left.length+this.break)}lineAt(t,e,n,r,i){let o=r+this.left.height,s=i+this.left.length+this.break,a=e==ce.ByHeight?t<o||0==this.right.height:t<s,c=a?this.left.lineAt(t,e,n,r,i):this.right.lineAt(t,e,n,o,s);if(this.break||(a?c.to<s:c.from>s))return c;let l=e==ce.ByPosNoHeight?ce.ByPosNoHeight:ce.ByPos;return a?c.join(this.right.lineAt(s,l,n,o,s)):this.left.lineAt(s,l,n,r,i).join(c)}forEachLine(t,e,n,r,i,o){let s=r+this.left.height,a=i+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,n,r,i,o),e>=a&&this.right.forEachLine(t,e,n,s,a,o);else{let c=this.lineAt(a,ce.ByPos,n,r,i);t<c.from&&this.left.forEachLine(t,c.from-1,n,r,i,o),c.to>=t&&c.from<=e&&o(c),e>c.to&&this.right.forEachLine(c.to+1,e,n,s,a,o)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let i=[];t>0&&this.decomposeLeft(t,i);let o=i.length;for(let s of n)i.push(s);if(t>0&&me(i,o-1),e<this.length){let t=i.length;this.decomposeRight(e,i),me(i,t)}return ue.of(i)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?ue.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:i,right:o}=this,s=e+i.length+this.break,a=null;return r&&r.from<=e+i.length&&r.more?a=i=i.updateHeight(t,e,n,r):i.updateHeight(t,e,n),r&&r.from<=s+o.length&&r.more?a=o=o.updateHeight(t,s,n,r):o.updateHeight(t,s,n),a?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function me(t,e){let n,r;null==t[e]&&(n=t[e-1])instanceof de&&(r=t[e+1])instanceof de&&t.splice(e-1,3,new de(n.length+1+r.length))}const ge=5;class ve{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof fe?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new fe(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?Math.max(0,n.widget.estimatedHeight):0,i=e-t;n.block?this.addBlock(new he(i,r,n.type)):(i||r>=ge)&&this.addLineDeco(r,i)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new fe(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new de(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof fe)return t;let e=new fe(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type!=St.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=St.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let n=this.ensureLine();n.length+=e,n.collapsed+=e,n.widgetHeight=Math.max(n.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof fe||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new fe(0,-1));let n=t;for(let r of this.nodes)r instanceof fe&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(t,e,n,r){let i=new ve(n,t);return f.spans(e,n,r,i),i.finish(n)}get minPointSize(){return 0}}function ye(t,e,n){let r=new be;return f.compare(t,e,n,r),r.changes}class be{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&_t(t,e,this.changes)}get minPointSize(){return 0}}const we=[],xe=r["e"].define(),Se=r["e"].define(),Ae=r["e"].define(),ke=r["e"].define(),Ce=r["e"].define(),Oe=r["e"].define();function Me(t,e,n){let r=t.facet(ke);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Ee=r["e"].define({combine:t=>!t.length||t[0]});class Te{constructor(t,e){this.field=t,this.get=e}}class _e{from(t){return new Te(this,t)}static define(){return new _e}}_e.scrollMargins=_e.define();let Ne=0;const Re=r["e"].define();class De{constructor(t,e,n){this.id=t,this.create=e,this.fields=n,this.extension=Re.of(this)}static define(t,e){let{eventHandlers:n,provide:r,decorations:i}=e||{},o=[];if(r)for(let s of Array.isArray(r)?r:[r])o.push(s);if(n&&o.push(Ie.from(t=>({plugin:t,handlers:n}))),i)for(let s of Array.isArray(i)?i:[i])o.push(Pe.from(s));return new De(Ne++,t,o)}static fromClass(t,e){return De.define(e=>new t(e),e)}}const Pe=_e.define(),Ie=_e.define();class je{constructor(t,e){this.value=t,this.spec=e}static create(t,e){let n;try{n=t.create(e)}catch(r){return Me(e.state,r,"CodeMirror plugin crashed"),je.dummy}return new je(n,t)}takeField(t,e){for(let{field:n,get:r}of this.spec.fields)n==t&&e.push(r(this.value))}update(t){if(!this.value.update)return this;try{return this.value.update(t),this}catch(e){if(Me(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(n){}return je.dummy}}destroy(t){if(this.value.destroy)try{this.value.destroy()}catch(e){Me(t.state,e,"CodeMirror plugin crashed")}}}je.dummy=new je({},De.define(()=>({})));const $e=r["e"].define({combine:t=>t.reduce((t,e)=>yt(e,t),{})}),Le=r["e"].define({combine:t=>t.reduce((t,e)=>yt(e,t),{})}),Be=r["e"].define(),Fe=r["e"].define();class Ve{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new Ve(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,i=0,o=0,s=0;;r++){let a=r==t.length?null:t[r],c=o-s,l=a?a.fromB:1e9;while(i<e.length&&e[i]<l){let t=e[i],r=e[i+1],o=Math.max(s,t),a=Math.min(l,r);if(o<=a&&new Ve(o+c,a+c,o,a).addToSet(n),r>l)break;i+=2}if(!a)return n;new Ve(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,s=a.toB}}}class ze{constructor(t,e,n=we){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.prevState=t.state,this.changes=r["a"].empty(this.prevState.doc.length);for(let r of n)this.changes=this.changes.compose(r.changes);let i=[];this.changes.iterChangedRanges((t,e,n,r)=>i.push(new Ve(t,e,n,r))),this.changedRanges=i;let o=t.hasFocus;o!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=o,this.flags),this.docChanged&&(this.flags|=2)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return this.transactions.some(t=>t.docChanged)}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}function He(t,e){let n=t.getBoundingClientRect(),r=Math.max(0,n.left),i=Math.min(innerWidth,n.right),o=Math.max(0,n.top),s=Math.min(innerHeight,n.bottom);for(let a=t.parentNode;a;)if(1==a.nodeType){if((a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth)&&"visible"!=window.getComputedStyle(a).overflow){let t=a.getBoundingClientRect();r=Math.max(r,t.left),i=Math.min(i,t.right),o=Math.max(o,t.top),s=Math.min(s,t.bottom)}a=a.parentNode}else{if(11!=a.nodeType)break;a=a.host}return{left:r-n.left,right:i-n.left,top:o-(n.top+e),bottom:s-(n.top+e)}}class Ue{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(t){return At.replace({widget:new We(this.size,t)}).range(this.from,this.to)}}class We extends xt{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class qe{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentWidth=0,this.heightOracle=new oe,this.heightMap=ue.empty(),this.scrollTo=null,this.printing=!1,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=this.heightMap.applyChanges(t.facet(Be),k["a"].empty,this.heightOracle.setDoc(t.doc),[new Ve(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=At.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}update(t,e=null){let n=this.state;this.state=t.state;let i=this.state.facet(Be),o=t.changedRanges,s=Ve.extendWithRanges(o,ye(t.prevState.facet(Be),i,t?t.changes:r["a"].empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(i,n.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(t.flags|=2);let c=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.head<c.from||e.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,e)),c.eq(this.viewport)||(this.viewport=c,t.flags|=4),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(t.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes)))),this.computeVisibleRanges(),e&&(this.scrollTo=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.primary.empty&&t.state.selection.primary.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t,e){let n=t.dom,r="",i=Ut.LTR;if(!e){let t=window.getComputedStyle(n);r=t.whiteSpace,i="rtl"==t.direction?Ut.RTL:Ut.LTR,this.paddingTop=parseInt(t.paddingTop)||0,this.paddingBottom=parseInt(t.paddingBottom)||0}let o=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:He(n,this.paddingTop),s=o.top-this.pixelViewport.top,a=o.bottom-this.pixelViewport.bottom;if(this.pixelViewport=o,this.inView=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left,!this.inView)return 0;let c=t.measureVisibleLineHeights(),l=!1,u=0,h=0,f=this.heightOracle;if(!e){let e=t.dom.clientWidth;if(f.mustRefresh(c,r,i)||f.lineWrapping&&Math.abs(e-this.contentWidth)>f.charWidth){let{lineHeight:n,charWidth:o}=t.measureTextSize();l=f.refresh(r,i,n,o,e/o,c),l&&(t.minWidth=0,h|=16)}this.contentWidth!=e&&(this.contentWidth=e,h|=16),s>0&&a>0?u=Math.max(s,a):s<0&&a<0&&(u=Math.min(s,a))}return f.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(f,0,l,new se(this.viewport.from,c)),f.heightChanged&&(h|=2),(!this.viewportIsAppropriate(this.viewport,u)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to))&&(this.viewport=this.getViewport(u,this.scrollTo),h|=4),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(h|=this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps))),this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.enforceCursorAssoc()),h}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,i=this.state.doc,{top:o,bottom:s}=this.pixelViewport,a=new Je(r.lineAt(o-1e3*n,ce.ByHeight,i,0,0).from,r.lineAt(s+1e3*(1-n),ce.ByHeight,i,0,0).to);if(e)if(e.head<a.from){let{top:t}=r.lineAt(e.head,ce.ByPos,i,0,0);a=new Je(r.lineAt(t-500,ce.ByHeight,i,0,0).from,r.lineAt(t+(s-o)+500,ce.ByHeight,i,0,0).to)}else if(e.head>a.to){let{bottom:t}=r.lineAt(e.head,ce.ByPos,i,0,0);a=new Je(r.lineAt(t-(s-o)-500,ce.ByHeight,i,0,0).from,r.lineAt(t+500,ce.ByHeight,i,0,0).to)}return a}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new Je(this.heightMap.lineAt(n,ce.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,ce.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){let{top:r}=this.heightMap.lineAt(t,ce.ByPos,this.state.doc,0,0),{bottom:i}=this.heightMap.lineAt(e,ce.ByPos,this.state.doc,0,0);return(0==t||r<=this.pixelViewport.top-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||i>=this.pixelViewport.bottom+Math.max(10,Math.min(n,250)))&&r>this.pixelViewport.top-2e3&&i<this.pixelViewport.bottom+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new Ue(e.mapPos(r.from),e.mapPos(r.to),r.size));return n}ensureLineGaps(t){let e=[];return this.heightOracle.direction!=Ut.LTR||this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,n=>{if(n.length<1e4)return;let r,i,o=Ke(n.from,n.to,this.state);if(o.total<1e4)return;if(this.heightOracle.lineWrapping)r=n.from!=this.viewport.from?n.from:Ge(o,(this.pixelViewport.top-n.top)/n.height),i=n.to!=this.viewport.to?n.to:Ge(o,(this.pixelViewport.bottom-n.top)/n.height);else{let t=o.total*this.heightOracle.charWidth;r=Ge(o,this.pixelViewport.left/t),i=Ge(o,this.pixelViewport.right/t)}let s=this.state.selection.primary;s.from<=r&&s.to>=n.from&&(r=s.from),s.from<=n.to&&s.to>=i&&(i=s.to);let a=r-1e4,c=i+1e4;a>n.from+5e3&&e.push(Xe(t,t=>t.from==n.from&&t.to>a-5e3&&t.to<a+5e3)||new Ue(n.from,a,this.gapSize(n,a,!0,o))),c<n.to-5e3&&e.push(Xe(t,t=>t.to==n.to&&t.from>c-5e3&&t.from<c+5e3)||new Ue(c,n.to,this.gapSize(n,c,!1,o)))}),e}gapSize(t,e,n,r){if(this.heightOracle.lineWrapping){let i=t.height*Ye(r,e);return n?i:t.height-i}{let t=Ye(r,e);return r.total*this.heightOracle.charWidth*(n?t:1-t)}}updateLineGaps(t){return Ue.same(t,this.lineGaps)?0:(this.lineGaps=t,this.lineGapDeco=At.set(t.map(t=>t.draw(this.heightOracle.lineWrapping))),8)}computeVisibleRanges(){let t=this.state.facet(Be);this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];f.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){},minPointSize:20}),this.visibleRanges=e}lineAt(t,e){return this.heightMap.lineAt(t,ce.ByPos,this.state.doc,e+this.paddingTop,0)}lineAtHeight(t,e){return this.heightMap.lineAt(t,ce.ByHeight,this.state.doc,e+this.paddingTop,0)}blockAtHeight(t,e){return this.heightMap.blockAt(t,this.state.doc,e+this.paddingTop,0)}forEachLine(t,e,n,r){return this.heightMap.forEachLine(t,e,this.state.doc,r+this.paddingTop,0,n)}}class Je{constructor(t,e){this.from=t,this.to=e}eq(t){return this.from==t.from&&this.to==t.to}}function Ke(t,e,n){let r=[],i=t,o=0;return f.spans(n.facet(Be),t,e,{span(){},point(t,e){t>i&&(r.push({from:i,to:t}),o+=t-i),i=e},minPointSize:20}),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Ge({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:t,to:n}=e[i],o=n-t;if(r<=o)return t+r;r-=o}}function Ye(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Xe(t,e){for(let n of t)if(e(n))return n}const Ze=[];class Qe extends et{constructor(t){super(),this.view=t,this.viewports=Ze,this.compositionDeco=At.none,this.decorations=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.setDOM(t.contentDOM),this.children=[new Bt],this.children[0].setParent(this),this.updateInner([new Ve(0,0,0,t.state.doc.length)],this.updateDeco(),0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=0),(null===(e=this.view.inputState)||void 0===e?void 0:e.composing)?t.transactions.length&&(this.compositionDeco=nn(this.view,t.changes)):this.compositionDeco=At.none;let i=(I.ie||I.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.prevState.doc.lines,o=this.decorations,s=this.updateDeco(),a=cn(o,s,t.changes);n=Ve.extendWithRanges(n,a);let c=t.transactions.some(t=>"pointerselection"==t.annotation(r["j"].userEvent));return 0==this.dirty&&0==n.length&&!(12&t.flags)&&t.state.selection.primary.from>=this.view.viewport.from&&t.state.selection.primary.to<=this.view.viewport.to?(this.updateSelection(i,c),!1):(this.updateInner(n,s,t.prevState.doc.length,i,c),!0)}updateInner(t,e,n,r=!1,i=!1){this.updateChildren(t,e,n),this.view.observer.ignore(()=>{this.dom.style.height=this.view.viewState.heightMap.height+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let t=I.chrome?{node:j(this.view.root).focusNode,written:!1}:void 0;this.sync(t),this.dirty=0,(null===t||void 0===t?void 0:t.written)&&(r=!0),this.updateSelection(r,i),this.dom.style.height=""})}updateChildren(t,e,n){let r=this.childCursor(n);for(let i=t.length-1;;i--){let n=i>=0?t[i]:null;if(!n)break;let{fromA:o,toA:s,fromB:a,toB:c}=n,{content:l,breakAtStart:u,openStart:h,openEnd:f}=zt.build(this.view.state.doc,a,c,e),{i:d,off:p}=r.findPos(s,1),{i:m,off:g}=r.findPos(o,-1);this.replaceRange(m,g,d,p,l,u,h,f)}}replaceRange(t,e,n,r,i,o,s,a){let c=this.children[t],l=i.length?i[i.length-1]:null,u=l?l.breakAfter:o;if(t==n&&!o&&!u&&i.length<2&&c.merge(e,r,i.length?l:null,0==e,s,a))return;let h=this.children[n];r<h.length||h.children.length&&0==h.children[h.children.length-1].length?(t==n&&(h=h.split(r),r=0),!u&&l&&h.merge(0,r,l,!0,0,a)?i[i.length-1]=h:((r||h.children.length&&0==h.children[0].length)&&h.merge(0,r,null,!1,0,a),i.push(h))):h.breakAfter&&(l?l.breakAfter=1:o=1),n++,c.breakAfter=o,e>0&&(!o&&i.length&&c.merge(e,c.length,i[0],!1,s,0)?c.breakAfter=i.shift().breakAfter:(e<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(e,c.length,null,!1,s,0),t++);while(t<n&&i.length)if(this.children[n-1].match(i[i.length-1]))n--,i.pop();else{if(!this.children[t].match(i[0]))break;t++,i.shift()}(t<n||i.length)&&this.replaceChildren(t,n,i)}updateSelection(t=!1,e=!1){if(!e&&!this.mayControlSelection())return;let n=this.view.state.selection.primary,r=this.domAtPos(n.anchor),i=this.domAtPos(n.head),o=j(this.root);(t||!o.focusNode||I.gecko&&n.empty&&sn(o.focusNode,o.focusOffset)||!F(r.node,r.offset,o.anchorNode,o.anchorOffset)||!F(i.node,i.offset,o.focusNode,o.focusOffset))&&this.view.observer.ignore(()=>{if(n.empty){if(I.gecko){let t=sn(r.node,r.offset);if(t&&3!=t){let e=on(r.node,r.offset,1==t?1:-1);e&&(r=new Q(e,1==t?0:e.nodeValue.length))}}o.collapse(r.node,r.offset),null!=n.bidiLevel&&null!=o.cursorBidiLevel&&(o.cursorBidiLevel=n.bidiLevel)}else if(o.extend)o.collapse(r.node,r.offset),o.extend(i.node,i.offset);else{let t=document.createRange();n.anchor>n.head&&([r,i]=[i,r]),t.setEnd(i.node,i.offset),t.setStart(r.node,r.offset),o.removeAllRanges(),o.addRange(t)}}),this.impreciseAnchor=r.precise?null:new Q(o.anchorNode,o.anchorOffset),this.impreciseHead=i.precise?null:new Q(o.focusNode,o.focusOffset)}enforceCursorAssoc(){let t=this.view.state.selection.primary,e=j(this.root);if(!t.empty||!t.assoc||!e.modify)return;let n=Bt.find(this,t.head);if(!n)return;let r=n.posAtStart;if(t.head==r||t.head==r+n.length)return;let i=this.coordsAt(t.head,-1),o=this.coordsAt(t.head,1);if(!i||!o||i.bottom>o.top)return;let s=this.domAtPos(t.head+t.assoc);e.collapse(s.node,s.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Ee)?this.root.activeElement==this.dom:L(this.dom,j(this.root))}nearest(t){for(let e=t;e;){let t=et.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof Bt)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){for(let n=this.length,r=this.children.length-1;;r--){let i=this.children[r],o=n-i.breakAfter-i.length;if(t>=o&&i.type!=St.WidgetAfter)return i.coordsAt(t-o,e);n=o}}measureVisibleLineHeights(){let t=[],{from:e,to:n}=this.view.viewState.viewport,r=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;for(let i=0,o=0;o<this.children.length;o++){let s=this.children[o],a=i+s.length;if(a>n)break;if(i>=e){t.push(s.dom.getBoundingClientRect().height);let e=s.dom.scrollWidth;e>r&&(this.minWidth=r=e,this.minWidthFrom=i,this.minWidthTo=a)}i=a+s.breakAfter}return t}measureTextSize(){for(let r of this.children)if(r instanceof Bt){let t=r.measureTextSize();if(t)return t}let t,e,n=document.createElement("div");return n.className="cm-line",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(n);let r=B(n.firstChild)[0];t=n.getBoundingClientRect().height,e=r?r.width/27:7,n.remove()}),{lineHeight:t,charWidth:e}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new it(this.children,t,e)}computeBlockGapDeco(){let t=this.view.viewState.viewport,e=[t],{head:n,anchor:r}=this.view.state.selection.primary;if(n<t.from||n>t.to){let{from:t,to:r}=this.view.viewState.lineAt(n,0);e.push(new Je(t,r))}if(!e.some(({from:t,to:e})=>r>=t&&r<=e)){let{from:t,to:n}=this.view.viewState.lineAt(r,0);e.push(new Je(t,n))}this.viewports=e.sort((t,e)=>t.from-e.from);let i=[];for(let o=0,s=0;;s++){let t=s==e.length?null:e[s],n=t?t.from-1:this.length;if(n>o){let t=this.view.viewState.lineAt(n,0).bottom-this.view.viewState.lineAt(o,0).top;i.push(At.replace({widget:new en(t),block:!0,inclusive:!0}).range(o,n))}if(!t)break;o=t.to+1}return At.set(i)}updateDeco(){return this.decorations=[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco,...this.view.state.facet(Be),...this.view.pluginField(Pe)]}scrollPosIntoView(t,e){let n=this.coordsAt(t,e);if(!n)return;let r=0,i=0,o=0,s=0;for(let a of this.view.pluginField(_e.scrollMargins))if(a){let{left:t,right:e,top:n,bottom:c}=a;null!=t&&(r=Math.max(r,t)),null!=e&&(i=Math.max(i,e)),null!=n&&(o=Math.max(o,n)),null!=c&&(s=Math.max(s,c))}J(this.dom,{left:n.left-r,top:n.top-o,right:n.right+i,bottom:n.bottom+s})}}const tn=1e7;class en extends xt{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){if(this.height<tn){while(t.lastChild)t.lastChild.remove();t.style.height=this.height+"px"}else{t.style.height="";for(let e=this.height;e>0;e-=tn){let n=t.appendChild(document.createElement("div"));n.style.height=Math.min(e,tn)+"px"}}return!0}get estimatedHeight(){return this.height}}function nn(t,e){let n=j(t.root),r=n.focusNode&&on(n.focusNode,n.focusOffset,0);if(!r)return At.none;let i,o,s=t.docView.nearest(r),a=r;if(s instanceof st){while(s.parent instanceof st)s=s.parent;i=s.posAtStart,o=i+s.length,a=s.dom}else{if(!(s instanceof Bt))return At.none;{while(a.parentNode!=s.dom)a=a.parentNode;let t=a.previousSibling;while(t&&!et.get(t))t=t.previousSibling;i=o=t?et.get(t).posAtEnd:s.posAtStart}}let c=e.mapPos(i,1),l=Math.max(c,e.mapPos(o,-1)),u=r.nodeValue,{state:h}=t;if(l-c<u.length)if(h.sliceDoc(c,Math.min(h.doc.length,c+u.length))==u)l=c+u.length;else{if(h.sliceDoc(Math.max(0,l-u.length),l)!=u)return At.none;c=l-u.length}else if(h.sliceDoc(c,l)!=u)return At.none;return At.set(At.replace({widget:new rn(a,r)}).range(c,l))}class rn extends xt{constructor(t,e){super(),this.top=t,this.text=e}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return ft}}function on(t,e,n){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0&&n<=0)t=t.childNodes[e-1],e=H(t);else{if(!(1==t.nodeType&&e<t.childNodes.length&&n>=0))return null;t=t.childNodes[e],e=0}}}function sn(t,e){return 1!=t.nodeType?0:(e&&"false"==t.childNodes[e-1].contentEditable?1:0)|(e<t.childNodes.length&&"false"==t.childNodes[e].contentEditable?2:0)}class an{constructor(){this.changes=[]}compareRange(t,e){_t(t,e,this.changes)}comparePoint(t,e){_t(t,e,this.changes)}}function cn(t,e,n){let r=new an;return f.compare(t,e,n,r),r.changes}function ln(t,e,n=1){let i=t.charCategorizer(e),o=t.doc.lineAt(e),s=e-o.from;if(0==o.length)return r["c"].cursor(e);0==s?n=1:s==o.length&&(n=-1);let a=s,c=s;n<0?a=o.findClusterBreak(s,!1):c=o.findClusterBreak(s,!0);let l=i(o.slice(a,c));while(a>0){let t=o.findClusterBreak(a,!1);if(i(o.slice(t,a))!=l)break;a=t}while(c<o.length){let t=o.findClusterBreak(c,!0);if(i(o.slice(c,t))!=l)break;c=t}return r["c"].range(a+o.from,c+o.from)}function un(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function hn(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function fn(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function dn(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function pn(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function mn(t,e,n){let r,i,o,s,a,c,l,u;for(let d=t.firstChild;d;d=d.nextSibling){let t=B(d);for(let h=0;h<t.length;h++){let f=t[h];i&&fn(i,f)&&(f=dn(pn(f,i.bottom),i.top));let p=un(e,f),m=hn(n,f);if(0==p&&0==m)return 3==d.nodeType?gn(d,e,n):mn(d,e,n);(!r||s>m||s==m&&o>p)&&(r=d,i=f,o=p,s=m),0==p?n>f.bottom&&(!l||l.bottom<f.bottom)?(a=d,l=f):n<f.top&&(!u||u.top>f.top)&&(c=d,u=f):l&&fn(l,f)?l=pn(l,f.bottom):u&&fn(u,f)&&(u=dn(u,f.top))}}if(l&&l.bottom>=n?(r=a,i=l):u&&u.top<=n&&(r=c,i=u),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(3==r.nodeType)return gn(r,h,n);if(!o&&"true"==r.contentEditable)return mn(r,h,n);let f=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:f}}function gn(t,e,n){let r=t.nodeValue.length,i=Z();for(let o=0;o<r;o++){i.setEnd(t,o+1),i.setStart(t,o);let r=i.getClientRects();for(let s=0;s<r.length;s++){let a=r[s];if(a.top!=a.bottom&&(a.left-1<=e&&a.right+1>=e&&a.top-1<=n&&a.bottom+1>=n)){let n=e>=(a.left+a.right)/2,r=n;if(I.chrome||I.gecko){i.setEnd(t,o);let e=i.getBoundingClientRect();e.left==a.right&&(r=!n)}return{node:t,offset:o+(r?1:0)}}}}return{node:t,offset:0}}function vn(t,{x:e,y:n},r=-1){let i,o=t.contentDOM.getBoundingClientRect(),s=t.defaultLineHeight/2;for(let f=!1;;){if(i=t.blockAtHeight(n,o.top),i.top>n||i.bottom<n){if(r=i.top>n?-1:1,n=Math.min(i.bottom-s,Math.max(i.top+s,n)),f)return-1;f=!0}if(i.type==St.Text)break;n=r>0?i.bottom+s:i.top-s}let a=i.from;if(a<t.viewport.from)return 0==t.viewport.from?0:-1;if(a>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:-1;e=Math.max(o.left+1,Math.min(o.right-1,e));let c,l=t.root,u=l.elementFromPoint(e,n),h=-1;if(u&&t.contentDOM.contains(u)&&!(t.docView.nearest(u)instanceof ht))if(l.caretPositionFromPoint){let t=l.caretPositionFromPoint(e,n);t&&({offsetNode:c,offset:h}=t)}else if(l.caretRangeFromPoint){let t=l.caretRangeFromPoint(e,n);t&&({startContainer:c,startOffset:h}=t)}if(!c){let r=Bt.find(t.docView,a);({node:c,offset:h}=mn(r.dom,e,n))}return t.docView.posFromDOM(c,h)}function yn(t,e,n,i){let o=t.state.doc.lineAt(e.head),s=i&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>o.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),i=t.posAtCoords({x:n==(t.textDirection==Ut.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(i>-1)return r["c"].cursor(i,n?-1:1)}let a=Bt.find(t.docView,e.head),c=a?n?a.posAtEnd:a.posAtStart:n?o.to:o.from;return r["c"].cursor(c,n?-1:1)}function bn(t,e,n,i){let o=t.state.doc.lineAt(e.head),s=t.bidiSpans(o);for(let a=e,c=null;;){let e=re(o,s,t.textDirection,a,n),l=ne;if(!e){if(o.number==(n?t.state.doc.lines:1))return a;l="\n",o=t.state.doc.line(o.number+(n?1:-1)),s=t.bidiSpans(o),e=r["c"].cursor(n?o.from:o.to)}if(c){if(!c(l))return a}else{if(!i)return e;c=i(l)}a=e}}function wn(t,e,n){let i=t.state.charCategorizer(e),o=i(n);return t=>{let e=i(t);return o==r["b"].Space&&(o=e),o==e}}function xn(t,e,n,i){var o;let s=e.head,a=n?1:-1;if(s==(n?t.state.doc.length:0))return r["c"].cursor(s);let c=t.coordsAtPos(s);if(c){let n=t.dom.getBoundingClientRect(),l=null!==(o=e.goalColumn)&&void 0!==o?o:c.left-n.left,u=n.left+l,h=null!==i&&void 0!==i?i:5;for(let e=a<0?c.top:c.bottom,i=0;i<50;i+=10){let n=vn(t,{x:u,y:e+(h+i)*a},a);if(n<0)break;if(n!=s)return r["c"].cursor(n,void 0,void 0,l)}}let{doc:l}=t.state,u=l.lineAt(s),h=t.state.tabSize,f=e.goalColumn,d=0;if(null==f){for(const t=l.iterRange(u.from,s);!t.next().done;)d=Object(k["d"])(t.value,d,h);f=d*t.defaultCharacterWidth}else d=Math.round(f/t.defaultCharacterWidth);if(a<0&&0==u.from)return r["c"].cursor(0);if(a>0&&u.to==l.length)return r["c"].cursor(u.to);let p=l.line(u.number+a),m=p.from,g=0;for(const r=l.iterRange(p.from,p.to);g>=d&&!r.next().done;){const{offset:t,leftOver:e}=Object(k["e"])(r.value,g,d,h);g=d-e,m+=t}return r["c"].cursor(m,void 0,void 0,f)}class Sn{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=!1,this.compositionEndedAt=0,this.mouseSelection=null;for(let e in En){let n=En[e];t.contentDOM.addEventListener(e,r=>{Mn(t,r)&&!this.ignoreDuringComposition(r)&&(this.mustFlushObserver(r)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,r)?r.preventDefault():n(t,r))}),this.registeredEvents.push(e)}t.contentDOM.addEventListener("keydown",e=>{t.inputState.lastKeyCode=e.keyCode,t.inputState.lastKeyTime=Date.now()}),this.notifiedFocused=t.hasFocus,this.ensureHandlers(t)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t){let e=this.customHandlers=t.pluginField(Ie);for(let n of e)for(let e in n.handlers)this.registeredEvents.indexOf(e)<0&&"scroll"!=e&&(this.registeredEvents.push(e),t.contentDOM.addEventListener(e,n=>{Mn(t,n)&&this.runCustomHandlers(e,t,n)&&n.preventDefault()}))}runCustomHandlers(t,e,n){for(let i of this.customHandlers){let o=i.handlers[t];if(o)try{if(o.call(i.plugin,n,e)||n.defaultPrevented)return!0}catch(r){Me(e.state,r)}}return!1}runScrollHandlers(t,e){for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,e,t)}catch(n){Me(t.state,n)}}}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(!!this.composing||!!(I.safari&&t.timeStamp-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(t){return"keydown"==t.type||"compositionend"==t.type}startMouseSelection(t,e,n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=new An(this,t,e,n)}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.lastKeyCode=this.lastSelectionTime=0}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}class An{constructor(t,e,n,i){this.inputState=t,this.view=e,this.startEvent=n,this.style=i;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(r["d"].allowMultipleSelections)&&kn(e,n),this.dragMove=Cn(e,n),this.dragging=!!On(e,n)&&null,!1===this.dragging&&(n.preventDefault(),this.select(n))}move(t){if(0==t.buttons)return this.destroy();!1===this.dragging&&this.select(t)}up(t){null==this.dragging&&this.select(this.startEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);e.eq(this.view.state.selection)&&e.primary.assoc==this.view.state.selection.primary.assoc||this.view.dispatch({selection:e,annotations:r["j"].userEvent.of("pointerselection"),scrollIntoView:!0})}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)}}function kn(t,e){let n=t.state.facet(xe);return n.length?n[0](e):I.mac?e.metaKey:e.ctrlKey}function Cn(t,e){let n=t.state.facet(Se);return n.length?n[0](e):I.mac?!e.altKey:!e.ctrlKey}function On(t,e){let{primary:n}=t.state.selection;if(n.empty)return!1;let r=j(t.root);if(0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let t=i[o];if(t.left<=e.clientX&&t.right>=e.clientX&&t.top<=e.clientY&&t.bottom>=e.clientY)return!0}return!1}function Mn(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=et.get(r))&&n.ignoreEvent(e))return!1;return!0}const En=Object.create(null),Tn=I.ie&&I.ie_version<15||I.ios&&I.webkit_version<604;function _n(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),Nn(t,n.value)},50)}function Nn(t,e){let n,{state:i}=t,o=1,s=i.toText(e),a=s.lines==i.selection.ranges.length,c=Wn&&i.selection.ranges.every(t=>t.empty)&&Wn==s.toString();n=c?{changes:i.selection.ranges.map(t=>i.doc.lineAt(t.from)).filter((t,e,n)=>0==e||n[e-1]!=t).map(t=>({from:t.from,insert:(a?s.line(o++).slice():e)+i.lineBreak}))}:a?i.changeByRange(t=>{let e=s.line(o++);return{changes:{from:t.from,to:t.to,insert:e.slice()},range:r["c"].cursor(t.from+e.length)}}):i.replaceSelection(s),t.dispatch(n,{annotations:r["j"].userEvent.of("paste"),scrollIntoView:!0})}function Rn(t){let e=(t.ctrlKey?1:0)|(t.metaKey?8:0)|(t.altKey?2:0)|(t.shiftKey?4:0),n=t.keyCode,r=I.mac&&1==e;return 8==n||r&&72==n||46==n||r&&68==n||27==n||e==(I.mac?8:1)&&(66==n||73==n||89==n||90==n)}function Dn(t,e,n,i){if(1==i)return r["c"].cursor(e,n);if(2==i)return ln(t.state,e,n);{let n=Bt.find(t.docView,e);if(n)return r["c"].range(n.posAtStart,n.posAtEnd);let{from:i,to:o}=t.state.doc.lineAt(e);return r["c"].range(i,o)}}En.keydown=(t,e)=>{Rn(e)&&e.preventDefault(),t.inputState.setSelectionOrigin("keyboardselection")},En.touchdown=En.touchmove=t=>{t.inputState.setSelectionOrigin("pointerselection")},En.mousedown=(t,e)=>{let n=null;for(let r of t.state.facet(Ae))if(n=r(t,e),n)break;n||0!=e.button||(n=zn(t,e)),n&&(t.root.activeElement!=t.contentDOM&&t.observer.ignore(()=>X(t.contentDOM)),t.inputState.startMouseSelection(t,e,n))};let Pn=(t,e)=>t>=e.top&&t<=e.bottom,In=(t,e,n)=>Pn(e,n)&&t>=n.left&&t<=n.right;function jn(t,e,n,r){let i=Bt.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&In(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&In(n,r,a)?1:s&&Pn(r,s)?-1:1}function $n(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY});return n<0?null:{pos:n,bias:jn(t,n,e.clientX,e.clientY)}}const Ln=I.ie&&I.ie_version<=11;let Bn=null,Fn=0;function Vn(t){if(!Ln)return t.detail;let e=Bn;return Bn=t,Fn=!e||e.timeStamp>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Fn+1)%3:1}function zn(t,e){let n=$n(t,e),i=Vn(e),o=t.state.selection,s=n,a=e;return{update(t){t.changes&&(n&&(n.pos=t.changes.mapPos(n.pos)),o=o.map(t.changes))},get(e,c,l){let u;if(e.clientX==a.clientX&&e.clientY==a.clientY?u=s:(u=s=$n(t,e),a=e),!u||!n)return o;let h=Dn(t,u.pos,u.bias,i);if(n.pos!=u.pos&&!c){let e=Dn(t,n.pos,n.bias,i),o=Math.min(e.from,h.from),s=Math.max(e.to,h.to);h=o<h.from?r["c"].range(o,s):r["c"].range(s,o)}return c?o.replaceRange(o.primary.extend(h.from,h.to)):l?o.addRange(h):r["c"].create([h])}}}function Hn(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Un(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:r}of t.selection.ranges){let o=t.doc.lineAt(r);o.number>i&&(e.push(o.slice()),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}En.dragstart=(t,e)=>{let{selection:{primary:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")},En.drop=(t,e)=>{if(!e.dataTransfer)return;let n=t.posAtCoords({x:e.clientX,y:e.clientY}),i=e.dataTransfer.getData("Text");if(n<0||!i)return;e.preventDefault();let{mouseSelection:o}=t.inputState,s=o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,a={from:n,insert:i},c=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:c,selection:{anchor:c.mapPos(n,-1),head:c.mapPos(n,1)},annotations:r["j"].userEvent.of("drop")})},En.paste=(t,e)=>{t.observer.flush();let n=Tn?null:e.clipboardData,r=n&&n.getData("text/plain");r?(Nn(t,r),e.preventDefault()):_n(t)};let Wn=null;function qn(t){t.docView.compositionDeco.size&&t.update([])}En.copy=En.cut=(t,e)=>{let{text:n,ranges:i,linewise:o}=Un(t.state);if(!n)return;Wn=o?n:null;let s=Tn?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):Hn(t,n),"cut"==e.type&&t.dispatch({changes:i,scrollIntoView:!0,annotations:r["j"].userEvent.of("cut")})},En.focus=En.blur=t=>{setTimeout(()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])},10)},En.beforeprint=t=>{t.viewState.printing=!0,t.requestMeasure(),setTimeout(()=>{t.viewState.printing=!1,t.requestMeasure()},2e3)},En.compositionstart=En.compositionupdate=t=>{t.inputState.composing||(t.docView.compositionDeco.size&&(t.observer.flush(),qn(t)),t.inputState.composing=!0)},En.compositionend=t=>{t.inputState.composing=!1,t.inputState.compositionEndedAt=Date.now(),setTimeout(()=>{t.inputState.composing||qn(t)},50)};const Jn={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},Kn=I.ie&&I.ie_version<=11;class Gn{constructor(t,e,n){this.view=t,this.onChange=e,this.onScrollChanged=n,this.active=!1,this.ignoreSelection=new K,this.delayedFlush=-1,this.queue=[],this.scrollTargets=[],this.intersection=null,this.intersecting=!1,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(t=>{for(let e of t)this.queue.push(e);I.ie&&I.ie_version<=11&&t.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),Kn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=()=>{if(this.view.root.activeElement==this.dom){if(I.ie&&I.ie_version<=11&&!this.view.state.selection.primary.empty){let t=j(this.view.root);if(t.focusNode&&F(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},this.start(),this.onScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.onScroll),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom)),this.listenForScroll()}onScroll(t){this.intersecting&&(this.flush(),this.onScrollChanged(t))}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Jn),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),Kn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),Kn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clearSelection(){this.ignoreSelection.set(j(this.view.root))}clear(){this.observer.takeRecords(),this.queue.length=0,this.clearSelection()}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}flush(){if(this.delayedFlush>=0)return;let t=this.queue;for(let a of this.observer.takeRecords())t.push(a);t.length&&(this.queue=[]);let e=j(this.view.root),n=!this.ignoreSelection.eq(e)&&L(this.dom,e);if(0==t.length&&!n)return;let r=-1,i=-1,o=!1;for(let a of t){let t=this.readMutation(a);t&&(t.typeOver&&(o=!0),-1==r?({from:r,to:i}=t):(r=Math.min(t.from,r),i=Math.max(t.to,i)))}let s=this.view.state;(r>-1||n)&&this.onChange(r,i,o),this.view.state==s&&(this.view.docView.dirty&&(this.ignore(()=>this.view.docView.sync()),this.view.docView.dirty=0),this.view.docView.updateSelection()),this.clearSelection()}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(),"childList"==t.type){let n=Yn(e,t.previousSibling||t.target.previousSibling,-1),r=Yn(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}destroy(){this.stop(),this.intersection&&this.intersection.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),clearTimeout(this.parentCheck)}}function Yn(t,e,n){while(e){let r=et.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}const Xn="";function Zn(t,e,n,i){let o,s,a,c=t.state.selection.primary;if(e>-1&&(a=t.docView.domBoundsAround(e,n,0))){let{from:e,to:n}=a,i=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:rr(t.contentDOM,t.root),l=new tr(i);l.readRange(a.startDOM,a.endDOM),s=ir(i,e);let u=c.from,h=null;8===t.inputState.lastKeyCode&&t.inputState.lastKeyTime>Date.now()-100&&(u=c.to,h="end");let f=Qn(t.state.doc.sliceString(e,n,Xn),l.text,u-e,h);f&&(o={from:e+f.from,to:e+f.toA,insert:r["i"].of(l.text.slice(f.from,f.toB).split(Xn))})}else if(t.hasFocus){let e=j(t.root),{impreciseHead:n,impreciseAnchor:i}=t.docView,o=n&&n.node==e.focusNode&&n.offset==e.focusOffset?t.state.selection.primary.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),a=i&&i.node==e.anchorNode&&i.offset==e.anchorOffset?t.state.selection.primary.anchor:$(e)?o:t.docView.posFromDOM(e.anchorNode,e.anchorOffset);o==c.head&&a==c.anchor||(s=r["c"].single(a,o))}if(o||s)if(!o&&i&&!c.empty&&s&&s.primary.empty&&(o={from:c.from,to:c.to,insert:t.state.doc.slice(c.from,c.to)}),o){let e=t.state;if(I.android&&(o.from==c.from&&o.to==c.to&&1==o.insert.length&&2==o.insert.lines&&or(t,"Enter",10)||o.from==c.from-1&&o.to==c.to&&0==o.insert.length&&or(t,"Backspace",8)||o.from==c.from&&o.to==c.to+1&&0==o.insert.length&&or(t,"Delete",46)))return;let n,i=o.insert.toString();if(t.state.facet(Oe).some(e=>e(t,o.from,o.to,i)))return;if(o.from>=c.from&&o.to<=c.to&&o.to-o.from>=(c.to-c.from)/3){let t=c.from<o.from?e.doc.sliceString(c.from,o.from,Xn):"",i=c.to>o.to?e.doc.sliceString(o.to,c.to,Xn):"";n=e.replaceSelection(r["i"].of((t+o.insert.sliceString(0,void 0,Xn)+i).split(Xn)))}else{let t=e.changes(o);n={changes:t,selection:s&&!e.selection.primary.eq(s.primary)&&s.primary.to<=t.newLength?e.selection.replaceRange(s.primary):void 0}}t.dispatch(n,{scrollIntoView:!0,annotations:r["j"].userEvent.of("input")})}else if(s&&!s.primary.eq(c)){let e,n=!1;t.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==t.inputState.lastSelectionOrigin?n=!0:e=r["j"].userEvent.of(t.inputState.lastSelectionOrigin)),t.dispatch({selection:s,scrollIntoView:n,annotations:e})}}function Qn(t,e,n,r){let i=Math.min(t.length,e.length),o=0;while(o<i&&t.charCodeAt(o)==e.charCodeAt(o))o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;while(s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1))s--,a--;if("end"==r){let t=Math.max(0,o-Math.min(s,a));n-=s+t-o}if(s<o&&t.length<e.length){let t=n<=o&&n>=s?o-n:0;o-=t,a=o+(a-s),s=o}else if(a<o){let t=n<=o&&n>=a?o-n:0;o-=t,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}class tr{constructor(t){this.points=t,this.text=""}readRange(t,e){if(!t)return;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r),this.readNode(r);let t=r.nextSibling;if(t==e)break;let i=et.get(r),o=et.get(t);((i?i.breakAfter:er(r))||(o?o.breakAfter:er(t))&&("BR"!=r.nodeName||r.cmIgnore))&&(this.text+=Xn),r=t}this.findPointBefore(n,e)}readNode(t){if(t.cmIgnore)return;let e,n=et.get(t),r=n&&n.overrideDOMText;null!=r?e=r.sliceString(0,void 0,Xn):3==t.nodeType?e=t.nodeValue:"BR"==t.nodeName?e=t.nextSibling?Xn:"":1==t.nodeType&&this.readRange(t.firstChild,null),null!=e&&(this.findPointIn(t,e.length),this.text+=e)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointIn(t,e){for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e))}}function er(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class nr{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}function rr(t,e){let n=[];if(e.activeElement!=t)return n;let{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=j(e);return r&&(n.push(new nr(r,i)),o==r&&s==i||n.push(new nr(o,s))),n}function ir(t,e){if(0==t.length)return null;let n=t[0].pos,i=2==t.length?t[1].pos:n;return n>-1&&i>-1?r["c"].single(n+e,i+e):null}function or(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);t.contentDOM.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return t.contentDOM.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}class sr{constructor(t={}){this.plugins=[],this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.className=jt("scroller"),this.scrollDOM.appendChild(this.contentDOM),this.dom=document.createElement("div"),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=t.root||document,this.viewState=new qe(t.state||r["d"].create()),this.plugins=this.state.facet(Re).map(t=>je.create(t,this)),this.observer=new Gn(this,(t,e,n)=>Zn(this,t,e,n),t=>{this.inputState.runScrollHandlers(this,t),this.measure()}),this.docView=new Qe(this),this.inputState=new Sn(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,ur(),this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof r["j"]?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");this.updateState=2;let e=this.state;for(let o of t){if(o.startState!=e)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");e=o.state}let n=new ze(this,e,t),r=t.some(t=>t.scrollIntoView)?e.selection.primary:null;this.viewState.update(n,r),this.bidiCache=dr.update(this.bidiCache,n.changes),n.empty||this.updatePlugins(n);let i=this.docView.update(n);this.state.facet(Fe)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.updateState=0,(i||r||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure();for(let o of this.state.facet(Ce))o(n)}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;for(let e of this.plugins)e.destroy(this);this.viewState=new qe(t),this.plugins=t.facet(Re).map(t=>je.create(t,this)),this.docView=new Qe(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[],this.updateState=0,this.requestMeasure()}updatePlugins(t){let e=t.prevState.facet(Re),n=t.state.facet(Re);if(e!=n){let r=[],i=[];for(let o of n){let n=e.indexOf(o);if(n<0)r.push(je.create(o,this));else{let e=this.plugins[n].update(t);i.push(e),r.push(e)}}for(let t of this.plugins)i.indexOf(t)<0&&t.destroy(this);this.plugins=r,this.inputState.ensureHandlers(this)}else for(let r=0;r<this.plugins.length;r++)this.plugins[r]=this.plugins[r].update(t)}measure(){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=-1;let t=null;for(let n=0;;n++){this.updateState=1;let r=this.viewState.measure(this.docView,n>0),i=this.measureRequests;if(!r&&!i.length&&null==this.viewState.scrollTo)break;if(this.measureRequests=[],n>5){console.warn("Viewport failed to stabilize");break}let o=i.map(t=>{try{return t.read(this)}catch(e){return Me(this.state,e),fr}}),s=new ze(this,this.state);s.flags|=r,t?t.flags|=r:t=s,this.updateState=2,this.updatePlugins(s),r&&this.docView.update(s);for(let t=0;t<i.length;t++)if(o[t]!=fr)try{i[t].write(o[t],this)}catch(e){Me(this.state,e)}if(this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null),!(4&r)&&0==this.measureRequests.length)break}if(this.updateState=0,this.measureScheduled=-1,t)for(let n of this.state.facet(Ce))n(t)}get themeClasses(){return Dt+" "+(this.state.facet(Rt)?"cm-dark":"cm-light")+" "+this.state.facet(Nt)}updateAttrs(){let t=yt(this.state.facet($e),{class:jt("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});wt(this.dom,this.editorAttrs,t),this.editorAttrs=t;let e=yt(this.state.facet(Le),{spellcheck:"false",contenteditable:String(this.state.facet(Ee)),class:jt("content"),style:`${I.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"});wt(this.contentDOM,this.contentAttrs,e),this.contentAttrs=e}mountStyles(){this.styleModules=this.state.facet(Fe),i["a"].mount(this.root,this.styleModules.concat($t).reverse())}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure()}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),t){if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}pluginField(t){let e=[];for(let n of this.plugins)n.takeField(t,e);return e}plugin(t){for(let e of this.plugins)if(e.spec==t)return e.value;return null}blockAtHeight(t,e){return this.readMeasured(),this.viewState.blockAtHeight(t,cr(e,this.contentDOM))}visualLineAtHeight(t,e){return this.readMeasured(),this.viewState.lineAtHeight(t,cr(e,this.contentDOM))}visualLineAt(t,e=0){return this.viewState.lineAt(t,e)}viewportLines(t,e){let{from:n,to:r}=this.viewport;this.viewState.forEachLine(n,r,t,cr(e,this.contentDOM))}get contentHeight(){return this.viewState.heightMap.height+this.viewState.paddingTop+this.viewState.paddingBottom}moveByChar(t,e,n){return bn(this,t,e,n)}moveByGroup(t,e){return bn(this,t,e,e=>wn(this,t.head,e))}moveToLineBoundary(t,e,n=!0){return yn(this,t,e,n)}moveVertically(t,e,n){return xn(this,t,e,n)}scrollPosIntoView(t){this.viewState.scrollTo=r["c"].cursor(t),this.requestMeasure()}posAtCoords(t){return this.readMeasured(),vn(this,t)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),i=this.bidiSpans(r),o=i[Zt.find(i,t-r.from,-1,e)];return U(n,o.dir==Ut.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>ar)return ee(t.length);let e=this.textDirection;for(let r of this.bidiCache)if(r.from==t.from&&r.dir==e)return r.order;let n=te(t.slice(),this.textDirection);return this.bidiCache.push(new dr(t.from,t.to,e,n)),n}get hasFocus(){return this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{X(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let t of this.plugins)t.destroy(this);this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled)}static domEventHandlers(t){return De.define(()=>({}),{eventHandlers:t})}static theme(t,e){let n=i["a"].newName(),r=[Nt.of(n),Fe.of(It(n,t))];return e&&e.dark&&r.push(Rt.of(!0)),r}static baseTheme(t){return Object(r["l"])(Fe.of(It(Dt,t)),"fallback")}}sr.styleModule=Fe,sr.inputHandler=Oe,sr.exceptionSink=ke,sr.updateListener=Ce,sr.editable=Ee,sr.dragMovesSelection=Se,sr.clickAddsSelectionRange=xe,sr.mouseSelectionStyle=Ae,sr.decorations=Be,sr.lineWrapping=sr.theme({$content:{whiteSpace:"pre-wrap"}}),sr.contentAttributes=Le,sr.editorAttributes=$e;const ar=4096;function cr(t,e){return null==t?e.getBoundingClientRect().top:t}let lr=-1;function ur(){window.addEventListener("resize",()=>{-1==lr&&(lr=setTimeout(hr,50))})}function hr(){lr=-1;let t=document.querySelectorAll(".cm-content");for(let e=0;e<t.length;e++){let n=et.get(t[e]);n&&n.editorView.requestMeasure()}}const fr={};class dr{constructor(t,e,n,r){this.from=t,this.to=e,this.dir=n,this.order=r}static update(t,e){if(e.empty)return t;let n=[],r=t.length?t[t.length-1].dir:Ut.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let o=t[i];o.dir!=r||e.touchesRange(o.from,o.to)||n.push(new dr(e.mapPos(o.from,1),e.mapPos(o.to,-1),o.dir,o.order))}return n}}const pr="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?"win":/Linux|X11/.test(navigator.platform)?"linux":"key";function mr(t,e){const n=t.split(/-(?!$)/);let r,i,o,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let c=0;c<n.length-1;++c){const t=n[c];if(/^(cmd|meta|m)$/i.test(t))s=!0;else if(/^a(lt)?$/i.test(t))r=!0;else if(/^(c|ctrl|control)$/i.test(t))i=!0;else if(/^s(hift)?$/i.test(t))o=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);"mac"==e?s=!0:i=!0}}return r&&(a="Alt-"+a),i&&(a="Ctrl-"+a),s&&(a="Meta-"+a),o&&(a="Shift-"+a),a}function gr(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const vr=r["e"].define(),yr=sr.domEventHandlers({keydown(t,e){return Ar(e.state.facet(vr),t,e,"editor")}});function br(t,e){return[yr,vr.of(Sr(t,e))]}let wr=null;const xr=4e3;function Sr(t,e=pr){let n=Object.create(null),r=Object.create(null),i=(t,e)=>{let n=r[t];if(null==n)r[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},o=(t,r,o,s)=>{let a=n[t]||(n[t]=Object.create(null)),c=r.split(/ (?!$)/).map(t=>mr(t,e));for(let e=1;e<c.length;e++){let n=c.slice(0,e).join(" ");i(n,!0),a[n]||(a[n]={preventDefault:!0,commands:[e=>{let r=wr={view:e,prefix:n,scope:t};return setTimeout(()=>{wr==r&&(wr=null)},xr),!0}]})}let l=c.join(" ");i(l,!1);let u=a[l]||(a[l]={preventDefault:!1,commands:[]});u.commands.push(o),s&&(u.preventDefault=!0)};for(let s of t){let t=s[e]||s.key;if(t)for(let e of s.scope?s.scope.split(" "):["editor"])o(e,t,s.run,s.preventDefault),s.shift&&o(e,"Shift-"+t,s.shift,s.preventDefault)}return n}function Ar(t,e,n,r){let i=Object(C["b"])(e),o=1==i.length&&" "!=i,s="";wr&&wr.view==n&&wr.scope==r&&(s=wr.prefix+" ",wr=null);let a=!!s,c=t=>{if(t){for(let e of t.commands)if(e(n))return!0;t.preventDefault&&(a=!0)}return!1};for(let l of t){let t,n=l[r];if(n){if(c(n[s+gr(i,e,!o)]))return!0;if(o&&(e.shiftKey||e.altKey||e.metaKey)&&(t=C["a"][e.keyCode])&&t!=i){if(c(n[s+gr(t,e,!0)]))return!0}else if(o&&e.shiftKey&&c(n[s+gr(i,e,!0)]))return!0}}return a}const kr=!I.ios,Cr=r["e"].define({combine(t){return Object(r["k"])(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});class Or{constructor(t,e,n,r,i){this.left=t,this.top=e,this.width=n,this.height=r,this.className=i}draw(){let t=document.createElement("div");return t.className=this.className,t.style.left=this.left+"px",t.style.top=this.top+"px",this.width>=0&&(t.style.width=this.width+"px"),t.style.height=this.height+"px",t}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}}De.fromClass(class{constructor(t){this.view=t,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className=jt("selectionLayer"),this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className=jt("cursorLayer"),this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Cr).cursorBlinkRate+"ms"}update(t){let e=t.prevState.facet(Cr)!=t.state.facet(Cr);(e||t.selectionSet||t.geometryChanged||t.viewportChanged)&&this.view.requestMeasure(this.measureReq),t.transactions.some(t=>t.scrollIntoView)&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:t}=this.view,e=t.facet(Cr),n=t.selection.ranges.map(t=>t.empty?[]:Tr(this.view,t)).reduce((t,e)=>t.concat(e)),r=[];for(let i of t.selection.ranges){let n=i==t.selection.primary;if(i.empty?!n||kr:e.drawRangeCursor){let t=Rr(this.view,i,n);t&&r.push(t)}}return{rangePieces:n,cursors:r}}drawSel({rangePieces:t,cursors:e}){if(t.length!=this.rangePieces.length||t.some((t,e)=>!t.eq(this.rangePieces[e]))){this.selectionLayer.textContent="";for(let e of t)this.selectionLayer.appendChild(e.draw());this.rangePieces=t}if(e.length!=this.cursors.length||e.some((t,e)=>!t.eq(this.cursors[e]))){this.cursorLayer.textContent="";for(let t of e)this.cursorLayer.appendChild(t.draw());this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}});const Mr={$content:{"& ::selection":{backgroundColor:"transparent !important"}}};kr&&(Mr.$content.caretColor="transparent !important");Object(r["l"])(sr.theme(Mr),"override");const Er=jt("selectionBackground");function Tr(t,e){if(e.to<=t.viewport.from||e.from>=t.viewport.to)return[];let n=Math.max(e.from,t.viewport.from),i=Math.min(e.to,t.viewport.to),o=t.textDirection==Ut.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),c=t.scrollDOM.getBoundingClientRect(),l=window.getComputedStyle(s.firstChild),u=a.left+parseInt(l.paddingLeft),h=a.right-parseInt(l.paddingRight),f=t.visualLineAt(n),d=t.visualLineAt(i);if(f.from==d.from)return m(g(e.from,e.to));{let t=g(e.from,null),n=g(null,e.to),r=[];return f.to<d.from-1?r.push(p(u,t.bottom,h,n.top)):t.bottom<n.top&&n.top-t.bottom<4&&(t.bottom=n.top=(t.bottom+n.top)/2),m(t).concat(r).concat(m(n))}function p(t,e,n,r){return new Or(t-c.left,e-c.top,n-t,r-e,Er)}function m({top:t,bottom:e,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(p(n[i],t,n[i+1],e));return r}function g(e,n){let i=1e9,s=-1e9,a=[];function c(e,n,r,c,l){let f=t.coordsAtPos(e,1),d=t.coordsAtPos(r,-1);i=Math.min(f.top,d.top,i),s=Math.max(f.bottom,d.bottom,s),l==Ut.LTR?a.push(o&&n?u:f.left,o&&c?h:d.right):a.push(!o&&c?u:d.left,!o&&n?h:f.right)}let l=null!==e&&void 0!==e?e:t.moveToLineBoundary(r["c"].cursor(n,1),!1).head,f=null!==n&&void 0!==n?n:t.moveToLineBoundary(r["c"].cursor(e,-1),!0).head;for(let r of t.visibleRanges)if(r.to>l&&r.from<f)for(let i=Math.max(r.from,l),o=Math.min(r.to,f);;){let r=t.state.doc.lineAt(i);for(let s of t.bidiSpans(r)){let t=s.from+r.from,a=s.to+r.from;if(t>=o)break;a>i&&c(Math.max(t,i),null==e&&t<=l,Math.min(a,o),null==n&&a>=f,s.dir)}if(i=r.to+1,i>=o)break}if(0==a.length){let e=t.coordsAtPos(l,-1);i=Math.min(e.top,i),s=Math.max(e.bottom,s)}return{top:i,bottom:s,horizontal:a}}}const _r=jt("cursor.primary"),Nr=jt("cursor.secondary");function Rr(t,e,n){let r=t.coordsAtPos(e.head,e.assoc||1);if(!r)return null;let i=t.scrollDOM.getBoundingClientRect();return new Or(r.left-i.left,r.top-i.top,-1,r.bottom-r.top,n?_r:Nr)}const Dr=/[\u0000-\u0008\u000a-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/gu,Pr={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Ir=null;function jr(){if(null==Ir&&"undefined"!=typeof document&&document.body){let t=document.body.style;Ir=null!=(t.tabSize||t.MozTabSize)}return Ir||!1}const $r=null!=/x/.unicode?"gu":"g",Lr=r["e"].define({combine(t){let e=Object(r["k"])(t,{render:null,specialChars:Dr,addSpecialChars:null});return(e.replaceTabs=!jr())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,$r)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,$r)),e}});De.fromClass(class{constructor(t){this.view=t,this.decorations=At.none,this.decorationCache=Object.create(null),this.recompute()}update(t){let e=t.prevState.facet(Lr)!=t.state.facet(Lr);e&&(this.decorationCache=Object.create(null)),(e||t.changes.length||t.viewportChanged)&&this.recompute()}recompute(){let t=[];for(let{from:e,to:n}of this.view.visibleRanges)this.getDecorationsFor(e,n,t);this.decorations=At.set(t)}getDecorationsFor(t,e,n){let r=this.view.state.facet(Lr),{doc:i}=this.view.state;for(let o,s=t,a=i.iterRange(t,e);!a.next().done;){if(!a.lineBreak)while(o=r.specialChars.exec(a.value)){let t,e=Object(k["b"])(o[0],0);if(null!=e){if(9==e){let e=i.lineAt(s+o.index),n=this.view.state.tabSize,r=Object(k["d"])(i.sliceString(e.from,s+o.index),0,n);t=At.replace({widget:new zr((n-r%n)*this.view.defaultCharacterWidth)})}else t=this.decorationCache[e]||(this.decorationCache[e]=At.replace({widget:new Vr(r,e)}));n.push(t.range(s+o.index,s+o.index+o[0].length))}}s+=a.value.length}}},{decorations:t=>t.decorations});function Br(t){return t>=32?null:10==t?"":String.fromCharCode(9216+t)}const Fr="";class Vr extends xt{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(){let t=Br(this.code)||Fr,e="Control character "+(Pr[this.code]||this.code),n=this.options.render&&this.options.render(this.code,e,t);if(n)return n;let r=document.createElement("span");return r.textContent=t,r.title=e,r.setAttribute("aria-label",e),r.style.color="red",r}ignoreEvent(){return!1}}class zr extends xt{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className=Hr,t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const Hr=i["a"].newName();sr.styleModule.of(new i["a"]({["."+Hr]:{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"}}))},ddb0:function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),s=n("9112"),a=n("b622"),c=a("iterator"),l=a("toStringTag"),u=o.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[c]!==u)try{s(d,c,u)}catch(m){d[c]=u}if(d[l]||s(d,l,h),i[h])for(var p in o)if(d[p]!==o[p])try{s(d,p,o[p])}catch(m){d[p]=o[p]}}}},df75:function(t,e,n){var r=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return r(t,i)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,r="/"===s.charAt(0))}return e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),s="/"===o(t,-1);return t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var l=[];for(c=a;c<i.length;c++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("5135"),a=n("861d"),c=n("9bf2").f,l=n("e893"),u=o.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(h[e]=!0),e};l(f,u);var d=f.prototype=u.prototype;d.constructor=f;var p=d.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=p.call(t);if(s(h,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},e163:function(t,e,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),c="Array Iterator",l=s.set,u=s.getterFor(c);t.exports=a(Array,"Array",(function(t,e){l(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(t,e,n){var r=n("6eeb");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e538:function(t,e,n){var r=n("b622");e.f=r},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e683:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6cf:function(t,e,n){"use strict";var r,i,o,s,a=n("23e7"),c=n("c430"),l=n("da84"),u=n("d066"),h=n("fea9"),f=n("6eeb"),d=n("e2cc"),p=n("d44e"),m=n("2626"),g=n("861d"),v=n("1c0b"),y=n("19aa"),b=n("c6b6"),w=n("8925"),x=n("2266"),S=n("1c7e"),A=n("4840"),k=n("2cf4").set,C=n("b575"),O=n("cdf9"),M=n("44de"),E=n("f069"),T=n("e667"),_=n("69f3"),N=n("94ca"),R=n("b622"),D=n("2d00"),P=R("species"),I="Promise",j=_.get,$=_.set,L=_.getterFor(I),B=h,F=l.TypeError,V=l.document,z=l.process,H=u("fetch"),U=E.f,W=U,q="process"==b(z),J=!!(V&&V.createEvent&&l.dispatchEvent),K="unhandledrejection",G="rejectionhandled",Y=0,X=1,Z=2,Q=1,tt=2,et=N(I,(function(){var t=w(B)!==String(B);if(!t){if(66===D)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!B.prototype["finally"])return!0;if(D>=51&&/native code/.test(B))return!1;var e=B.resolve(1),n=function(t){t((function(){}),(function(){}))},r=e.constructor={};return r[P]=n,!(e.then((function(){}))instanceof n)})),nt=et||!S((function(t){B.all(t)["catch"]((function(){}))})),rt=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},it=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;C((function(){var i=e.value,o=e.state==X,s=0;while(r.length>s){var a,c,l,u=r[s++],h=o?u.ok:u.fail,f=u.resolve,d=u.reject,p=u.domain;try{h?(o||(e.rejection===tt&&ct(t,e),e.rejection=Q),!0===h?a=i:(p&&p.enter(),a=h(i),p&&(p.exit(),l=!0)),a===u.promise?d(F("Promise-chain cycle")):(c=rt(a))?c.call(a,f,d):f(a)):d(i)}catch(m){p&&!l&&p.exit(),d(m)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&st(t,e)}))}},ot=function(t,e,n){var r,i;J?(r=V.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},(i=l["on"+t])?i(r):t===K&&M("Unhandled promise rejection",n)},st=function(t,e){k.call(l,(function(){var n,r=e.value,i=at(e);if(i&&(n=T((function(){q?z.emit("unhandledRejection",r,t):ot(K,t,r)})),e.rejection=q||at(e)?tt:Q,n.error))throw n.value}))},at=function(t){return t.rejection!==Q&&!t.parent},ct=function(t,e){k.call(l,(function(){q?z.emit("rejectionHandled",t):ot(G,t,e.value)}))},lt=function(t,e,n,r){return function(i){t(e,n,i,r)}},ut=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=Z,it(t,e,!0))},ht=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw F("Promise can't be resolved itself");var i=rt(n);i?C((function(){var r={done:!1};try{i.call(n,lt(ht,t,r,e),lt(ut,t,r,e))}catch(o){ut(t,r,o,e)}})):(e.value=n,e.state=X,it(t,e,!1))}catch(o){ut(t,{done:!1},o,e)}}};et&&(B=function(t){y(this,B,I),v(t),r.call(this);var e=j(this);try{t(lt(ht,this,e),lt(ut,this,e))}catch(n){ut(this,e,n)}},r=function(t){$(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Y,value:void 0})},r.prototype=d(B.prototype,{then:function(t,e){var n=L(this),r=U(A(this,B));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=q?z.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Y&&it(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=j(t);this.promise=t,this.resolve=lt(ht,t,e),this.reject=lt(ut,t,e)},E.f=U=function(t){return t===B||t===o?new i(t):W(t)},c||"function"!=typeof h||(s=h.prototype.then,f(h.prototype,"then",(function(t,e){var n=this;return new B((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof H&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return O(B,H.apply(l,arguments))}}))),a({global:!0,wrap:!0,forced:et},{Promise:B}),p(B,I,!1,!0),m(I),o=u(I),a({target:I,stat:!0,forced:et},{reject:function(t){var e=U(this);return e.reject.call(void 0,t),e.promise}}),a({target:I,stat:!0,forced:c||et},{resolve:function(t){return O(c&&this===o?B:this,t)}}),a({target:I,stat:!0,forced:nt},{all:function(t){var e=this,n=U(e),r=n.resolve,i=n.reject,o=T((function(){var n=v(e.resolve),o=[],s=0,a=1;x(t,(function(t){var c=s++,l=!1;o.push(void 0),a++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=U(e),r=n.reject,i=T((function(){var i=v(e.resolve);x(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(t,e,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");t.exports=function(t,e){for(var n=i(e),a=s.f,c=o.f,l=0;l<n.length;l++){var u=n[l];r(t,u)||a(t,u,c(e,u))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},e95a:function(t,e,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},f069:function(t,e,n){"use strict";var r=n("1c0b"),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},f5df:function(t,e,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=Object(t),s))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},f6b4:function(t,e,n){"use strict";var r=n("c532");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},f720:function(t,e,n){"use strict";n.d(e,"a",(function(){return Kt}));var r=n("742d"),i=n("7ae1"),o=n("dd8b"),s=n("5903");o["c"].baseTheme({$matchingBracket:{color:"#0b0"},$nonmatchingBracket:{color:"#a22"}});const a=1e4,c="()[]{}",l=r["e"].define({combine(t){return Object(r["k"])(t,{afterCursor:!0,brackets:c,maxScanDistance:a})}}),u=o["a"].mark({class:Object(o["e"])("matchingBracket")}),h=o["a"].mark({class:Object(o["e"])("nonmatchingBracket")});r["h"].define({create(){return o["a"].none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(l);for(let i of e.state.selection.ranges){if(!i.empty)continue;let t=d(e.state,i.head,-1,r)||i.head>0&&d(e.state,i.head-1,1,r)||r.afterCursor&&(d(e.state,i.head,1,r)||i.head<e.state.doc.length&&d(e.state,i.head+1,-1,r));if(!t)continue;let o=t.matched?u:h;n.push(o.range(t.start.from,t.start.to)),t.end&&n.push(o.range(t.end.from,t.end.to))}return o["a"].set(n,!0)},provide:[o["c"].decorations]});function f(t,e,n){let r=t.prop(e<0?s["a"].openedBy:s["a"].closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function d(t,e,n,r={}){let i,o=r.maxScanDistance||a,s=r.brackets||c,l=t.tree,u=l.resolve(e,n);return(i=f(u.type,n,s))?p(t,e,n,u,i,s):m(t,e,n,l,u.type,o,s)}function p(t,e,n,r,i,o){let s=r.parent,a={from:r.start,to:r.end},c=0;return s&&s.iterate({from:n<0?r.start:r.end,to:n<0?s.start:s.end,enter(t,e,s){if(!(n<0?s>r.start:e<r.end)){if(0==c&&i.indexOf(t.name)>-1)return{start:a,end:{from:e,to:s},matched:!0};if(f(t,n,o))c++;else if(f(t,-n,o)&&(c--,0==c))return{start:a,end:{from:e,to:s},matched:!1};return!1}}})||{start:a,matched:!1}}function m(t,e,n,r,i,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),c=s.indexOf(a);if(c<0||c%2==0!=n>0)return null;let l={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!u.next().done&&f<=o;){let t=u.value;n<0&&(f+=t.length);let o=e+f*n;for(let e=n>0?0:t.length-1,a=n>0?t.length:-1;e!=a;e+=n){let a=s.indexOf(t[e]);if(!(a<0||r.resolve(o+e,1).type!=i))if(a%2==0==n>0)h++;else{if(1==h)return{start:l,end:{from:o+e,to:o+e+1},matched:a>>1==c>>1};h--}}n>0&&(f+=t.length)}return u.done?{start:l,matched:!1}:null}function g(t,e){return r["c"].create(t.ranges.map(e),t.primaryIndex)}function v(t,e){return t.update({selection:e,scrollIntoView:!0,annotations:r["j"].userEvent.of("keyboardselection")})}function y({state:t,dispatch:e},n){let r=g(t.selection,n);return!r.eq(t.selection)&&(e(v(t,r)),!0)}function b(t,e){return r["c"].cursor(e?t.to:t.from)}function w(t,e){return y(t,n=>n.empty?t.moveByChar(n,e):b(n,e))}const x=t=>w(t,t.textDirection!=o["b"].LTR),S=t=>w(t,t.textDirection==o["b"].LTR);function A(t,e){return y(t,n=>n.empty?t.moveByGroup(n,e):b(n,e))}const k=t=>A(t,t.textDirection!=o["b"].LTR),C=t=>A(t,t.textDirection==o["b"].LTR),O=t=>A(t,!0),M=t=>A(t,!1);function E(t,e,n){if(e.type.prop(n))return!0;let r=e.end-e.start;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.start,e.end)))||e.firstChild}function T(t,e,n){let i=t.tree.resolve(e.head),o=n?s["a"].closedBy:s["a"].openedBy;for(let r=e.head;;){let e=n?i.childAfter(r):i.childBefore(r);if(!e)break;E(t,e,o)?i=e:r=n?e.end:e.start}let a,c,l=i.type.prop(o);return c=l&&(a=n?d(t,i.start,1):d(t,i.end,-1))&&a.matched?n?a.end.to:a.end.from:n?i.end:i.start,r["c"].cursor(c,n?-1:1)}const _=t=>y(t,e=>T(t.state,e,t.textDirection!=o["b"].LTR)),N=t=>y(t,e=>T(t.state,e,t.textDirection==o["b"].LTR));function R(t,e){return y(t,n=>n.empty?t.moveVertically(n,e):b(n,e))}const D=t=>R(t,!1),P=t=>R(t,!0);function I(t,e){return y(t,n=>n.empty?t.moveVertically(n,e,t.dom.clientHeight):b(n,e))}const j=t=>I(t,!1),$=t=>I(t,!0);function L(t,e,n){let i=t.visualLineAt(e.head),o=t.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?i.to:i.from)&&(o=t.moveToLineBoundary(e,n,!1)),!n&&o.head==i.from&&i.length){let n=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&e.head>i.from+n&&(o=r["c"].cursor(i.from+n))}return o}const B=t=>y(t,e=>L(t,e,!0)),F=t=>y(t,e=>L(t,e,!1)),V=t=>y(t,e=>r["c"].cursor(t.visualLineAt(e.head).from,1)),z=t=>y(t,e=>r["c"].cursor(t.visualLineAt(e.head).to,-1));function H(t,e,n){let i=!1,o=g(t.selection,e=>{let o=d(t,e.head,-1)||d(t,e.head,1)||e.head>0&&d(t,e.head-1,1)||e.head<t.doc.length&&d(t,e.head+1,-1);if(!o||!o.end)return e;i=!0;let s=o.start.from==e.head?o.end.to:o.end.from;return n?r["c"].range(e.anchor,s):r["c"].cursor(s)});return!!i&&(e(v(t,o)),!0)}const U=({state:t,dispatch:e})=>H(t,e,!1);function W(t,e){let n=g(t.state.selection,t=>{let n=e(t);return r["c"].range(t.anchor,n.head,n.goalColumn)});return!n.eq(t.state.selection)&&(t.dispatch(v(t.state,n)),!0)}function q(t,e){return W(t,n=>t.moveByChar(n,e))}const J=t=>q(t,t.textDirection!=o["b"].LTR),K=t=>q(t,t.textDirection==o["b"].LTR);function G(t,e){return W(t,n=>t.moveByGroup(n,e))}const Y=t=>G(t,t.textDirection!=o["b"].LTR),X=t=>G(t,t.textDirection==o["b"].LTR),Z=t=>G(t,!0),Q=t=>G(t,!1),tt=t=>W(t,e=>T(t.state,e,t.textDirection!=o["b"].LTR)),et=t=>W(t,e=>T(t.state,e,t.textDirection==o["b"].LTR));function nt(t,e){return W(t,n=>t.moveVertically(n,e))}const rt=t=>nt(t,!1),it=t=>nt(t,!0);function ot(t,e){return W(t,n=>t.moveVertically(n,e,t.dom.clientHeight))}const st=t=>ot(t,!1),at=t=>ot(t,!0),ct=t=>W(t,e=>L(t,e,!0)),lt=t=>W(t,e=>L(t,e,!1)),ut=t=>W(t,e=>r["c"].cursor(t.visualLineAt(e.head).from)),ht=t=>W(t,e=>r["c"].cursor(t.visualLineAt(e.head).to)),ft=({state:t,dispatch:e})=>(e(v(t,{anchor:0})),!0),dt=({state:t,dispatch:e})=>(e(v(t,{anchor:t.doc.length})),!0),pt=({state:t,dispatch:e})=>(e(v(t,{anchor:t.selection.primary.anchor,head:0})),!0),mt=({state:t,dispatch:e})=>(e(v(t,{anchor:t.selection.primary.anchor,head:t.doc.length})),!0),gt=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},annotations:r["j"].userEvent.of("keyboardselection")})),!0),vt=({state:t,dispatch:e})=>{let n=Nt(t).map(({from:e,to:n})=>r["c"].range(e,Math.min(n+1,t.doc.length)));return e(t.update({selection:new r["c"](n),annotations:r["j"].userEvent.of("keyboardselection")})),!0},yt=({state:t,dispatch:e})=>{let n=g(t.selection,e=>{var n;let i=t.tree.resolve(e.head,1);while(!(i.start<e.from&&i.end>=e.to||i.end>e.to&&i.start<=e.from)&&(null===(n=i.parent)||void 0===n?void 0:n.parent))i=i.parent;return r["c"].range(i.end,i.start)});return e(v(t,n)),!0},bt=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=new r["c"]([n.primary]):n.primary.empty||(i=new r["c"]([r["c"].cursor(n.primary.head)])),!!i&&(e(v(t,i)),!0)};function wt(t,e){let{state:n}=t,i=n.changeByRange(t=>{let{from:n,to:i}=t;if(n==i){let t=e(n);n=Math.min(n,t),i=Math.max(i,t)}return n==i?{range:t}:{changes:{from:n,to:i},range:r["c"].cursor(n)}});return!i.changes.empty&&(t.dispatch(i,{scrollIntoView:!0,annotations:r["j"].userEvent.of("delete")}),!0)}const xt=(t,e,n)=>wt(t,r=>{let o,s,{state:a}=t,c=a.doc.lineAt(r);if(!e&&r>c.from&&r<c.from+200&&!/[^ \t]/.test(o=c.slice(0,r-c.from))){if("\t"==o[o.length-1])return r-1;let t=Object(i["d"])(o,0,a.tabSize),e=t%a.indentUnit||a.indentUnit;for(let n=0;n<e&&" "==o[o.length-1-n];n++)r--;return r}if(n){let t=c.slice(r-c.from+(e?0:-2),r-c.from+(e?2:0)),n=t?Object(i["c"])(Object(i["b"])(t,0)):1;s=e?Math.min(a.doc.length,r+n):Math.max(0,r-n)}else s=c.findClusterBreak(r-c.from,e)+c.from;return s==r&&c.number!=(e?a.doc.lines:1)&&(s+=e?1:-1),s}),St=t=>xt(t,!1,!0),At=t=>xt(t,!1,!1),kt=t=>xt(t,!0,!1),Ct=(t,e)=>wt(t,n=>{let{state:i}=t,o=i.doc.lineAt(n),s=i.charCategorizer(n);for(let t=null;;){let a,c;if(n==(e?o.to:o.from)){if(o.number==(e?i.doc.lines:1))break;o=i.doc.line(o.number+(e?1:-1)),a=e?o.from:o.to,c="\n"}else a=o.findClusterBreak(n-o.from,e)+o.from,c=o.slice(Math.min(n,a)-o.from,Math.max(n,a)-o.from);let l=s(c);if(null!=t&&l!=t)break;l!=r["b"].Space&&(t=l),n=a}return n}),Ot=t=>Ct(t,!1),Mt=t=>Ct(t,!0),Et=t=>wt(t,e=>{let n=t.visualLineAt(e).to;return e<n?n:Math.max(t.state.doc.length,e+1)}),Tt=({state:t,dispatch:e})=>{let n=t.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:i["a"].of(["",""])},range:r["c"].cursor(t.from)}));return e(t.update(n,{scrollIntoView:!0,annotations:r["j"].userEvent.of("input")})),!0},_t=({state:t,dispatch:e})=>{let n=t.changeByRange(e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,i=t.doc.lineAt(n),o=n==i.from?n-1:i.findClusterBreak(n-i.from,!1)+i.from,s=n==i.to?n+1:i.findClusterBreak(n-i.from,!0)+i.from;return{changes:{from:o,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(o,n))},range:r["c"].cursor(s)}});return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0})),!0)};function Nt(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);n==i.number?e[e.length-1].to=o.to:e.push({from:i.from,to:o.to}),n=o.number}return e}function Rt(t,e,n){let r=[];for(let i of Nt(t)){if(n?i.to==t.doc.length:0==i.from)continue;let e=t.doc.lineAt(n?i.to+1:i.from-1);n?r.push({from:i.to,to:e.to},{from:i.from,insert:e.slice()+t.lineBreak}):r.push({from:e.from,to:i.from},{from:i.to,insert:t.lineBreak+e.slice()})}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0})),!0)}const Dt=({state:t,dispatch:e})=>Rt(t,e,!1),Pt=({state:t,dispatch:e})=>Rt(t,e,!0);function It(t,e,n){let r=[];for(let i of Nt(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0})),!0}const jt=({state:t,dispatch:e})=>It(t,e,!1),$t=({state:t,dispatch:e})=>It(t,e,!0),Lt=t=>{let{state:e}=t,n=e.changes(Nt(e).map(({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n}))),r=g(e.selection,e=>t.moveVertically(e,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0}),!0};function Bt(t,e){for(let n of t.state.facet(r["d"].indentation)){let r=n(t,e);if(r>-1)return r}return-1}function Ft(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=t.tree.resolve(e),i=r.childBefore(e),o=r.childAfter(e);return i&&o&&i.end<=e&&o.start>=e&&(n=i.type.prop(s["a"].closedBy))&&n.indexOf(o.name)>-1?{from:i.end,to:o.start}:null}const Vt=({state:t,dispatch:e})=>{let n=t.changeByRange(({from:e,to:n})=>{let o=e==n&&Ft(t,e),s=new r["f"](t,{simulateBreak:e,simulateDoubleBreak:!!o}),a=Bt(s,e);a<0&&(a=/^\s*/.exec(t.doc.lineAt(e).slice(0,50))[0].length);let c=t.doc.lineAt(e);while(n<c.to&&/\s/.test(c.slice(n-c.from,n+1-c.from)))n++;o?({from:e,to:n}=o):e>c.from&&e<c.from+100&&!/\S/.test(c.slice(0,e))&&(e=c.from);let l=["",t.indentString(a)];return o&&l.push(t.indentString(s.lineIndent(c))),{changes:{from:e,to:n,insert:i["a"].of(l)},range:r["c"].cursor(e+1+a)}});return e(t.update(n,{scrollIntoView:!0})),!0};function zt(t,e){let n=-1;return t.changeByRange(i=>{let o=[];for(let r=t.doc.lineAt(i.from);;){if(r.number>n&&(e(r,o,i),n=r.number),i.to<=r.to)break;r=t.doc.lineAt(r.to+1)}let s=t.changes(o);return{changes:o,range:r["c"].range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const Ht=({state:t,dispatch:e})=>{let n=Object.create(null),i=new r["f"](t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),o=zt(t,(e,r,o)=>{let s=Bt(i,e.from);if(s<0)return;let a=/^\s*/.exec(e.slice(0,Math.min(e.length,200)))[0],c=t.indentString(s);(a!=c||o.from<e.from+a.length)&&(n[e.from]=s,r.push({from:e.from,to:e.from+a.length,insert:c}))});return o.changes.empty||e(t.update(o)),!0},Ut=({state:t,dispatch:e})=>(e(t.update(zt(t,(e,n)=>{n.push({from:e.from,insert:t.facet(r["d"].indentUnit)})}))),!0),Wt=({state:t,dispatch:e})=>(e(t.update(zt(t,(e,n)=>{let r=e.slice(0,Math.min(e.length,200)),o=/^\s*/.exec(r)[0];if(!o)return;let s=Object(i["d"])(o,0,t.tabSize),a=t.indentString(Math.max(0,s-t.indentUnit)),c=0;while(c<o.length&&c<a.length&&o.charCodeAt(c)==a.charCodeAt(c))c++;n.push({from:e.from+c,to:e.from+o.length,insert:a.slice(c)})}))),!0),qt=[{key:"Ctrl-b",run:x,shift:J},{key:"Ctrl-f",run:S,shift:K},{key:"Ctrl-p",run:D,shift:rt},{key:"Ctrl-n",run:P,shift:it},{key:"Ctrl-a",run:V,shift:ut},{key:"Ctrl-e",run:z,shift:ht},{key:"Ctrl-d",run:kt},{key:"Ctrl-h",run:At},{key:"Ctrl-k",run:Et},{key:"Alt-d",run:Mt},{key:"Ctrl-Alt-h",run:Ot},{key:"Ctrl-o",run:Tt},{key:"Ctrl-t",run:_t},{key:"Alt-f",run:O,shift:Z},{key:"Alt-b",run:M,shift:Q},{key:"Alt-<",run:ft},{key:"Alt->",run:dt},{key:"Ctrl-v",run:$},{key:"Alt-v",run:j}],Jt=[{key:"ArrowLeft",run:x,shift:J},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:k,shift:Y},{mac:"Cmd-ArrowLeft",run:V,shift:ut},{key:"ArrowRight",run:S,shift:K},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:C,shift:X},{mac:"Cmd-ArrowRight",run:z,shift:ht},{key:"ArrowUp",run:D,shift:rt},{mac:"Cmd-ArrowUp",run:ft,shift:pt},{mac:"Ctrl-ArrowUp",run:j,shift:st},{key:"ArrowDown",run:P,shift:it},{mac:"Cmd-ArrowDown",run:dt,shift:mt},{mac:"Ctrl-ArrowDown",run:$,shift:at},{key:"PageUp",run:j,shift:st},{key:"PageDown",run:$,shift:at},{key:"Home",run:F,shift:lt},{key:"Mod-Home",run:ft,shift:pt},{key:"End",run:B,shift:ct},{key:"Mod-End",run:dt,shift:mt},{key:"Enter",run:Vt},{key:"Mod-a",run:gt},{key:"Backspace",run:St},{key:"Delete",run:kt},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ot},{key:"Mod-Delete",mac:"Alt-Delete",run:Mt}].concat(qt.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Kt=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:_,shift:tt},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:N,shift:et},{key:"Alt-ArrowUp",run:Dt},{key:"Shift-Alt-ArrowUp",run:jt},{key:"Alt-ArrowDown",run:Pt},{key:"Shift-Alt-ArrowDown",run:$t},{key:"Escape",run:bt},{key:"Mod-l",run:vt},{key:"Mod-i",run:yt},{key:"Mod-[",run:Wt},{key:"Mod-]",run:Ut},{key:"Mod-Alt-\\",run:Ht},{key:"Shift-Mod-k",run:Lt},{key:"Shift-Mod-\\",run:U}].concat(Jt)},f772:function(t,e,n){var r=n("5692"),i=n("90e3"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},fb6a:function(t,e,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),s=n("23cb"),a=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("b622"),h=n("1dde"),f=n("ae40"),d=h("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var n,r,u,h=c(this),f=a(h.length),d=s(t,f),p=s(void 0===e?f:e,f);if(o(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return g.call(h,d,p);for(r=new(void 0===n?Array:n)(v(p-d,0)),u=0;d<p;d++,u++)d in h&&l(r,u,h[d]);return r.length=u,r}})},fc6a:function(t,e,n){var r=n("44ad"),i=n("1d80");t.exports=function(t){return r(i(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var r=n("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,n){var r=n("da84");t.exports=r.Promise}}]);
//# sourceMappingURL=chunk-vendors.js.map